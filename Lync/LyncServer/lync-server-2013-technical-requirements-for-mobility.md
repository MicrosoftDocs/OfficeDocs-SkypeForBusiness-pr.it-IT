---
title: 'Lync Server 2013: requisiti tecnici per i dispositivi mobili'
ms.reviewer: ''
ms.author: v-lanac
author: lanachin
f1.keywords:
- NOCSH
TOCTitle: Technical requirements for mobility
ms:assetid: 831be681-4de0-4e42-b04f-8879ca4dcd23
ms:mtpsurl: https://technet.microsoft.com/en-us/library/Hh690030(v=OCS.15)
ms:contentKeyID: 48184679
ms.date: 07/24/2014
manager: serdars
mtps_version: v=OCS.15
ms.openlocfilehash: 9628248922742ce46037c94f8257823e4484d168
ms.sourcegitcommit: 831d141dfc5a49dd764cb296b73b63e5a9f8e599
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 02/21/2020
ms.locfileid: "42194839"
---
<div data-xmlns="http://www.w3.org/1999/xhtml">

<div class="topic" data-xmlns="http://www.w3.org/1999/xhtml" data-msxsl="urn:schemas-microsoft-com:xslt" data-cs="https://msdn.microsoft.com/">

<div data-asp="https://msdn2.microsoft.com/asp">

# <a name="technical-requirements-for-mobility-in-lync-server-2013"></a><span data-ttu-id="63a2a-102">Requisiti tecnici per i dispositivi mobili in Lync Server 2013</span><span class="sxs-lookup"><span data-stu-id="63a2a-102">Technical requirements for mobility in Lync Server 2013</span></span>

</div>

<div id="mainSection">

<div id="mainBody">

<span> </span>

<span data-ttu-id="63a2a-103">_**Ultimo argomento modificato:** 2014-07-24_</span><span class="sxs-lookup"><span data-stu-id="63a2a-103">_**Topic Last Modified:** 2014-07-24_</span></span>

    Some information in this topic pertains to Cumulative Updates for Lync Server 2013: February 2013.

<span data-ttu-id="63a2a-104">Gli utenti di dispositivi mobili hanno a che fare con diversi scenari di applicazioni per dispositivi mobili che richiedono una pianificazione speciale.</span><span class="sxs-lookup"><span data-stu-id="63a2a-104">Mobile users encounter various mobile application scenarios that require special planning.</span></span> <span data-ttu-id="63a2a-105">Ad esempio, qualcuno potrebbe iniziare a utilizzare un'applicazione per dispositivi mobili mentre è lontano dal lavoro collegandosi tramite la rete 3G, quindi passare alla rete Wi-Fi aziendale quando arriva al lavoro e quindi tornare a 3G quando si esce dall'edificio.</span><span class="sxs-lookup"><span data-stu-id="63a2a-105">For example, someone might start using a mobile application while away from work by connecting through the 3G network, then switch to the corporate Wi-Fi network when arriving at work, and then switch back to 3G when leaving the building.</span></span> <span data-ttu-id="63a2a-106">È necessario pianificare l'ambiente per supportare tali transizioni di rete e garantire un'esperienza utente coerente.</span><span class="sxs-lookup"><span data-stu-id="63a2a-106">You need to plan your environment to support such network transitions and guarantee a consistent user experience.</span></span> <span data-ttu-id="63a2a-107">In questa sezione vengono descritti i requisiti dell'infrastruttura necessari per supportare le applicazioni mobili e l'individuazione automatica delle risorse mobili.</span><span class="sxs-lookup"><span data-stu-id="63a2a-107">This section describes the infrastructure requirements that you must have in order to support mobile applications and automatic discovery of mobility resources.</span></span>

<div>


> [!NOTE]  
> <span data-ttu-id="63a2a-108">Anche se le applicazioni mobili possono connettersi ad altri servizi di Lync Server 2013, il requisito di inviare tutte le richieste Web dell'applicazione per dispositivi mobili allo stesso nome di dominio completo (FQDN) del sito Web esterno è valido solo per il servizio per dispositivi mobili di Lync Server 2013.</span><span class="sxs-lookup"><span data-stu-id="63a2a-108">Although mobile applications can also connect to other Lync Server 2013 services, the requirement to send all mobile application web requests to the same external web fully qualified domain name (FQDN) applies only to the Lync Server 2013 Mobility Service.</span></span> <span data-ttu-id="63a2a-109">Altri servizi per dispositivi mobili non richiedono questa configurazione.</span><span class="sxs-lookup"><span data-stu-id="63a2a-109">Other mobility services do not require this configuration.</span></span>



</div>

<span data-ttu-id="63a2a-110">Il requisito dell'affinità dei cookie nei dispositivi di bilanciamento del carico hardware è ridotto drasticamente e si sostituisce l'affinità TCP (Transmission Control Protocol) se si utilizza Lync mobile recapitato con Lync Server 2013.</span><span class="sxs-lookup"><span data-stu-id="63a2a-110">The requirement for cookie affinity in hardware load balancers is dramatically reduced, and you substitute Transmission Control Protocol (TCP) affinity if you are using the Lync Mobile delivered with Lync Server 2013.</span></span> <span data-ttu-id="63a2a-111">È comunque possibile utilizzare l'affinità dei cookie, ma non è più necessario per i servizi Web.</span><span class="sxs-lookup"><span data-stu-id="63a2a-111">Cookie affinity can still be used, but the web services no longer require it.</span></span>

<div>


> [!IMPORTANT]  
> <span data-ttu-id="63a2a-112">Tutto il traffico del servizio per dispositivi mobili passa attraverso il proxy inverso, indipendentemente dalla posizione in cui si trova il punto di origine, ovvero interno o esterno.</span><span class="sxs-lookup"><span data-stu-id="63a2a-112">All Mobility Service traffic goes through the reverse proxy, regardless of where the origination point is—internal or external.</span></span> <span data-ttu-id="63a2a-113">Nel caso di un singolo proxy inverso o di una farm di proxy inversi oppure di un dispositivo che fornisce la funzione proxy inverso, è possibile che si verifichi un problema quando il traffico interno viene egressing tramite un'interfaccia e si tenta di eseguire immediatamente l'ingresso sulla stessa interfaccia.</span><span class="sxs-lookup"><span data-stu-id="63a2a-113">In the case of a single reverse proxy or a farm of reverse proxies, or a device that is providing the reverse proxy function, an issue can arise when the internal traffic is egressing through an interface and attempting to immediately ingress on the same interface.</span></span> <span data-ttu-id="63a2a-114">Questo porta spesso a una violazione della regola di sicurezza nota come spoofing del pacchetto TCP o solo spoofing.</span><span class="sxs-lookup"><span data-stu-id="63a2a-114">This often leads to a Security rule violation known as TCP packet spoofing or just spoofing.</span></span> <span data-ttu-id="63a2a-115">Il <EM>blocco dei capelli</EM> (l'uscita e l'ingresso immediato di un pacchetto o di una serie di pacchetti) deve essere consentito affinché i dispositivi mobili funzionino.</span><span class="sxs-lookup"><span data-stu-id="63a2a-115"><EM>Hair pinning</EM> (the egress and immediate ingress of a packet or series of packets) must be allowed in order for mobility to function.</span></span> <span data-ttu-id="63a2a-116">Un modo per risolvere il problema consiste nell'utilizzare un proxy inverso separato dal firewall (la regola di prevenzione dello spoofing dovrebbe essere sempre applicata al firewall, per motivi di sicurezza).</span><span class="sxs-lookup"><span data-stu-id="63a2a-116">One way to resolve this issue is to use a reverse proxy that is separate from the firewall (the spoofing prevention rule should always be enforced at the firewall, for security purposes).</span></span> <span data-ttu-id="63a2a-117">La tornante può verificarsi all'interfaccia esterna del proxy inverso anziché all'interfaccia esterna del firewall.</span><span class="sxs-lookup"><span data-stu-id="63a2a-117">The hairpin can occur at the external interface of the reverse proxy instead of the firewall external interface.</span></span> <span data-ttu-id="63a2a-118">È possibile rilevare lo spoofing sul firewall e rilassare la regola nel proxy inverso, consentendo in tal modo la forcella che richiede la mobilità.</span><span class="sxs-lookup"><span data-stu-id="63a2a-118">You detect the spoofing at the firewall, and relax the rule at the reverse proxy, thereby allowing the hairpin that mobility requires.</span></span><BR><span data-ttu-id="63a2a-119">Utilizzare l'host DNS (Domain Name System) o i record CNAME per definire il proxy inverso per il comportamento dei tornanti (non il firewall), se possibile.</span><span class="sxs-lookup"><span data-stu-id="63a2a-119">Use the Domain Name System (DNS) host or CNAME records to define the reverse proxy for the hairpin behavior (not the firewall), if at all possible.</span></span>



</div>

<span data-ttu-id="63a2a-120">Lync Server 2013 supporta i servizi per dispositivi mobili per i client di Lync 2010 mobile e Lync 2013 mobile.</span><span class="sxs-lookup"><span data-stu-id="63a2a-120">Lync Server 2013 supports mobility services for Lync 2010 Mobile and Lync 2013 mobile clients.</span></span> <span data-ttu-id="63a2a-121">Entrambi i client utilizzano il servizio di individuazione automatica di Lync Server 2013 per individuare il punto di ingresso per dispositivi mobili, ma differiscono per il servizio per dispositivi mobili che utilizzano.</span><span class="sxs-lookup"><span data-stu-id="63a2a-121">Both clients use the Lync Server 2013 Autodiscover Service to find its mobility entry point, but differ on which mobility service they use.</span></span> <span data-ttu-id="63a2a-122">Lync 2010 Mobile utilizza il servizio per dispositivi mobili noto come *MCX*, introdotto con l'aggiornamento cumulativo per lync Server 2010: novembre 2011.</span><span class="sxs-lookup"><span data-stu-id="63a2a-122">Lync 2010 Mobile uses the Mobility Service known as *Mcx*, introduced with the Cumulative Update for Lync Server 2010: November 2011.</span></span> <span data-ttu-id="63a2a-123">I client per dispositivi mobili Lync 2013 utilizzano l'API Web Unified Communications o *UCWA*, come provider del servizio di mobilità.</span><span class="sxs-lookup"><span data-stu-id="63a2a-123">Lync 2013 mobile clients use the Unified Communications Web API, or *UCWA*, as their mobility service provider.</span></span>

<div>

## <a name="internal-and-external-dns-configuration"></a><span data-ttu-id="63a2a-124">Configurazione del DNS interno ed esterno</span><span class="sxs-lookup"><span data-stu-id="63a2a-124">Internal and External DNS Configuration</span></span>

<span data-ttu-id="63a2a-125">I servizi per dispositivi mobili MCX (introdotti con l'aggiornamento cumulativo per Lync Server 2010: novembre 2011) e UCWA (introdotti negli aggiornamenti cumulativi per Lync Server 2013: febbraio 2013) usano DNS nello stesso modo.</span><span class="sxs-lookup"><span data-stu-id="63a2a-125">The Mobility Services Mcx (introduced with the Cumulative Update for Lync Server 2010: November 2011) and UCWA (introduced in the Cumulative Updates for Lync Server 2013: February 2013) use DNS in the same way.</span></span>

<span data-ttu-id="63a2a-126">Quando si utilizza il servizio di individuazione automatica, i dispositivi mobili utilizzano DNS per individuare le risorse.</span><span class="sxs-lookup"><span data-stu-id="63a2a-126">When you use Automatic Discovery, mobile devices use DNS to locate resources.</span></span> <span data-ttu-id="63a2a-127">Durante la ricerca DNS, viene innanzitutto tentata una connessione al nome di dominio completo associato al record DNS interno (lyncdiscoverinternal.\< nome\>di dominio interno).</span><span class="sxs-lookup"><span data-stu-id="63a2a-127">During the DNS lookup, a connection is first attempted to the FQDN that is associated with the internal DNS record (lyncdiscoverinternal.\<internal domain name\>).</span></span> <span data-ttu-id="63a2a-128">Se non è possibile effettuare una connessione utilizzando il record DNS interno, viene tentata una connessione utilizzando il record DNS esterno (lyncdiscover.\< SipDomain\>).</span><span class="sxs-lookup"><span data-stu-id="63a2a-128">If a connection cannot be made by using the internal DNS record, a connection is attempted by using the external DNS record (lyncdiscover.\<sipdomain\>).</span></span> <span data-ttu-id="63a2a-129">Un dispositivo mobile interno alla rete si connette all'URL interno del servizio di individuazione automatica, mentre un dispositivo mobile esterno alla rete si connette all'URL esterno del servizio di individuazione automatica.</span><span class="sxs-lookup"><span data-stu-id="63a2a-129">A mobile device that is internal to the network connects to the internal Autodiscover Service URL, and a mobile device that is external to the network connects to the external Autodiscover Service URL.</span></span> <span data-ttu-id="63a2a-130">Le richieste di individuazione automatica esterne passano attraverso il proxy inverso.</span><span class="sxs-lookup"><span data-stu-id="63a2a-130">External Autodiscover requests go through the reverse proxy.</span></span> <span data-ttu-id="63a2a-131">Il servizio di individuazione automatica di Lync Server 2013 restituisce tutti gli URL dei servizi Web per il pool di Home dell'utente, inclusi gli URL del servizio per dispositivi mobili (MCX e UCWA).</span><span class="sxs-lookup"><span data-stu-id="63a2a-131">The Lync Server 2013 Autodiscover Service returns all Web Services URLs for the user's home pool, including the Mobility Service (Mcx and UCWA) URLs.</span></span> <span data-ttu-id="63a2a-132">Sia l'URL interno che quello esterno del servizio per dispositivi mobili, tuttavia, sono associati al nome FQDN esterno dei servizi Web.</span><span class="sxs-lookup"><span data-stu-id="63a2a-132">However, both the internal Mobility Service URL and the external Mobility Service URL are associated with the external Web Services FQDN.</span></span> <span data-ttu-id="63a2a-133">Pertanto, indipendentemente dal fatto che un dispositivo mobile sia interno o esterno alla rete, il dispositivo si connette sempre al servizio per dispositivi mobili Lync Server 2013 esternamente tramite il proxy inverso.</span><span class="sxs-lookup"><span data-stu-id="63a2a-133">Therefore, regardless of whether a mobile device is internal or external to the network, the device always connects to the Lync Server 2013 Mobility Service externally through the reverse proxy.</span></span>

<div>


> [!NOTE]  
> <span data-ttu-id="63a2a-134">È importante comprendere che la distribuzione può essere costituita da più spazi dei nomi distinti per l'utilizzo interno ed esterno.</span><span class="sxs-lookup"><span data-stu-id="63a2a-134">It is important to understand that your deployment can consist of multiple distinct namespaces for internal and external use.</span></span> <span data-ttu-id="63a2a-135">Il nome di dominio SIP potrebbe essere diverso dal nome di dominio di distribuzione interno.</span><span class="sxs-lookup"><span data-stu-id="63a2a-135">Your SIP domain name may be different than the internal deployment domain name.</span></span> <span data-ttu-id="63a2a-136">Ad esempio, il dominio SIP potrebbe essere <STRONG>contoso.com</STRONG>, mentre la distribuzione interna potrebbe essere <STRONG>contoso.NET</STRONG>.</span><span class="sxs-lookup"><span data-stu-id="63a2a-136">For example, your SIP domain may be <STRONG>contoso.com</STRONG>, while your internal deployment may be <STRONG>contoso.net</STRONG>.</span></span> <span data-ttu-id="63a2a-137">Gli utenti che accedono a Lync Server utilizzeranno il nome di dominio SIP, ad esempio <STRONG>John@contoso.com</STRONG>.</span><span class="sxs-lookup"><span data-stu-id="63a2a-137">Users who log in to Lync Server will use the SIP domain name, such as <STRONG>john@contoso.com</STRONG>.</span></span> <span data-ttu-id="63a2a-138">Quando si indirizzano i servizi Web esterni (definiti in Generatore di topologie come <STRONG>servizi Web esterni</STRONG>), il nome di dominio e il nome di dominio SIP saranno coerenti, come definito in DNS.</span><span class="sxs-lookup"><span data-stu-id="63a2a-138">When addressing the external web services (defined in Topology Builder as <STRONG>External web services</STRONG>), the domain name and the SIP domain name will be consistent, as defined in DNS.</span></span> <span data-ttu-id="63a2a-139">Quando si indirizzano i servizi Web interni (definiti in Generatore di topologie come <STRONG>servizi Web interni</STRONG>), il nome predefinito dei servizi Web interni sarà l'FQDN del server front end, del pool Front End, del Director o del pool di Director.</span><span class="sxs-lookup"><span data-stu-id="63a2a-139">When addressing the internal Web services (defined in Topology Builder as <STRONG>Internal web services</STRONG>), the default name of the internal web services will be the FQDN of the Front End Server, Front End pool, Director, or Director pool.</span></span> <span data-ttu-id="63a2a-140">È possibile eseguire l'override del nome dei servizi Web interni.</span><span class="sxs-lookup"><span data-stu-id="63a2a-140">You have the option to override the internal web services name.</span></span> <span data-ttu-id="63a2a-141">È consigliabile utilizzare il nome di dominio interno (e non il nome di dominio SIP) per i servizi Web interni e definire il record host DNS a (o, per IPv6, AAAA) per riflettere il nome sottoposto a override.</span><span class="sxs-lookup"><span data-stu-id="63a2a-141">You should use the internal domain name (and not the SIP domain name) for internal web services and define the DNS host A (or, for IPv6, AAAA) record to reflect the overridden name.</span></span> <span data-ttu-id="63a2a-142">Ad esempio, l'FQDN dei servizi Web interni predefiniti potrebbe essere <STRONG>pool01.contoso.NET</STRONG>.</span><span class="sxs-lookup"><span data-stu-id="63a2a-142">For example, the default internal web services FQDN may be <STRONG>pool01.contoso.net</STRONG>.</span></span> <span data-ttu-id="63a2a-143">Un FQDN dei servizi Web interni sottoposti a override potrebbe essere <STRONG>webpool.contoso.NET</STRONG>.</span><span class="sxs-lookup"><span data-stu-id="63a2a-143">An overridden internal web services FQDN may be <STRONG>webpool.contoso.net</STRONG>.</span></span> <span data-ttu-id="63a2a-144">La definizione dei servizi Web in questo modo consente di garantire che la località interna ed esterna dei servizi, e non la località dell'utente che li utilizza, sia osservata.</span><span class="sxs-lookup"><span data-stu-id="63a2a-144">Defining the web services in this way helps to ensure that the internal and external locality of the services—and not the locality of the user who is using them—is observed.</span></span><BR><span data-ttu-id="63a2a-145">Tuttavia, poiché i servizi Web sono definiti in Generatore di topologie e il nome dei servizi Web interni può essere ignorato, purché il nome dei servizi Web risultante, il certificato che la convalida e i record DNS che lo definiscono, siano coerenti, è possibile definire il Servizi Web interni con qualsiasi nome di dominio, incluso il nome di dominio SIP, che si desidera.</span><span class="sxs-lookup"><span data-stu-id="63a2a-145">However, because the web services are defined in Topology Builder and the internal web services name can be overridden, as long as the resulting web services name, the certificate that validates it, and the DNS records that define it, are consistent, you can define the internal web services with any domain name—including the SIP domain name—that you want.</span></span> <span data-ttu-id="63a2a-146">Infine, la risoluzione per il nome dell'indirizzo IP è determinata dai record host DNS e da uno spazio dei nomi coerente.</span><span class="sxs-lookup"><span data-stu-id="63a2a-146">Ultimately, the resolution for the name to the IP address is determined by DNS host records and a consistent namespace.</span></span><BR><span data-ttu-id="63a2a-147">Ai fini di questo argomento e degli esempi, il nome di dominio interno viene utilizzato per illustrare la topologia e le definizioni DNS.</span><span class="sxs-lookup"><span data-stu-id="63a2a-147">For the purposes of this topic and the examples, the internal domain name is used to illustrate the topology and the DNS definitions.</span></span>



</div>

<span data-ttu-id="63a2a-148">Nel diagramma seguente viene illustrato il flusso delle richieste Web dell'applicazione mobile per il servizio per dispositivi mobili e il servizio di individuazione automatica quando si utilizza una configurazione DNS interna ed esterna.</span><span class="sxs-lookup"><span data-stu-id="63a2a-148">The following diagram illustrates the flow of mobile application web requests for the Mobility Service and for the Autodiscover Service when using an internal and external DNS configuration.</span></span>

<span data-ttu-id="63a2a-149">**Flusso del servizio per dispositivi mobili tramite individuazione automatica**</span><span class="sxs-lookup"><span data-stu-id="63a2a-149">**Mobility service flow using AutoDiscover**</span></span>

<span data-ttu-id="63a2a-150">![cdb96424-96f2-4abf-88d7-1d32d1010ffd](images/Hh690030.cdb96424-96f2-4abf-88d7-1d32d1010ffd(OCS.15).jpg "cdb96424-96f2-4abf-88d7-1d32d1010ffd")</span><span class="sxs-lookup"><span data-stu-id="63a2a-150">![cdb96424-96f2-4abf-88d7-1d32d1010ffd](images/Hh690030.cdb96424-96f2-4abf-88d7-1d32d1010ffd(OCS.15).jpg "cdb96424-96f2-4abf-88d7-1d32d1010ffd")</span></span>

<div>


> [!NOTE]  
> <span data-ttu-id="63a2a-151">Nel diagramma sono illustrati i servizi Web generici.</span><span class="sxs-lookup"><span data-stu-id="63a2a-151">The diagram illustrates generic web services.</span></span> <span data-ttu-id="63a2a-152">Una directory virtuale denominata Mobility descrive i servizi per dispositivi mobili MCX e/o UCWA.</span><span class="sxs-lookup"><span data-stu-id="63a2a-152">A virtual directory named Mobility depicts the Mobility services Mcx and/or UCWA.</span></span> <span data-ttu-id="63a2a-153">Se non sono stati applicati gli aggiornamenti cumulativi per Lync Server 2013: febbraio 2013, è possibile che la directory virtuale UCWA sia definita nei servizi Web interni ed esterni.</span><span class="sxs-lookup"><span data-stu-id="63a2a-153">If you have not applied the Cumulative Updates for Lync Server 2013: February 2013, you may or may not have the virtual directory Ucwa defined on your internal and external Web services.</span></span> <span data-ttu-id="63a2a-154">Si avrà una directory virtuale di individuazione automatica e potrebbe essere presente una directory virtuale MCX.</span><span class="sxs-lookup"><span data-stu-id="63a2a-154">You will have a virtual directory Autodiscover, and you may have a virtual directory Mcx.</span></span><BR><span data-ttu-id="63a2a-155">La funzionalità di individuazione automatica e la ricerca dei servizi funzionano allo stesso modo, indipendentemente dalla tecnologia dei servizi per dispositivi mobili distribuita.</span><span class="sxs-lookup"><span data-stu-id="63a2a-155">Autodiscover and the discovery of services work the same way, regardless of the mobility services technology that you have deployed.</span></span>



</div>

<span data-ttu-id="63a2a-p110">Per supportare gli utenti mobili sia all'interno che all'esterno della rete aziendale, i nomi FQDN Web interni ed esterni devono soddisfare alcuni requisiti. È inoltre necessario che vengano soddisfatti altri requisiti, a seconda delle caratteristiche che si sceglie di implementare:</span><span class="sxs-lookup"><span data-stu-id="63a2a-p110">To support mobile users from both inside and outside the corporate network, your internal and external web FQDNs must meet some prerequisites. In addition, you may need to meet other requirements, depending on the features you choose to implement:</span></span>

  - <span data-ttu-id="63a2a-158">Nuovi record DNS, CNAME o A (host, se IPv6, AAAA) per l'individuazione automatica.</span><span class="sxs-lookup"><span data-stu-id="63a2a-158">New DNS, CNAME or A (host, if IPv6, AAAA) records, for automatic discovery.</span></span>

  - <span data-ttu-id="63a2a-159">Nuova regola del firewall, se si desidera supportare le notifiche push tramite la rete Wi-Fi.</span><span class="sxs-lookup"><span data-stu-id="63a2a-159">New firewall rule, if you want to support push notifications through your Wi-Fi network.</span></span>

  - <span data-ttu-id="63a2a-160">Nomi alternativi del soggetto sui certificati del server interno e sui certificati del proxy inverso, per l'individuazione automatica.</span><span class="sxs-lookup"><span data-stu-id="63a2a-160">Subject alternative names on internal server certificates and reverse proxy certificates, for automatic discovery.</span></span>

  - <span data-ttu-id="63a2a-161">La configurazione del bilanciamento del carico hardware front end server cambia l'affinità di origine.</span><span class="sxs-lookup"><span data-stu-id="63a2a-161">Front End Server hardware load balancer configuration changes source affinity.</span></span>

<span data-ttu-id="63a2a-162">La topologia deve soddisfare i requisiti seguenti per supportare il servizio per dispositivi mobili e il servizio di individuazione automatica:</span><span class="sxs-lookup"><span data-stu-id="63a2a-162">Your topology must meet the following requirements to support the Mobility Service and the Autodiscover Service:</span></span>

  - <span data-ttu-id="63a2a-163">Il nome FQDN Web interno del pool Front end deve essere diverso dal nome FQDN Web esterno del pool Front end.</span><span class="sxs-lookup"><span data-stu-id="63a2a-163">The Front End pool internal web FQDN must be distinct from the Front End pool external web FQDN.</span></span>

  - <span data-ttu-id="63a2a-164">Il nome FQDN Web interno deve essere risolto solo all'interno della rete aziendale ed essere accessibile solo da tale posizione.</span><span class="sxs-lookup"><span data-stu-id="63a2a-164">The internal web FQDN must only resolve to and be accessible from inside the corporate network.</span></span>

  - <span data-ttu-id="63a2a-165">Il nome FQDN Web esterno deve essere risolto solo per essere accessibile da Internet.</span><span class="sxs-lookup"><span data-stu-id="63a2a-165">The external web FQDN must only resolve to and be accessible from the Internet.</span></span>

  - <span data-ttu-id="63a2a-p111">Per un utente che si trova all'interno della rete aziendale, l'URL del servizio per dispositivi mobili deve essere indirizzato al nome FQDN Web esterno. Questo requisito riguarda il servizio per dispositivi mobili e si applica solo a questo URL.</span><span class="sxs-lookup"><span data-stu-id="63a2a-p111">For a user who is inside the corporate network, the Mobility Service URL must be addressed to the external web FQDN. This requirement is for the Mobility Service and applies only to this URL.</span></span>

  - <span data-ttu-id="63a2a-168">Per un utente che si trova all'esterno della rete aziendale, la richiesta deve passare all'FQDN Web esterno del pool Front end o del server Director.</span><span class="sxs-lookup"><span data-stu-id="63a2a-168">For a user who is outside the corporate network, the request must go to the external web FQDN of the Front End pool or Director.</span></span>

<span data-ttu-id="63a2a-169">Se l'individuazione automatica è supportata, è necessario creare i record DNS seguenti per ogni dominio SIP:</span><span class="sxs-lookup"><span data-stu-id="63a2a-169">If you support automatic discovery, you need to create the following DNS records for each SIP domain:</span></span>

  - <span data-ttu-id="63a2a-170">Un record DNS interno per supportare gli utenti di dispositivi mobili che si connettono dall'interno della rete dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="63a2a-170">An internal DNS record to support mobile users who connect from within your organization's network.</span></span>

  - <span data-ttu-id="63a2a-171">Un record DNS esterno, o pubblico, per supportare gli utenti di dispositivi mobili che si connettono da Internet.</span><span class="sxs-lookup"><span data-stu-id="63a2a-171">An external, or public, DNS record to support mobile users who connect from the Internet.</span></span>

<span data-ttu-id="63a2a-172">L'URL interno di individuazione automatica non deve essere raggiungibile dall'esterno della rete.</span><span class="sxs-lookup"><span data-stu-id="63a2a-172">The internal automatic discovery URL should not be addressable from outside your network.</span></span> <span data-ttu-id="63a2a-173">L'URL esterno di individuazione automatica non deve essere raggiungibile dall'interno della rete.</span><span class="sxs-lookup"><span data-stu-id="63a2a-173">The external automatic discovery URL should not be addressable from within your network.</span></span> <span data-ttu-id="63a2a-174">Tuttavia, se non è possibile rispettare questo requisito per l'URL esterno, il client per dispositivi mobili probabilmente non verrà influenzato, poiché l'URL interno viene sempre provato per primo.</span><span class="sxs-lookup"><span data-stu-id="63a2a-174">However, if you cannot meet this requirement for the external URL, mobile client functionally will probably not be affected, because the internal URL is always tried first.</span></span>

<span data-ttu-id="63a2a-175">I record DNS possono essere record CNAME o A (host, se IPv6, AAAA).</span><span class="sxs-lookup"><span data-stu-id="63a2a-175">The DNS records can be either CNAME records or A (host, if IPv6, AAAA) records.</span></span>

<div>


> [!NOTE]  
> <span data-ttu-id="63a2a-176">I client dei dispositivi mobili non supportano certificati SSL (Secure Sockets Layer) multipli da domini diversi.</span><span class="sxs-lookup"><span data-stu-id="63a2a-176">Mobile device clients do not support multiple Secure Sockets Layer (SSL) certificates from different domains.</span></span> <span data-ttu-id="63a2a-177">Di conseguenza, il reindirizzamento CNAME a domini diversi non è supportato in HTTPS.</span><span class="sxs-lookup"><span data-stu-id="63a2a-177">Therefore, CNAME redirection to different domains is not supported over HTTPS.</span></span> <span data-ttu-id="63a2a-178">Ad esempio, un record CNAME DNS per lyncdiscover.contoso.com che esegue il reindirizzamento a un indirizzo director.contoso.net non è supportato in HTTPS.</span><span class="sxs-lookup"><span data-stu-id="63a2a-178">For example, a DNS CNAME record for lyncdiscover.contoso.com that redirects to an address of director.contoso.net is not supported over HTTPS.</span></span> <span data-ttu-id="63a2a-179">In una topologia di questo tipo, un client di dispositivo portatile deve utilizzare il protocollo HTTP per la prima richiesta, in modo che il reindirizzamento CNAME venga risolto in HTTP.</span><span class="sxs-lookup"><span data-stu-id="63a2a-179">In such a topology, a mobile device client needs to use HTTP for the first request, so that the CNAME redirection is resolved over HTTP.</span></span> <span data-ttu-id="63a2a-180">Per le richieste successive viene quindi utilizzato HTTPS.</span><span class="sxs-lookup"><span data-stu-id="63a2a-180">Subsequent requests then use HTTPS.</span></span> <span data-ttu-id="63a2a-181">Per supportare questo scenario, è necessario configurare il proxy inverso con una regola di pubblicazione Web per la porta 80 (HTTP).</span><span class="sxs-lookup"><span data-stu-id="63a2a-181">To support this scenario, you need to configure your reverse proxy with a web publishing rule for port 80 (HTTP).</span></span> <span data-ttu-id="63a2a-182">Per informazioni dettagliate, vedere la sezione relativa alla creazione di una regola di pubblicazione Web per la porta 80 in <A href="lync-server-2013-configuring-the-reverse-proxy-for-mobility.md">configurazione del proxy inverso per i dispositivi mobili in Lync Server 2013</A>.</span><span class="sxs-lookup"><span data-stu-id="63a2a-182">For details, see "To create a web publishing rule for port 80" in <A href="lync-server-2013-configuring-the-reverse-proxy-for-mobility.md">Configuring the reverse proxy for mobility in Lync Server 2013</A>.</span></span><BR><span data-ttu-id="63a2a-183">Il reindirizzamento CNAME allo stesso dominio è supportato in HTTPS.</span><span class="sxs-lookup"><span data-stu-id="63a2a-183">CNAME redirection to the same domain is supported over HTTPS.</span></span> <span data-ttu-id="63a2a-184">In questo caso, il certificato del dominio di destinazione copre il dominio di origine.</span><span class="sxs-lookup"><span data-stu-id="63a2a-184">In this case, the destination domain's certificate covers the originating domain.</span></span>



</div>

<span data-ttu-id="63a2a-185">Per informazioni dettagliate sui record DNS necessari per lo scenario, vedere [DNS Summary-Autodiscover in Lync Server 2013](lync-server-2013-dns-summary-autodiscover.md).</span><span class="sxs-lookup"><span data-stu-id="63a2a-185">For details about the DNS records required for your scenario, see [DNS summary - Autodiscover in Lync Server 2013](lync-server-2013-dns-summary-autodiscover.md).</span></span>

</div>

<div>

## <a name="port-and-firewall-requirements"></a><span data-ttu-id="63a2a-186">Requisiti relativi a porte e firewall</span><span class="sxs-lookup"><span data-stu-id="63a2a-186">Port and Firewall Requirements</span></span>

<span data-ttu-id="63a2a-187">Se si supportano le notifiche push e si desidera che i dispositivi mobili Apple possano ricevere le notifiche push tramite la rete Wi-Fi, è necessario anche aprire la porta 5223 nella rete Wi-Fi aziendale.</span><span class="sxs-lookup"><span data-stu-id="63a2a-187">If you support push notifications and want Apple mobile devices to receive push notifications over your Wi-Fi network, you also need to open port 5223 on your enterprise Wi-Fi network.</span></span> <span data-ttu-id="63a2a-188">La porta 5223 è una porta TCP in uscita utilizzata dal servizio notifica Push Apple.</span><span class="sxs-lookup"><span data-stu-id="63a2a-188">Port 5223 is an outbound TCP port used by the Apple Push Notification Service (APNS).</span></span> <span data-ttu-id="63a2a-189">Il dispositivo mobile avvia la connessione.</span><span class="sxs-lookup"><span data-stu-id="63a2a-189">The mobile device initiates the connection.</span></span> <span data-ttu-id="63a2a-190">Per informazioni dettagliate, [http://support.apple.com/kb/TS1629](http://support.apple.com/kb/ts1629) vedere.</span><span class="sxs-lookup"><span data-stu-id="63a2a-190">For details, see [http://support.apple.com/kb/TS1629](http://support.apple.com/kb/ts1629) .</span></span>

<div>


> [!WARNING]  
> <span data-ttu-id="63a2a-191">Un dispositivo Apple che utilizza il client per dispositivi mobili Lync 2013 non richiede notifiche push.</span><span class="sxs-lookup"><span data-stu-id="63a2a-191">An Apple device using the Lync 2013 Mobile client does not require push notifications.</span></span>



</div>

<span data-ttu-id="63a2a-192">Si noti che se un utente è ospitato in un Survivable Branch Appliance (SBA), sono necessarie le seguenti porte:</span><span class="sxs-lookup"><span data-stu-id="63a2a-192">Note that if a user is homed on a Survivable Branch Appliance (SBA) then the following ports are required:</span></span>

  - <span data-ttu-id="63a2a-193">UcwaSipExternalListeningPort richiede la porta 5088</span><span class="sxs-lookup"><span data-stu-id="63a2a-193">UcwaSipExternalListeningPort requires port 5088</span></span>

  - <span data-ttu-id="63a2a-194">UcwaSipPrimaryListeningPort richiede la porta 5089</span><span class="sxs-lookup"><span data-stu-id="63a2a-194">UcwaSipPrimaryListeningPort requires port 5089</span></span>

<span data-ttu-id="63a2a-195">Per ulteriori informazioni e indicazioni sui requisiti relativi a porte e protocolli per l'individuazione automatica, vedere [Riepilogo delle porte-individuazione automatica in Lync Server 2013](lync-server-2013-port-summary-autodiscover.md).</span><span class="sxs-lookup"><span data-stu-id="63a2a-195">For additional details and guidance on port and protocol requirements for Autodiscover, see [Port summary - Autodiscover in Lync Server 2013](lync-server-2013-port-summary-autodiscover.md).</span></span>

</div>

<div>

## <a name="certificate-requirements"></a><span data-ttu-id="63a2a-196">Requisiti relativi ai certificati</span><span class="sxs-lookup"><span data-stu-id="63a2a-196">Certificate Requirements</span></span>

<span data-ttu-id="63a2a-197">Se si supporta l'individuazione automatica per i client mobili Lync, è necessario modificare gli elenchi dei nomi alternativi soggetto dei certificati per supportare le connessioni sicure dai client mobili.</span><span class="sxs-lookup"><span data-stu-id="63a2a-197">If you support automatic discovery for Lync mobile clients, you need to modify the subject alternative name lists on certificates to support secure connections from the mobile clients.</span></span> <span data-ttu-id="63a2a-198">È necessario richiedere e assegnare nuovi certificati, aggiungendo le voci del nome alternativo del soggetto descritte in questa sezione, per ogni Front End Server e Director che esegue il servizio di individuazione automatica.</span><span class="sxs-lookup"><span data-stu-id="63a2a-198">You need to request and assign new certificates, adding the subject alternative name entries described in this section, for each Front End Server and Director that runs the Autodiscover Service.</span></span> <span data-ttu-id="63a2a-199">L'approccio consigliato prevede inoltre la modifica anche degli elenchi dei nomi alternativi soggetto dei certificati per i proxy inversi.</span><span class="sxs-lookup"><span data-stu-id="63a2a-199">The recommended approach is to also modify the subject alternative names lists on certificates for your reverse proxies.</span></span> <span data-ttu-id="63a2a-200">È necessario aggiungere voci di nomi alternativi soggetto per ogni dominio SIP dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="63a2a-200">You need to add subject alternative name entries for every SIP domain in your organization.</span></span>

<span data-ttu-id="63a2a-201">La riemissione di certificati utilizzando un'Autorità di certificazione interna è in genere un processo semplice, ma l'aggiunta di più voci di nomi alternativi soggetto ai certificati pubblici utilizzati dal proxy inverso può essere un'operazione dispendiosa.</span><span class="sxs-lookup"><span data-stu-id="63a2a-201">Reissuing certificates by using an internal certificate authority is typically a simple process, but adding multiple subject alternative name entries to public certificates used by the reverse proxy can be expensive.</span></span> <span data-ttu-id="63a2a-202">Se sono presenti molti domini SIP, e pertanto l'aggiunta di nomi alternativi soggetto è molto dispendiosa, è possibile configurare il proxy inverso per effettuare la richiesta iniziale al servizio di individuazione automatica tramite la porta 80 utilizzando il protocollo HTTP, anziché la porta 443 utilizzando il protocollo HTTPS (configurazione predefinita).</span><span class="sxs-lookup"><span data-stu-id="63a2a-202">If you have many SIP domains, making the addition of subject alternative names very expensive, you can configure the reverse proxy to make the initial Autodiscover Service request over port 80 using HTTP, instead of port 443 using HTTPS (the default configuration).</span></span> <span data-ttu-id="63a2a-203">La richiesta viene quindi reindirizzata alla porta 8080 nel pool di Director o front end.</span><span class="sxs-lookup"><span data-stu-id="63a2a-203">The request is then redirected to port 8080 on the Director or Front End pool.</span></span> <span data-ttu-id="63a2a-204">Quando si pubblica la richiesta iniziale al servizio di individuazione automatica nella porta 80, non è necessario modificare i certificati per il proxy inverso, in quanto per la richiesta viene utilizzato HTTP anziché HTTPS.</span><span class="sxs-lookup"><span data-stu-id="63a2a-204">When you publish the initial Autodiscover Service request on port 80, you do not need to change certificates for the reverse proxy, because the request uses HTTP rather than HTTPS.</span></span> <span data-ttu-id="63a2a-205">Questo approccio è supportato, ma non è consigliabile.</span><span class="sxs-lookup"><span data-stu-id="63a2a-205">This approach is supported, but we do not recommend it.</span></span>

</div>

<div>

## <a name="internet-information-services-iis-requirements"></a><span data-ttu-id="63a2a-206">Requisiti relativi a IIS (Internet Information Services)</span><span class="sxs-lookup"><span data-stu-id="63a2a-206">Internet Information Services (IIS) Requirements</span></span>

<span data-ttu-id="63a2a-207">È consigliabile utilizzare IIS 7,5, IIS 8,0 o IIS 8,5 per la mobilità.</span><span class="sxs-lookup"><span data-stu-id="63a2a-207">We recommend that you use IIS 7.5, IIS 8.0, or IIS 8.5 for mobility.</span></span> <span data-ttu-id="63a2a-208">Il programma di installazione del servizio per dispositivi mobili imposta i flag in ASP.NET per migliorare le prestazioni.</span><span class="sxs-lookup"><span data-stu-id="63a2a-208">The Mobility Service installer sets flags in ASP.NET to improve performance.</span></span> <span data-ttu-id="63a2a-209">IIS 7,5 è installato per impostazione predefinita in Windows Server 2008 R2, IIS 8,0 è installato in Windows Server 2012 e IIS 8,5 è installato in Windows Server 2012 R2.</span><span class="sxs-lookup"><span data-stu-id="63a2a-209">IIS 7.5 is installed by default on Windows Server 2008 R2, IIS 8.0 is installed on Windows Server 2012, and IIS 8.5 is installed on Windows Server 2012 R2.</span></span> <span data-ttu-id="63a2a-210">Il programma di installazione del servizio per dispositivi mobili modifica automaticamente le impostazioni di ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="63a2a-210">The Mobility Service installer automatically changes the ASP.NET settings.</span></span>

</div>

<div>

## <a name="hardware-load-balancer-requirements"></a><span data-ttu-id="63a2a-211">Requisiti relativi al servizio di bilanciamento del carico hardware</span><span class="sxs-lookup"><span data-stu-id="63a2a-211">Hardware Load Balancer Requirements</span></span>

<span data-ttu-id="63a2a-212">Nel servizio di bilanciamento del carico hardware che supporta il pool Front End, è necessario configurare l'IP virtuale (VIP) dei servizi Web esterni per il traffico dei servizi Web per l'origine.</span><span class="sxs-lookup"><span data-stu-id="63a2a-212">On the hardware load balancer that is supporting the Front End pool, the external Web Services virtual IPs (VIPs) for Web Services traffic must be configured for source.</span></span> <span data-ttu-id="63a2a-213">L'affinità di origine consente di garantire che più connessioni da un singolo client vengano inviate a un solo server per mantenere lo stato della sessione.</span><span class="sxs-lookup"><span data-stu-id="63a2a-213">Source affinity helps to ensure that multiple connections from a single client are sent to one server to maintain session state.</span></span> <span data-ttu-id="63a2a-214">Per informazioni dettagliate sui requisiti di affinità, vedere [requisiti per il bilanciamento del carico per Lync Server 2013](lync-server-2013-load-balancing-requirements.md).</span><span class="sxs-lookup"><span data-stu-id="63a2a-214">For details about affinity requirements, see [Load balancing requirements for Lync Server 2013](lync-server-2013-load-balancing-requirements.md).</span></span>

<span data-ttu-id="63a2a-215">Se si prevede di supportare i client per dispositivi mobili Lync solo tramite la rete Wi-Fi interna, è consigliabile configurare i VIP dei servizi Web interni per l'origine come descritto per i VIP dei servizi Web esterni.</span><span class="sxs-lookup"><span data-stu-id="63a2a-215">If you plan to support Lync mobile clients only over your internal Wi-Fi network, you should configure the internal Web Services VIPS for source as described for external Web Services VIPs.</span></span> <span data-ttu-id="63a2a-216">In questo caso, è necessario utilizzare l'\_affinità di origine addr (o TCP) per i VIP dei servizi Web interni nel servizio di bilanciamento del carico hardware.</span><span class="sxs-lookup"><span data-stu-id="63a2a-216">In this situation, you should use source\_addr (or TCP) affinity for the internal Web Services VIPs on the hardware load balancer.</span></span> <span data-ttu-id="63a2a-217">Per ulteriori informazioni, vedere [requisiti per il bilanciamento del carico per Lync Server 2013](lync-server-2013-load-balancing-requirements.md).</span><span class="sxs-lookup"><span data-stu-id="63a2a-217">For details, see [Load balancing requirements for Lync Server 2013](lync-server-2013-load-balancing-requirements.md).</span></span>

</div>

<div>

## <a name="reverse-proxy-requirements"></a><span data-ttu-id="63a2a-218">Requisiti relativi al proxy inverso</span><span class="sxs-lookup"><span data-stu-id="63a2a-218">Reverse Proxy Requirements</span></span>

<span data-ttu-id="63a2a-219">Se si supporta l'individuazione automatica per i client mobili di Lync, è necessario aggiornare la regola di pubblicazione corrente come indicato di seguito:</span><span class="sxs-lookup"><span data-stu-id="63a2a-219">If you support automatic discovery for Lync mobile clients, you need to update the current publishing rule as follows:</span></span>

  - <span data-ttu-id="63a2a-220">Se si decide di aggiornare gli elenchi dei nomi alternativi del soggetto nei certificati del proxy inverso e utilizzare HTTPS per la richiesta di servizio di individuazione automatica iniziale, è necessario aggiornare la regola di pubblicazione Web per lyncdiscover. \<SipDomain\>.</span><span class="sxs-lookup"><span data-stu-id="63a2a-220">If you decide to update the subject alternative names lists on the reverse proxy certificates and use HTTPS for the initial Autodiscover Service request, you must update the web publishing rule for lyncdiscover.\<sipdomain\>.</span></span> <span data-ttu-id="63a2a-221">Questo è in genere combinato con la regola di pubblicazione per l'URL dei servizi Web esterni nel pool Front end.</span><span class="sxs-lookup"><span data-stu-id="63a2a-221">Typically, this is combined with the publishing rule for the external Web Services URL on the Front End pool.</span></span>

  - <span data-ttu-id="63a2a-222">Se si decide di utilizzare HTTP per la richiesta iniziale del servizio di individuazione automatica in modo che non sia necessario aggiornare l'elenco dei nomi alternativi del soggetto nei certificati del proxy inverso, è necessario creare una nuova regola di pubblicazione Web per la porta HTTP/TCP 80, se non ne esiste già una.</span><span class="sxs-lookup"><span data-stu-id="63a2a-222">If you decide to use HTTP for the initial Autodiscover Service request so that you do not need to update the subject alternative names list on the reverse proxy certificates, you must create a new web publishing rule for port HTTP/TCP 80, if one does not already exist.</span></span> <span data-ttu-id="63a2a-223">Se una regola per HTTP/TCP 80 esiste già, è possibile aggiornare la regola in modo da includere il lyncdiscover. \<voce\> SipDomain.</span><span class="sxs-lookup"><span data-stu-id="63a2a-223">If a rule for HTTP/TCP 80 does already exist, you can update that rule to include the lyncdiscover.\<sipdomain\> entry.</span></span>

</div>

</div>

<span> </span>

</div>

</div>

</div>

