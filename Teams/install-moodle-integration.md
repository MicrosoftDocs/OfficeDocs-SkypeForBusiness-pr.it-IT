---
title: Installazione di Moodle Integration con Microsoft Teams
author: MicrosoftHeidi
ms.author: heidip
manager: serdars
ms.topic: article
ms.service: msteams
audience: admin
ms.reviewer: ''
search.appverid: MET150
description: Informazioni su come installare e configurare l'app di integrazione di Moodle per Microsoft Teams
keywords: Plug-in integrazione app di Moodle Teams
localization_priority: Normal
ms.collection:
- M365-collaboration
appliesto:
- Microsoft Teams
ms.openlocfilehash: 5c6e2d8cfb4e3932d4559a5c5c7b618189da7e57
ms.sourcegitcommit: 0dcd078947a455a388729fd50c7a939dd93b0b61
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/17/2019
ms.locfileid: "37572059"
---
# <a name="installing-the-moodle-integration-with-microsoft-teams"></a><span data-ttu-id="7d137-104">Installazione dell'integrazione di Moodle con Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="7d137-104">Installing the Moodle integration with Microsoft Teams</span></span>

> [!VIDEO https://www.youtube.com/embed/OHlPt22nKoE]

<span data-ttu-id="7d137-105">[Moodle](https://moodle.org/), il sistema LMS (Learning Management System) più diffuso e open-source nel mondo, ora è integrato con Microsoft teams.</span><span class="sxs-lookup"><span data-stu-id="7d137-105">[Moodle](https://moodle.org/), the most popular and open-source Learning Management System (LMS) in the world, is now integrated with Microsoft Teams!</span></span> <span data-ttu-id="7d137-106">Questa integrazione aiuta gli educatori e gli insegnanti a collaborare nei corsi di Moodle, a porre domande sulle loro qualità e alle loro assegnazioni e a rimanere aggiornati con le notifiche, proprio all'interno di teams.</span><span class="sxs-lookup"><span data-stu-id="7d137-106">This integration helps educators and teachers collaborate around Moodle courses, ask questions about their grades and assignments and stay updated with notifications -- right within Teams!</span></span>

<span data-ttu-id="7d137-107">Per consentire agli amministratori IT di impostare facilmente questa integrazione, è stato aggiornato il plug-in Office 365 Moodle open-source con le funzionalità seguenti:</span><span class="sxs-lookup"><span data-stu-id="7d137-107">To help IT admins easily set this integration up, we have updated our open-source Office 365 Moodle Plugin with the following capabilities:</span></span>

* <span data-ttu-id="7d137-108">Registrazione automatica del server Moodle con Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7d137-108">Auto-registration of your Moodle server with Azure AD.</span></span>
* <span data-ttu-id="7d137-109">Distribuzione con un solo clic di Moodle Assistant bot in Azure.</span><span class="sxs-lookup"><span data-stu-id="7d137-109">One-click deployment of your Moodle Assistant bot to Azure.</span></span>
* <span data-ttu-id="7d137-110">Provisioning automatico dei team e sincronizzazione automatica delle iscrizioni del team per tutti o selezionare corsi Moodle.</span><span class="sxs-lookup"><span data-stu-id="7d137-110">Auto-provisioning of teams and auto-synchronization of team enrollments for all or select Moodle courses.</span></span>
* <span data-ttu-id="7d137-111">Installazione automatica della scheda Moodle e di Moodle Assistant bot in ogni team sincronizzato.</span><span class="sxs-lookup"><span data-stu-id="7d137-111">Auto-installation of the Moodle tab and the Moodle Assistant bot into each synchronized team.</span></span> <span data-ttu-id="7d137-112">(Presto disponibile)</span><span class="sxs-lookup"><span data-stu-id="7d137-112">(Coming soon)</span></span>
* <span data-ttu-id="7d137-113">Pubblicazione con un solo clic dell'app Moodle nell'App Store private teams.</span><span class="sxs-lookup"><span data-stu-id="7d137-113">One-click publishing of the Moodle app into your private Teams App Store.</span></span> <span data-ttu-id="7d137-114">(Presto disponibile)</span><span class="sxs-lookup"><span data-stu-id="7d137-114">(Coming soon)</span></span>

<span data-ttu-id="7d137-115">Per altre informazioni sulle funzionalità fornite da questa integrazione [, procedere come](https://education.microsoft.com/courses-and-resources/resources/microsoft-teams-moodle)segue.</span><span class="sxs-lookup"><span data-stu-id="7d137-115">To learn more about the functionality this integration provides, go [here](https://education.microsoft.com/courses-and-resources/resources/microsoft-teams-moodle).</span></span>

## <a name="prerequisites"></a><span data-ttu-id="7d137-116">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="7d137-116">Prerequisites</span></span>

<span data-ttu-id="7d137-117">Per installare e configurare questa applicazione è necessario:</span><span class="sxs-lookup"><span data-stu-id="7d137-117">In order to install and configure this application you'll need:</span></span>

1. <span data-ttu-id="7d137-118">Credenziali di amministratore di Moodle</span><span class="sxs-lookup"><span data-stu-id="7d137-118">Moodle administrator credentials</span></span>
2. <span data-ttu-id="7d137-119">Credenziali di amministratore di Azure AD</span><span class="sxs-lookup"><span data-stu-id="7d137-119">Azure AD administrator credentials</span></span>
3. <span data-ttu-id="7d137-120">Un abbonamento a Azure in cui è possibile creare nuove risorse</span><span class="sxs-lookup"><span data-stu-id="7d137-120">An Azure subscription you can create new resources in</span></span>

## <a name="step-1-install-the-office-365-moodle-plugin"></a><span data-ttu-id="7d137-121">Passaggio 1: installare il plug-in di Office 365 Moodle</span><span class="sxs-lookup"><span data-stu-id="7d137-121">Step 1: Install the Office 365 Moodle Plugin</span></span>

> [!VIDEO https://www.youtube.com/embed/SETEC5nzMgk]

<span data-ttu-id="7d137-122">L'integrazione di Moodle in Microsoft teams è alimentata dal [set di plug-in Office 365 Moodle](https://github.com/Microsoft/o365-moodle)open source.</span><span class="sxs-lookup"><span data-stu-id="7d137-122">The Moodle integration in Microsoft Teams is powered by the open source [Office 365 Moodle plugin set](https://github.com/Microsoft/o365-moodle).</span></span> <span data-ttu-id="7d137-123">Per installare il plug-in nel server Moodle:</span><span class="sxs-lookup"><span data-stu-id="7d137-123">To install the plugin in your Moodle server:</span></span>

1. <span data-ttu-id="7d137-124">Prima di tutto, scaricare il set di plug-in di [Office 365](https://moodle.org/plugins/pluginversions.php?plugin=local_o365) e salvarlo nel computer locale.</span><span class="sxs-lookup"><span data-stu-id="7d137-124">First, download the [Office 365 plugin set](https://moodle.org/plugins/pluginversions.php?plugin=local_o365) and save it to your local computer.</span></span> <span data-ttu-id="7d137-125">È necessario usare la versione 3,5 o successiva.</span><span class="sxs-lookup"><span data-stu-id="7d137-125">You'll need to use version 3.5 or newer.</span></span>
    * <span data-ttu-id="7d137-126">L'installazione del plug-in local_o365 installerà anche i plug-in di [auth_oidc](https://moodle.org/plugins/auth_oidc) e [boost_o365Teams](https://moodle.org/plugins/pluginversions.php?plugin=theme_boost_o365teams) .</span><span class="sxs-lookup"><span data-stu-id="7d137-126">Installing the local_o365 plugin will also install the [auth_oidc](https://moodle.org/plugins/auth_oidc) and [boost_o365Teams](https://moodle.org/plugins/pluginversions.php?plugin=theme_boost_o365teams) plugins.</span></span>
1. <span data-ttu-id="7d137-127">Accedere al server Moodle come amministratore e selezionare **Amministrazione sito** dal riquadro di spostamento sinistro.</span><span class="sxs-lookup"><span data-stu-id="7d137-127">Login to your Moodle server as an administrator, and select **Site administration** from the left navigation panel.</span></span>
1. <span data-ttu-id="7d137-128">Selezionare la scheda **plug** -in e quindi fare clic su **Installa plug**-in.</span><span class="sxs-lookup"><span data-stu-id="7d137-128">Select the **Plugins** tab, and then click **Install plugins**.</span></span>
1. <span data-ttu-id="7d137-129">Nella sezione **install plugin from zip file** fare clic sul pulsante **Scegli un file** .</span><span class="sxs-lookup"><span data-stu-id="7d137-129">Under the **Install plugin from ZIP file** section click the **Choose a file** button.</span></span>
1. <span data-ttu-id="7d137-130">Selezionare le opzioni di **caricamento di un file** dal riquadro di spostamento sinistro, individuare il file scaricato sopra e fare clic su **carica**file.</span><span class="sxs-lookup"><span data-stu-id="7d137-130">Select the **Upload a file** options from the left navigation, browse for the file you downloaded above and click **Upload this file**.</span></span>
1. <span data-ttu-id="7d137-131">Selezionare di nuovo l'opzione **Amministrazione sito** dal riquadro di spostamento sinistro per tornare al dashboard di amministrazione.</span><span class="sxs-lookup"><span data-stu-id="7d137-131">Select the **Site administration** option from the left navigation panel again to return to your admin dashboard.</span></span> <span data-ttu-id="7d137-132">Scorrere verso il basso fino a i plug-in **locali** e fare clic sul collegamento **Microsoft Office 365 Integration** .</span><span class="sxs-lookup"><span data-stu-id="7d137-132">Scroll down to the **Local plugins** and click the **Microsoft Office 365 Integration** link.</span></span> <span data-ttu-id="7d137-133">Tieni aperta questa pagina di configurazione in una scheda del browser separata mentre la usi per tutto il resto del processo.</span><span class="sxs-lookup"><span data-stu-id="7d137-133">Keep this configuration page open in a separate browser tab as you'll be using it throughout the rest of this process.</span></span>

<span data-ttu-id="7d137-134">Per altre informazioni, vedere come installare i plug-in Moodle nella [documentazione di Moodle](https://docs.moodle.org/34/en/Installing_plugins).</span><span class="sxs-lookup"><span data-stu-id="7d137-134">You can find more information on how to install Moodle plugins in the [Moodle documentation](https://docs.moodle.org/34/en/Installing_plugins).</span></span>

<span data-ttu-id="7d137-135">**Nota importante:** La pagina di configurazione del plug-in di Office 365 Moodle viene aperta in una scheda del browser separata durante il processo di ritorno a questo set di pagine.</span><span class="sxs-lookup"><span data-stu-id="7d137-135">**Important Note:** Keep your Office 365 Moodle Plugin configuration page open in a separate browser tab as you will be returning to this set of pages throughout this process.</span></span>

<span data-ttu-id="7d137-136">*Non si ha già un sito Moodle?*</span><span class="sxs-lookup"><span data-stu-id="7d137-136">*Don't have a Moodle site already?*</span></span> <span data-ttu-id="7d137-137">Potresti voler controllare la nostra Moodle su [repository](https://github.com/azure/moodle) di Azure in cui è possibile distribuire rapidamente un'istanza di Moodle in Azure e personalizzarla in base alle proprie esigenze.</span><span class="sxs-lookup"><span data-stu-id="7d137-137">You might want to check out our Moodle on Azure [repo](https://github.com/azure/moodle) where you can quickly deploy a Moodle instance on Azure and customize it to your needs.</span></span>

## <a name="step-2-configure-the-connection-between-the-office-365-plugin-and-azure-active-directory"></a><span data-ttu-id="7d137-138">Passaggio 2: configurare la connessione tra il plug-in di Office 365 e Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="7d137-138">Step 2: Configure the connection between the Office 365 plugin and Azure Active Directory</span></span>

> [!VIDEO https://www.youtube.com/embed/FpGEezaJ3SA]

<span data-ttu-id="7d137-139">Quindi devi registrare Moodle come applicazione in Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="7d137-139">Next you'll need to register Moodle as an application in your Azure Active Directory.</span></span> <span data-ttu-id="7d137-140">È stato fornito uno script di PowerShell che consente di completare il processo.</span><span class="sxs-lookup"><span data-stu-id="7d137-140">We've provided a PowerShell script to help you complete this process.</span></span> <span data-ttu-id="7d137-141">Lo script di PowerShell applica una nuova applicazione Azure AD per il tenant di Office 365, che verrà usata dal plug-in di Office 365 Moodle.</span><span class="sxs-lookup"><span data-stu-id="7d137-141">The PowerShell Script provisions a new Azure AD application for your Office 365 tenant, which will be used by the Office 365 Moodle Plugin.</span></span> <span data-ttu-id="7d137-142">Lo script provisionerà l'app per il tenant di Office 365, configurerà tutti gli URL di risposta e le autorizzazioni necessari per l'app di cui è stato eseguito il provisioning e restituirà l'AppID e la chiave.</span><span class="sxs-lookup"><span data-stu-id="7d137-142">The script will provision the app for your O365 tenant, set up all the required Reply URLs and Permissions for the provisioned app and return the AppID and Key.</span></span> <span data-ttu-id="7d137-143">Puoi usare l'AppID e la chiave generati nella pagina di configurazione del plug-in di Office 365 Moodle per configurare il server Moodle con Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7d137-143">You can use the generated AppID and Key in your O365 Moodle Plugin Setup Page to configure your Moodle server with Azure AD.</span></span> <span data-ttu-id="7d137-144">Per visualizzare i passaggi manuali dettagliati che lo script di PowerShell sta automatizzando, è possibile trovarli nella [documentazione completa per il plug](https://docs.moodle.org/34/en/Office365#Register_your_Moodle_instance_as_an_Application)-in.</span><span class="sxs-lookup"><span data-stu-id="7d137-144">If you want to see the detailed manual steps that the PowerShell script is automating, you can find them in the full [documentation for the plugin](https://docs.moodle.org/34/en/Office365#Register_your_Moodle_instance_as_an_Application).</span></span>

### <a name="moodle-tab-for-microsoft-teams-information-flow"></a><span data-ttu-id="7d137-145">Scheda Moodle per il flusso di informazioni di Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="7d137-145">Moodle tab for Microsoft Teams information flow</span></span>

<img width="530px" src="media/MoodleTabInformationFlow.png" alt="Illustration of Moodle tab for Microsoft Teams information flow" title="Illustrazione della scheda Moodle per il flusso di informazioni di Microsoft Teams" />

1. <span data-ttu-id="7d137-147">Nella pagina del plug-in di integrazione di Microsoft Office 365 Slect la scheda **Setup** .</span><span class="sxs-lookup"><span data-stu-id="7d137-147">From the Microsoft Office 365 Integration plugin page slect the **Setup** tab.</span></span>
1. <span data-ttu-id="7d137-148">Fare clic sul pulsante **Scarica script di PowerShell** e salvarlo nel computer locale.</span><span class="sxs-lookup"><span data-stu-id="7d137-148">Click the **Download PowerShell Script** button and save it to your local computer.</span></span>
1. <span data-ttu-id="7d137-149">È necessario preparare lo script di PowerShell dal file ZIP.</span><span class="sxs-lookup"><span data-stu-id="7d137-149">You'll need to prepare the PowerShell script from the ZIP file.</span></span> <span data-ttu-id="7d137-150">Per eseguire questa operazione:</span><span class="sxs-lookup"><span data-stu-id="7d137-150">To do so:</span></span>
    * <span data-ttu-id="7d137-151">Scaricare ed estrarre il `Moodle-AzureAD-Powershell.zip` file.</span><span class="sxs-lookup"><span data-stu-id="7d137-151">Download and extract the `Moodle-AzureAD-Powershell.zip` file.</span></span>
    * <span data-ttu-id="7d137-152">Aprire la cartella estratta.</span><span class="sxs-lookup"><span data-stu-id="7d137-152">Open the extracted folder.</span></span>
    * <span data-ttu-id="7d137-153">Fare clic con il pulsante `Moodle-AzureAD-Script.ps1` destro del mouse sul file e scegliere **Proprietà**.</span><span class="sxs-lookup"><span data-stu-id="7d137-153">Right-click on the `Moodle-AzureAD-Script.ps1` file and select **Properties**.</span></span>
    * <span data-ttu-id="7d137-154">Nella scheda **generale** della finestra Proprietà selezionare la `Unblock` casella di controllo accanto all'attributo di **sicurezza** nella parte inferiore.</span><span class="sxs-lookup"><span data-stu-id="7d137-154">Under the **General** tab of the Properties window, check the `Unblock` box next to the **Security** attribute at the bottom.</span></span>
    * <span data-ttu-id="7d137-155">Fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="7d137-155">Click **OK**.</span></span>
    * <span data-ttu-id="7d137-156">Copiare il percorso della directory della cartella estratta.</span><span class="sxs-lookup"><span data-stu-id="7d137-156">Copy the directory path of the extracted folder.</span></span>
1. <span data-ttu-id="7d137-157">Verrà quindi eseguito PowerShell come amministratore:</span><span class="sxs-lookup"><span data-stu-id="7d137-157">Next you'll run PowerShell as an administrator:</span></span>
    * <span data-ttu-id="7d137-158">Fare clic su Start.</span><span class="sxs-lookup"><span data-stu-id="7d137-158">Click Start.</span></span>
    * <span data-ttu-id="7d137-159">Digitare PowerShell.</span><span class="sxs-lookup"><span data-stu-id="7d137-159">Type PowerShell.</span></span>
    * <span data-ttu-id="7d137-160">Fare clic con il pulsante destro del mouse su Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="7d137-160">Right-click Windows PowerShell.</span></span>
    * <span data-ttu-id="7d137-161">Fare clic su "Esegui come amministratore".</span><span class="sxs-lookup"><span data-stu-id="7d137-161">Click "Run as Administrator".</span></span>
1. <span data-ttu-id="7d137-162">Passare alla directory decompressa digitando `cd ...\...\Moodle-AzureAD-Powershell` `...\...` il percorso della directory.</span><span class="sxs-lookup"><span data-stu-id="7d137-162">Navigate to the unzipped directory by typing `cd ...\...\Moodle-AzureAD-Powershell` where `...\...` is the path to the directory.</span></span>
1. <span data-ttu-id="7d137-163">Eseguire lo script di PowerShell per:</span><span class="sxs-lookup"><span data-stu-id="7d137-163">Execute the PowerShell script by:</span></span>
    * <span data-ttu-id="7d137-164">Invio `Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser`.</span><span class="sxs-lookup"><span data-stu-id="7d137-164">Enter `Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser`.</span></span>
    * <span data-ttu-id="7d137-165">Invio `.\Moodle-AzureAD-Script.ps1`.</span><span class="sxs-lookup"><span data-stu-id="7d137-165">Enter `.\Moodle-AzureAD-Script.ps1`.</span></span>
    * <span data-ttu-id="7d137-166">Accedere all'account di amministratore di Office 365 nella finestra popup.</span><span class="sxs-lookup"><span data-stu-id="7d137-166">Login to your O365 Administrator account in the pop-up window.</span></span>
    * <span data-ttu-id="7d137-167">Immettere il nome dell'applicazione Azure AD (es.</span><span class="sxs-lookup"><span data-stu-id="7d137-167">Enter the name of the Azure AD Application (Ex.</span></span> <span data-ttu-id="7d137-168">Plug-in Moodle/Moodle).</span><span class="sxs-lookup"><span data-stu-id="7d137-168">Moodle/Moodle plugin).</span></span>
    * <span data-ttu-id="7d137-169">Immettere l'URL del server Moodle.</span><span class="sxs-lookup"><span data-stu-id="7d137-169">Enter the URL of your Moodle server.</span></span>
    * <span data-ttu-id="7d137-170">Copiare l' **ID applicazione** e la **chiave dell'applicazione** generati dallo script e salvarli.</span><span class="sxs-lookup"><span data-stu-id="7d137-170">Copy the **Application ID** and **Application Key** generated by the script and save them.</span></span>
1. <span data-ttu-id="7d137-171">Quindi è necessario aggiungere l'ID e la chiave al plug-in di Office 365 Moodle.</span><span class="sxs-lookup"><span data-stu-id="7d137-171">Next you'll need to add the Id and Key to the Office 365 Moodle Plugin.</span></span> <span data-ttu-id="7d137-172">Tornare alla pagina di amministrazione dei plug-in (amministrazione del sito > i plug-in > integrazione di Microsoft Office 365).</span><span class="sxs-lookup"><span data-stu-id="7d137-172">Return to the plugin administration page (Site administration > Plugins > Microsoft Office 365 Integration).</span></span>
1. <span data-ttu-id="7d137-173">Nella scheda **configurazione** aggiungere l' **ID applicazione** e la **chiave dell'applicazione** copiati in precedenza, quindi fare clic su **Salva modifiche**.</span><span class="sxs-lookup"><span data-stu-id="7d137-173">On the **Setup** tab add the **Application Id** and **Application Key** you copied previously, then click **Save changes**.</span></span>
1. <span data-ttu-id="7d137-174">Una volta che la pagina viene aggiornata, ora è necessario vedere una nuova sezione **scegliere il metodo di connessione**.</span><span class="sxs-lookup"><span data-stu-id="7d137-174">Once the page refreshes you should now see a new section **Choose connection method**.</span></span> <span data-ttu-id="7d137-175">Fare clic sulla casella di controllo contrassegnata come **predefinita** e quindi fare di nuovo clic su **Salva modifiche** .</span><span class="sxs-lookup"><span data-stu-id="7d137-175">Click the checkbox labeled **Default** and then click **Save changes** again.</span></span>
1. <span data-ttu-id="7d137-176">Dopo l'aggiornamento della pagina verrà visualizzato un nuovo consenso per l' **amministratore della sezione & informazioni aggiuntive**.</span><span class="sxs-lookup"><span data-stu-id="7d137-176">Once the page refreshes you will see another new section **Admin consent & additional information**.</span></span>
    * <span data-ttu-id="7d137-177">Fare clic sul collegamento **Fornisci l'autorizzazione** amministratore, immettere le credenziali di amministratore globale di Office3 365, quindi **accettare** di concedere le autorizzazioni.</span><span class="sxs-lookup"><span data-stu-id="7d137-177">Click the **Provide Admin Consent** link, enter your Office3 365 Global Administrator credentials, then **Accept** to grant the permissions.</span></span>
    * <span data-ttu-id="7d137-178">Accanto al campo **tenant di Azure ad** fare clic sul pulsante **rileva** .</span><span class="sxs-lookup"><span data-stu-id="7d137-178">Next to the **Azure AD Tenant** field click the **Detect** button.</span></span>
    * <span data-ttu-id="7d137-179">Accanto all' **URL di OneDrive for business** fai clic sul pulsante **rileva** .</span><span class="sxs-lookup"><span data-stu-id="7d137-179">Next to the **OneDrive for Business URL** click the **Detect** button.</span></span>
    * <span data-ttu-id="7d137-180">Dopo aver popolato i campi, fare di nuovo clic sul pulsante **Salva modifiche** .</span><span class="sxs-lookup"><span data-stu-id="7d137-180">Once the fields populate, click the **Save changes** button again.</span></span>
1. <span data-ttu-id="7d137-181">Fare clic sul pulsante **Aggiorna** per verificare l'installazione e quindi **salvare le modifiche**.</span><span class="sxs-lookup"><span data-stu-id="7d137-181">Click the **Update** button to verify the installation, then **Save changes**.</span></span>
1. <span data-ttu-id="7d137-182">Sarà quindi necessario sincronizzare gli utenti tra il server Moodle e Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="7d137-182">Next you'll need to synchronize users between your Moodle server and Azure Active Directory.</span></span> <span data-ttu-id="7d137-183">A seconda dell'ambiente, è possibile selezionare opzioni diverse durante questa fase.</span><span class="sxs-lookup"><span data-stu-id="7d137-183">Depending on your environment, you may select different options during this stage.</span></span> <span data-ttu-id="7d137-184">Tieni presente che la configurazione che hai impostato qui verrà eseguita con ogni esecuzione di Moodle cron (in genere una volta al giorno) per tenere tutto sincronizzato. Per iniziare:</span><span class="sxs-lookup"><span data-stu-id="7d137-184">Note that the configuration you set here will run with each Moodle cron run (typically once a day) to keep everything in sync. To get started:</span></span>
    * <span data-ttu-id="7d137-185">Passare alla **scheda Impostazioni di sincronizzazione**</span><span class="sxs-lookup"><span data-stu-id="7d137-185">Switch to the **Sync Settings tab**</span></span>
    * <span data-ttu-id="7d137-186">Nella sezione **Sincronizza utenti con Azure ad** selezionare le caselle di controllo valide per l'ambiente.</span><span class="sxs-lookup"><span data-stu-id="7d137-186">In the **Sync users with Azure AD** section, select the checkboxes that apply to your environment.</span></span> <span data-ttu-id="7d137-187">In genere si seleziona almeno:</span><span class="sxs-lookup"><span data-stu-id="7d137-187">Typically you would select at least:</span></span>
        * <span data-ttu-id="7d137-188">Creare account in Moodle per gli utenti in Azure AD</span><span class="sxs-lookup"><span data-stu-id="7d137-188">Create accounts in Moodle for users in Azure AD</span></span>
        * <span data-ttu-id="7d137-189">Aggiornare tutti gli account in Moodle per gli utenti in Azure AD</span><span class="sxs-lookup"><span data-stu-id="7d137-189">Update all accounts in Moodle for users in Azure AD</span></span>
    * <span data-ttu-id="7d137-190">Nella sezione **restrizione per la creazione degli** utenti puoi configurare un filtro per limitare gli utenti di Azure ad che verranno sincronizzati con Moodle.</span><span class="sxs-lookup"><span data-stu-id="7d137-190">In the **User Creation Restriction** section you can setup a filter to limit the Azure AD users that will by synced to Moodle.</span></span>
    * <span data-ttu-id="7d137-191">La sezione **mapping campi utente** ti consente di personalizzare il mapping dei campi del profilo utente di Azure ad in Moodle.</span><span class="sxs-lookup"><span data-stu-id="7d137-191">The **User Field Mapping** section will allow you to customize the Azure AD to Moodle User Profile field mapping.</span></span>
    * <span data-ttu-id="7d137-192">Nella sezione **sincronizzazione teams** è possibile scegliere di creare automaticamente gruppi (ad esempio Team) per alcuni o tutti i corsi di Moodle esistenti.</span><span class="sxs-lookup"><span data-stu-id="7d137-192">In the **Teams Sync** section you can choose to automatically create Groups (i.e. Teams) for some, or all, of your existing Moodle courses.</span></span>
1. <span data-ttu-id="7d137-193">Per convalidare i processi di cron (ed eseguirli manualmente se si vuole per la prima esecuzione), fare clic sul collegamento **pagina Gestione attività pianificata** nella sezione **Sincronizza utenti con Azure ad** .</span><span class="sxs-lookup"><span data-stu-id="7d137-193">To validate the cron jobs (and run them manually if you wish to for the first run) click the **Scheduled tasks management page** link in the **Sync users with Azure AD** section.</span></span> <span data-ttu-id="7d137-194">In questo modo verrà riportata la pagina **attività pianificate** .</span><span class="sxs-lookup"><span data-stu-id="7d137-194">This will take you to the **Scheduled Tasks** page.</span></span>
    * <span data-ttu-id="7d137-195">Scorrere verso il basso e trovare gli **utenti di job Sync con Azure ad** job e fare clic su **Esegui ora**.</span><span class="sxs-lookup"><span data-stu-id="7d137-195">Scroll down and find the job **Sync users with Azure AD** job and click **Run now**.</span></span>
    * <span data-ttu-id="7d137-196">Se si è scelto di creare gruppi in base a corsi esistenti, è anche possibile eseguire il processo **di creazione di gruppi di utenti in Office 365** .</span><span class="sxs-lookup"><span data-stu-id="7d137-196">If you chose to create Groups based on existing courses, you can also run the **Create user groups in Office 365** job.</span></span>
1. <span data-ttu-id="7d137-197">Tornare alla pagina di amministrazione del plug-in (amministrazione sito > i plug-in > integrazione di Microsoft Office 365) e selezionare la pagina **impostazioni team** .</span><span class="sxs-lookup"><span data-stu-id="7d137-197">Return to the plugin administration page (Site administration > Plugins > Microsoft Office 365 Integration) and select the **Teams Settings** page.</span></span> <span data-ttu-id="7d137-198">È necessario configurare alcune impostazioni di sicurezza per abilitare l'integrazione delle app teams.</span><span class="sxs-lookup"><span data-stu-id="7d137-198">You'll need to configure some security settings to enable the Teams app integration.</span></span>
    * <span data-ttu-id="7d137-199">Per abilitare OpenID Connect, fare clic sul collegamento **Gestisci autenticazione** e fare clic sull'icona dell'occhio nella linea **OpenID Connect** se è disattivata.</span><span class="sxs-lookup"><span data-stu-id="7d137-199">To enable OpenID Connect, click the **Manage Authentication** link, and click the eye icon on the **OpenId Connect** line if it is greyed out.</span></span>
    * <span data-ttu-id="7d137-200">Quindi è necessario abilitare l'incorporamento di frame.</span><span class="sxs-lookup"><span data-stu-id="7d137-200">Next you'll need to enable frame embedding.</span></span> <span data-ttu-id="7d137-201">Fare clic sul collegamento **sicurezza http** , quindi fare clic sulla casella di controllo accanto a **Consenti incorporamento frame**.</span><span class="sxs-lookup"><span data-stu-id="7d137-201">Click the **HTTP Security** link, then click the checkbox next to **Allow frame embedding**.</span></span>
    * <span data-ttu-id="7d137-202">Il passaggio successivo consiste nell'abilitare i servizi Web che consentiranno le funzionalità API di Moodle.</span><span class="sxs-lookup"><span data-stu-id="7d137-202">The next step is to enable web services which will enable the Moodle API features.</span></span> <span data-ttu-id="7d137-203">Fare clic sul collegamento **funzionalità avanzate** , quindi verificare che la casella di controllo accanto a **Abilita servizi Web** sia selezionata.</span><span class="sxs-lookup"><span data-stu-id="7d137-203">Click the **Advanced Features** link, then make sure the checkbox next to **Enable web services** is checked.</span></span>
    * <span data-ttu-id="7d137-204">Infine, è necessario abilitare i servizi esterni per Office 365.</span><span class="sxs-lookup"><span data-stu-id="7d137-204">Finally you'll need to enabled the external services for Office 365.</span></span> <span data-ttu-id="7d137-205">Fare clic sul collegamento **servizi esterni** , quindi:</span><span class="sxs-lookup"><span data-stu-id="7d137-205">Click the **External services** link then:</span></span>
        * <span data-ttu-id="7d137-206">Fare clic su **modifica** nella riga **Moodle Office 365 WebServices** .</span><span class="sxs-lookup"><span data-stu-id="7d137-206">Click **Edit** on the **Moodle Office 365 Webservices** row.</span></span>
        * <span data-ttu-id="7d137-207">Contrassegnare la casella di controllo accanto a **abilitata**, quindi fare clic su **Salva modifiche**</span><span class="sxs-lookup"><span data-stu-id="7d137-207">Mark the checkbox next to **Enabled**, then click **Save Changes**</span></span>
    * <span data-ttu-id="7d137-208">Sarà quindi necessario modificare le autorizzazioni degli utenti autenticati per consentire loro di creare token di servizio Web.</span><span class="sxs-lookup"><span data-stu-id="7d137-208">Next you'll need to edit your authenticated user permissions to allow them to create web service tokens.</span></span> <span data-ttu-id="7d137-209">Fare clic sul collegamento **"utente autenticato" del ruolo di modifica** .</span><span class="sxs-lookup"><span data-stu-id="7d137-209">Click the **Editing role 'Authenticated user'** link.</span></span> <span data-ttu-id="7d137-210">Scorrere verso il basso e individuare la funzionalità **Crea un token di servizio Web** e selezionare la casella di controllo **Consenti** .</span><span class="sxs-lookup"><span data-stu-id="7d137-210">Scroll down and find the **Create a web service token** capability and mark the **Allow** checkbox.</span></span>

## <a name="step-3-deploy-the-moodle-assistant-bot-to-azure"></a><span data-ttu-id="7d137-211">Passaggio 3: distribuire Moodle Assistant bot in Azure</span><span class="sxs-lookup"><span data-stu-id="7d137-211">Step 3: Deploy the Moodle Assistant Bot to Azure</span></span>

> [!VIDEO https://www.youtube.com/embed/gbkJxf8FlfY]

<span data-ttu-id="7d137-212">Il Free Moodle Assistant bot per Microsoft teams aiuta gli insegnanti e gli studenti a rispondere alle domande sui corsi, le assegnazioni, i voti e altre informazioni in Moodle.</span><span class="sxs-lookup"><span data-stu-id="7d137-212">The free Moodle Assistant Bot for Microsoft Teams helps teachers and students answer questions about their courses, assignments, grades and other information in Moodle.</span></span> <span data-ttu-id="7d137-213">Il bot invia anche le notifiche di Moodle agli studenti e agli insegnanti direttamente in teams.</span><span class="sxs-lookup"><span data-stu-id="7d137-213">The bot also sends Moodle notifications to students and teachers right within Teams.</span></span> <span data-ttu-id="7d137-214">Questo bot è un progetto open source gestito da Microsoft ed è [disponibile su GitHub](https://github.com/microsoft/Moodle-Teams-Bot).</span><span class="sxs-lookup"><span data-stu-id="7d137-214">This bot is an open source project maintained by Microsoft, and is [available on GitHub](https://github.com/microsoft/Moodle-Teams-Bot).</span></span>

> [!NOTE]
> <span data-ttu-id="7d137-215">In questa sezione verranno distribuite le risorse per l'abbonamento a Azure e tutte le risorse verranno configurate con il livello **libero** .</span><span class="sxs-lookup"><span data-stu-id="7d137-215">In this section you will deploy resources to your Azure subscription, and all resources will be configured using the **free** tier.</span></span> <span data-ttu-id="7d137-216">A seconda dell'uso del bot, potrebbe essere necessario ridimensionare queste risorse.</span><span class="sxs-lookup"><span data-stu-id="7d137-216">Depending on the usage of your bot, you may need to scale these resources.</span></span>
> <span data-ttu-id="7d137-217">Se si vuole usare semplicemente la scheda Moodle senza il bot, passare al [passaggio 4](#step-4-deploy-your-microsoft-teams-app).</span><span class="sxs-lookup"><span data-stu-id="7d137-217">If you want to just use the Moodle tab without the bot, skip to [step 4](#step-4-deploy-your-microsoft-teams-app).</span></span>

### <a name="moodle-bot-information-flow"></a><span data-ttu-id="7d137-218">Flusso di informazioni di Moodle bot</span><span class="sxs-lookup"><span data-stu-id="7d137-218">Moodle bot information flow</span></span>

<img width="530px" src="media/MoodleBotInformationFlow.png" alt="llustration of Moodle bot for Microsoft Teams information flow" title="Illustrazione del flusso di informazioni di Moodle bot per Microsoft Teams" />


<span data-ttu-id="7d137-220">Per installare il bot, è necessario prima di tutto registrarlo nella [piattaforma Microsoft Identity](https://identity.microsoft.com/Landing).</span><span class="sxs-lookup"><span data-stu-id="7d137-220">To install the bot, you'll first need to register it on the [Microsoft Identity Platform](https://identity.microsoft.com/Landing).</span></span> <span data-ttu-id="7d137-221">In questo modo il tuo bot verrà autenticato in base agli endpoint Microsoft.</span><span class="sxs-lookup"><span data-stu-id="7d137-221">This allows your Bot to authenticate against your Microsoft endpoints.</span></span> <span data-ttu-id="7d137-222">Per registrare il bot:</span><span class="sxs-lookup"><span data-stu-id="7d137-222">To register your bot:</span></span>

1. <span data-ttu-id="7d137-223">Tornare alla pagina di amministrazione del plug-in (amministrazione sito > i plug-in > integrazione di Microsoft Office 365) e selezionare la scheda **impostazioni team** .</span><span class="sxs-lookup"><span data-stu-id="7d137-223">Return to the plugin administration page (Site administration > Plugins > Microsoft Office 365 Integration) and select the **Teams Settings** tab.</span></span>
1. <span data-ttu-id="7d137-224">Fare clic sul collegamento **portale di registrazione applicazioni Microsoft** ed effettuare l'accesso con il proprio ID Microsoft.</span><span class="sxs-lookup"><span data-stu-id="7d137-224">Click the **Microsoft Application Registration Portal** link and login with your Microsoft Id.</span></span>
1. <span data-ttu-id="7d137-225">Immettere un nome per l'app (ad esempio.</span><span class="sxs-lookup"><span data-stu-id="7d137-225">Enter a name for you app (Eg.</span></span> <span data-ttu-id="7d137-226">MoodleBot) e fare clic sul pulsante **Crea** .</span><span class="sxs-lookup"><span data-stu-id="7d137-226">MoodleBot) and click the **Create** button.</span></span>
1. <span data-ttu-id="7d137-227">Copiare l' **ID applicazione** e incollarlo nel campo **ID applicazione bot** nella pagina **impostazioni del team** .</span><span class="sxs-lookup"><span data-stu-id="7d137-227">Copy the **Application Id** and paste it into the **Bot Application ID** field on the **Team Settings** page.</span></span>
1. <span data-ttu-id="7d137-228">Fare clic sul pulsante **genera nuova password** .</span><span class="sxs-lookup"><span data-stu-id="7d137-228">Click the **Generate New Password** button.</span></span> <span data-ttu-id="7d137-229">Copiare la password generata e incollarla nel campo **password applicazione bot** nella pagina impostazioni del **Team** .</span><span class="sxs-lookup"><span data-stu-id="7d137-229">Copy the generated password and and paste it into the **Bot Application Password** field on the **Team Settings** page.</span></span>
1. <span data-ttu-id="7d137-230">Scorrere fino alla fine della maschera e fare clic su **Salva modifiche**.</span><span class="sxs-lookup"><span data-stu-id="7d137-230">Scroll to the bottom of the form and click **Save Changes**.</span></span>

<span data-ttu-id="7d137-231">Ora che hai generato l'ID applicazione e la password, è il momento di distribuire il tuo bot in Azure.</span><span class="sxs-lookup"><span data-stu-id="7d137-231">Now that you've generated your Application Id and Password, it's time to deploy your bot to Azure.</span></span> <span data-ttu-id="7d137-232">Fare clic sul pulsante **Distribuisci in Azure** e compilare il modulo con le informazioni necessarie (l'ID applicazione bot, la password dell'applicazione bot e il segreto Moodle si trovano nella pagina **impostazioni del team** e le informazioni di Azure sono nella pagina di **configurazione** ) .</span><span class="sxs-lookup"><span data-stu-id="7d137-232">Click on the **Deploy to Azure** button and fill out the form with the necessary information (the Bot Application Id, Bot Application Password and the Moodle Secret are on the **Team Settings** page, and the Azure information is on the **Setup** page).</span></span> <span data-ttu-id="7d137-233">Dopo aver compilato il modulo, fare clic sulla casella di controllo per accettare i termini e le condizioni, quindi fare clic sul pulsante **acquisto** (tutte le risorse di Azure vengono distribuite nel livello gratuito).</span><span class="sxs-lookup"><span data-stu-id="7d137-233">Once you've got the form filled out, click the check box to agree to the terms and conditions then click the **Purchase** button (all Azure resources are deployed to the free tier).</span></span>

<span data-ttu-id="7d137-234">Dopo aver completato la distribuzione di risorse in Azure, è necessario configurare il plug-in di Office 365 Moodle con l'endpoint di messaggistica.</span><span class="sxs-lookup"><span data-stu-id="7d137-234">Once the resources are finished deploying to Azure, you'll need to configure the Office 365 Moodle plugin with it's messaging endpoint.</span></span> <span data-ttu-id="7d137-235">Prima di tutto è necessario ottenere l'endpoint da bot in Azure.</span><span class="sxs-lookup"><span data-stu-id="7d137-235">First, you'll need to get the endpoint from you Bot in Azure.</span></span> <span data-ttu-id="7d137-236">per farlo:</span><span class="sxs-lookup"><span data-stu-id="7d137-236">To do that:</span></span>

1. <span data-ttu-id="7d137-237">Se non è già stato fatto, accedere al [portale di Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="7d137-237">If you aren't already, log into the [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="7d137-238">Nel riquadro sinistro selezionare **gruppi di risorse**.</span><span class="sxs-lookup"><span data-stu-id="7d137-238">In the left pane select **Resource groups**.</span></span>
3. <span data-ttu-id="7d137-239">Nell'elenco selezionare il gruppo di risorse appena usato (o creato) durante la distribuzione del bot.</span><span class="sxs-lookup"><span data-stu-id="7d137-239">From the list select the resource group you just used (or created) while deploying your Bot.</span></span>
4. <span data-ttu-id="7d137-240">Selezionare la risorsa **Web App bot** nell'elenco delle risorse del gruppo.</span><span class="sxs-lookup"><span data-stu-id="7d137-240">Select the **WebApp Bot** resource from the list of resources in the group.</span></span>
5. <span data-ttu-id="7d137-241">Copiare l' **endpoint della messaggistica** dalla sezione **Panoramica** .</span><span class="sxs-lookup"><span data-stu-id="7d137-241">Copy the **Messaging Endpoint** from the **Overview** section.</span></span>
6. <span data-ttu-id="7d137-242">In Moodle aprire la pagina **impostazioni del team** del plug-in di Office 365 Moodle.</span><span class="sxs-lookup"><span data-stu-id="7d137-242">In Moodle, open the **Team Settings** page of your Office 365 Moodle Plugin.</span></span>
7. <span data-ttu-id="7d137-243">Nel campo **endpoint bot** incollare l'URL appena copiato e cambiare i *messaggi* di Word in *webhook*.</span><span class="sxs-lookup"><span data-stu-id="7d137-243">In the **Bot Endpoint** field paste the URL you just copied and change the word *messages* to *webhook*.</span></span> <span data-ttu-id="7d137-244">Ora l'URL dovrebbe essere simile`https://botname.azurewebsites.net/api/webhook`</span><span class="sxs-lookup"><span data-stu-id="7d137-244">The URL should now look like `https://botname.azurewebsites.net/api/webhook`</span></span>
8. <span data-ttu-id="7d137-245">Fare clic su **Salva modifiche**</span><span class="sxs-lookup"><span data-stu-id="7d137-245">Click **Save Changes**</span></span>
9. <span data-ttu-id="7d137-246">Dopo aver salvato le modifiche, tornare alla scheda **impostazioni del team** , fare clic sul pulsante **Scarica manifesto file** e salvare il pacchetto manifesto nel computer (lo si userà nella sezione successiva).</span><span class="sxs-lookup"><span data-stu-id="7d137-246">Once your changes have saved, go back to the **Team Settings** tab, click the **Download manifest file** button and save the manifest package to your computer (you'll use it in the next section).</span></span>

## <a name="step-4-deploy-your-microsoft-teams-app"></a><span data-ttu-id="7d137-247">Passaggio 4: distribuire l'app Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="7d137-247">Step 4: Deploy your Microsoft Teams app</span></span>

> [!VIDEO https://www.youtube.com/embed/2rMb7gtM_ZM]

<span data-ttu-id="7d137-248">Ora che il tuo bot è stato distribuito in Azure e configurato per comunicare con il tuo server Moodle, è il momento di distribuire l'app Microsoft teams.</span><span class="sxs-lookup"><span data-stu-id="7d137-248">Now that you have your Bot deployed to Azure and configured to talk to your Moodle server, it's time to deploy your Microsoft Teams app.</span></span> <span data-ttu-id="7d137-249">Per eseguire questa operazione, è possibile caricare il file manifesto scaricato dalla pagina impostazioni del plug-in di Office 365 Moodle nel passaggio precedente.</span><span class="sxs-lookup"><span data-stu-id="7d137-249">To do this you'll load the manifest file you downloaded from the Office 365 Moodle Plugin Team Settings page in the previous step.</span></span>

<span data-ttu-id="7d137-250">Prima di installare l'app è necessario assicurarsi che le app esterne e sideload delle app siano abilitate.</span><span class="sxs-lookup"><span data-stu-id="7d137-250">Before you can install the app you'll need to make sure external apps and sideloading of apps is enabled.</span></span> <span data-ttu-id="7d137-251">Per eseguire questa procedura, è possibile eseguire [le operazioni](https://docs.microsoft.com/en-us/MicrosoftTeams/admin-settings)seguenti.</span><span class="sxs-lookup"><span data-stu-id="7d137-251">To do so you can follow [these steps](https://docs.microsoft.com/en-us/MicrosoftTeams/admin-settings).</span></span> <span data-ttu-id="7d137-252">Dopo avere assicurato che le app esterne sono abilitate, puoi seguire la procedura seguente per distribuire la tua app.</span><span class="sxs-lookup"><span data-stu-id="7d137-252">Once you've ensured that external apps are enabled, you can follow the steps below to deploy your app.</span></span>

1. <span data-ttu-id="7d137-253">Aprire Microsoft teams.</span><span class="sxs-lookup"><span data-stu-id="7d137-253">Open Microsoft Teams.</span></span>
2. <span data-ttu-id="7d137-254">Fare clic sull'icona dello **Store** nell'angolo in basso a sinistra della barra di spostamento.</span><span class="sxs-lookup"><span data-stu-id="7d137-254">Click the **Store** icon on the lower-left of the navigation bar.</span></span>
3. <span data-ttu-id="7d137-255">Fare clic sul collegamento **carica un'app personalizzata** nell'elenco di opzioni.</span><span class="sxs-lookup"><span data-stu-id="7d137-255">Click the **Upload a custom app** link from the list of options.</span></span> <span data-ttu-id="7d137-256">*Nota:* Se si è effettuato l'accesso come amministratore globale si avrà la possibilità di caricare l'app nell'App Store dell'organizzazione, altrimenti sarà possibile caricare l'app solo per i team che fanno parte di ("sideload").</span><span class="sxs-lookup"><span data-stu-id="7d137-256">*Note:* If you're logged in as a global administer you'll have the option of uploading the app to your organization's app store, otherwise you'll only be able to load the app for Teams you're a part of ("sideloading").</span></span>
4. <span data-ttu-id="7d137-257">Selezionare il `manifest.zip` pacchetto scaricato in precedenza e fare clic su **Salva**.</span><span class="sxs-lookup"><span data-stu-id="7d137-257">Select the `manifest.zip` package you downloaded previously and click **Save**.</span></span> <span data-ttu-id="7d137-258">Se il pacchetto manifesto non è ancora stato scaricato, è possibile farlo dalla scheda **impostazioni del team** della pagina di configurazione del plug-in in Moodle.</span><span class="sxs-lookup"><span data-stu-id="7d137-258">If you haven't yet downloaded the manifest package, you can do so from the **Team Settings** tab of the plugin configuration page in Moodle.</span></span>

<span data-ttu-id="7d137-259">Ora che l'app è installata, puoi aggiungere la scheda a qualsiasi canale a cui hai accesso.</span><span class="sxs-lookup"><span data-stu-id="7d137-259">Now that you have the app installed you can add the tab to any channel that you have access to.</span></span> <span data-ttu-id="7d137-260">Per farlo, passa al canale, fai clic sul **+** simbolo e seleziona la tua app nell'elenco.</span><span class="sxs-lookup"><span data-stu-id="7d137-260">To do so navigate to the channel, click the **+** symbol and select your app from the list.</span></span> <span data-ttu-id="7d137-261">Seguire le istruzioni per completare l'aggiunta della scheda corso Moodle a un canale.</span><span class="sxs-lookup"><span data-stu-id="7d137-261">Follow the prompts to finish adding your Moodle course tab to a channel.</span></span>

<span data-ttu-id="7d137-262">Questo è tutto!</span><span class="sxs-lookup"><span data-stu-id="7d137-262">That's it!</span></span> <span data-ttu-id="7d137-263">Ora puoi iniziare a lavorare con i corsi Moodle direttamente da Microsoft teams.</span><span class="sxs-lookup"><span data-stu-id="7d137-263">You and your team, can now start working with your Moodle courses directly from Microsoft Teams.</span></span>

<span data-ttu-id="7d137-264">Per condividere eventuali richieste di funzionalità o commenti e suggerimenti, visitare la [pagina vocale dell'utente](https://microsoftteams.uservoice.com/forums/916759-moodle).</span><span class="sxs-lookup"><span data-stu-id="7d137-264">To share any feature requests or feedback with us, please visit our [User Voice page](https://microsoftteams.uservoice.com/forums/916759-moodle).</span></span>