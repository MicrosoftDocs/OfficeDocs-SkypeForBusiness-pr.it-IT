---
title: Risolvere i problemi di installazione e aggiornamento di Microsoft teams in Windows
author: lanachin
ms.author: v-lanac
manager: serdars
ms.reviewer: lenatarhun
ms.topic: article
ms.service: msteams
audience: Admin
ms.collection:
- M365-collaboration
f1.keywords:
- NOCSH
appliesto:
- Microsoft Teams
localization_priority: Normal
search.appverid: MET150
description: Informazioni su come risolvere i problemi di installazione e aggiornamento per l'app client desktop teams in Windows.
ms.openlocfilehash: f47edf351d6a55f57977fee823d670b749896049
ms.sourcegitcommit: ed3d7ebb193229cab9e0e5be3dc1c28c3f622c1b
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 02/06/2020
ms.locfileid: "41837626"
---
# <a name="troubleshoot-microsoft-teams-installation-and-update-issues-on-windows"></a><span data-ttu-id="b5bf8-103">Risolvere i problemi di installazione e aggiornamento di Microsoft teams in Windows</span><span class="sxs-lookup"><span data-stu-id="b5bf8-103">Troubleshoot Microsoft Teams installation and update issues on Windows</span></span>

<span data-ttu-id="b5bf8-104">Questo articolo fornisce indicazioni su come diagnosticare e risolvere i problemi di installazione e aggiornamento per l'app client desktop teams in uso in Windows.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-104">This article provides guidance for how to diagnose and troubleshoot installation and update issues for the Teams desktop client app running on Windows.</span></span>

## <a name="check-whether-teams-is-updated-successfully"></a><span data-ttu-id="b5bf8-105">Verificare se i team vengono aggiornati correttamente</span><span class="sxs-lookup"><span data-stu-id="b5bf8-105">Check whether Teams is updated successfully</span></span>

<span data-ttu-id="b5bf8-106">Seguire questa procedura per verificare se un aggiornamento di teams è stato installato correttamente.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-106">Follow these steps to check whether a Teams update is successfully installed.</span></span>

1. <span data-ttu-id="b5bf8-107">In teams selezionare l'immagine del profilo e quindi fare clic **su informazioni sulla** > **versione**.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-107">In Teams, select your profile picture, and then click **About** > **Version**.</span></span>
2. <span data-ttu-id="b5bf8-108">Nello stesso menu fare clic su **Controlla aggiornamenti**.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-108">On the same menu, click **Check for updates**.</span></span>
3. <span data-ttu-id="b5bf8-109">Aspetta che il banner nella parte superiore dell'app indichi che è necessario un "aggiornamento" dei team.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-109">Wait for the banner at the top of the app to indicate that a “refresh” of Teams is needed.</span></span> <span data-ttu-id="b5bf8-110">Il collegamento dovrebbe essere visualizzato circa un minuto dopo che questo processo Scarica la nuova versione di teams.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-110">The link should be shown about a minute later as this process downloads the new version of Teams.</span></span> <span data-ttu-id="b5bf8-111">Lo striscione consente anche di sapere se si sta già usando la versione più recente, in questo caso, non è necessario alcun aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-111">The banner also lets you know if you’re already running the latest version in which case, no update is necessary.</span></span>
4. <span data-ttu-id="b5bf8-112">Fare clic sul collegamento Aggiorna nell'intestazione.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-112">Click the refresh link in the banner.</span></span>
5. <span data-ttu-id="b5bf8-113">Attendere che i team vengano riavviati e quindi ripetere il passaggio 1 per verificare se l'app viene aggiornata.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-113">Wait until Teams restarts, and then repeat step 1 to see whether the app is updated.</span></span>

<span data-ttu-id="b5bf8-114">Se viene visualizzato un messaggio di errore o se il numero di versione è uguale a quello del passaggio 4, il processo di aggiornamento non è riuscito.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-114">If you see a failure message or if the version number is the same as in step 4, the update process failed.</span></span>

## <a name="troubleshoot-installation-and-update-issues"></a><span data-ttu-id="b5bf8-115">Risoluzione dei problemi di installazione e aggiornamento</span><span class="sxs-lookup"><span data-stu-id="b5bf8-115">Troubleshoot installation and update issues</span></span>

### <a name="troubleshoot-installation-issues"></a><span data-ttu-id="b5bf8-116">Risolvere i problemi di installazione</span><span class="sxs-lookup"><span data-stu-id="b5bf8-116">Troubleshoot installation issues</span></span>

<span data-ttu-id="b5bf8-117">Quando si installa teams, il programma di installazione di teams registra la sequenza di eventi in%LocalAppData%\SquirrelTemp\SquirrelSetup.log.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-117">When Teams is installed, the Teams installer logs the sequence of events to %LocalAppData%\SquirrelTemp\SquirrelSetup.log.</span></span> <span data-ttu-id="b5bf8-118">La prima cosa da cercare è un messaggio di errore o uno stack di chiamate vicino alla fine del log.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-118">The first thing to look for is an error message or a call stack near the end of the log.</span></span> <span data-ttu-id="b5bf8-119">Tieni presente che gli stack di chiamate all'inizio del log potrebbero non significare che esiste un problema di installazione.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-119">Note that call stacks at the beginning of the log may not mean that an installation issue exists.</span></span> <span data-ttu-id="b5bf8-120">Può essere più semplice confrontare il log con il log da un'installazione corretta (anche in un altro computer) per vedere cosa ci si aspetta.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-120">It can be easier to compare your log against the log from a successful installation (even on another machine) to see what's expected.</span></span>

<span data-ttu-id="b5bf8-121">Se SquirrelSetup. log non indica la causa o se sono necessarie altre informazioni per risolvere il problema, vedere [raccogliere e analizzare i registri delle applicazioni e di sistema](#collect-and-analyze-application-and-system-logs).</span><span class="sxs-lookup"><span data-stu-id="b5bf8-121">If SquirrelSetup.log doesn't indicate the cause or if you need more information to troubleshoot the issue, see [Collect and analyze application and system logs](#collect-and-analyze-application-and-system-logs).</span></span>

### <a name="troubleshoot-update-issues"></a><span data-ttu-id="b5bf8-122">Risolvere i problemi di aggiornamento</span><span class="sxs-lookup"><span data-stu-id="b5bf8-122">Troubleshoot update issues</span></span>

<span data-ttu-id="b5bf8-123">Quando i team vengono installati correttamente, la posizione del log passa da%LocalAppData%\SquirrelTemp a%AppData%\Microsoft\Teams.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-123">When Teams is successfully installed, the log location switches from %LocalAppData%\SquirrelTemp to %AppData%\Microsoft\Teams.</span></span> <span data-ttu-id="b5bf8-124">In questa posizione sono presenti due file di log di interesse, SquirrelSetup. log e logs. txt.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-124">At this location, there are two log files of interest, SquirrelSetup.log and logs.txt.</span></span>

- <span data-ttu-id="b5bf8-125">Il file SquirrelSetup. log in questa posizione è scritto da Update. exe, che è un eseguibile che assiste l'app teams.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-125">The SquirrelSetup.log file at this location is written by Update.exe, which is an executable that services the Teams app.</span></span>
- <span data-ttu-id="b5bf8-126">Il file logs. txt viene usato dall'app Teams (in particolare teams. exe) per registrare eventi applicativi significativi.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-126">The Logs.txt file is used by the Teams app (specifically Teams.exe) to record significant application events.</span></span> <span data-ttu-id="b5bf8-127">Probabilmente includerà informazioni di errore.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-127">It will likely contain failure information.</span></span>

<span data-ttu-id="b5bf8-128">Questi file di log contengono informazioni personali e quindi non vengono inviate a Microsoft.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-128">These log files contain personally identifiable information (PII) and so they're not sent to Microsoft.</span></span>

<span data-ttu-id="b5bf8-129">I team possono avviare automaticamente il processo di aggiornamento (a seconda dei criteri) oppure gli utenti possono verificare manualmente la disponibilità degli aggiornamenti accedendo alla propria immagine del profilo > **verificare la disponibilità di aggiornamenti**.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-129">Teams can automatically start the update process (depending on the policy) or users can manually check for updates by going to their profile picture > **Check for updates**.</span></span> <span data-ttu-id="b5bf8-130">Entrambi i metodi usano la sequenza di eventi seguente.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-130">Both methods use the following sequence of events.</span></span>

1. <span data-ttu-id="b5bf8-131">**Verificare la disponibilità di aggiornamenti**.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-131">**Check for updates**.</span></span> <span data-ttu-id="b5bf8-132">Teams effettua una richiesta Web e include le informazioni correnti sulla versione dell'app e sul ring di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-132">Teams makes a web request and includes the current app version and deployment ring information.</span></span> <span data-ttu-id="b5bf8-133">L'obiettivo di questo passaggio è ottenere il collegamento per il download.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-133">The goal of this step is to get the download link.</span></span> <span data-ttu-id="b5bf8-134">Un errore in questo passaggio viene registrato in logs. txt.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-134">A failure at this step is logged in Logs.txt.</span></span>
2. <span data-ttu-id="b5bf8-135">**Scarica aggiornamento**.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-135">**Download update**.</span></span> <span data-ttu-id="b5bf8-136">Teams Scarica l'aggiornamento usando il collegamento per il download ottenuto dal passaggio 1.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-136">Teams downloads the update by using the download link obtained from step 1.</span></span> <span data-ttu-id="b5bf8-137">Al termine del download, teams chiama Update. exe per organizzare il download.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-137">When the download is complete, Teams calls Update.exe to stage the download.</span></span> <span data-ttu-id="b5bf8-138">Un errore di download viene registrato anche in logs. txt.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-138">A download failure is also logged in Logs.txt.</span></span>
3. <span data-ttu-id="b5bf8-139">**Organizzare l'aggiornamento**.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-139">**Stage the update**.</span></span> <span data-ttu-id="b5bf8-140">Il contenuto scaricato viene verificato e scompattato in una cartella intermedia,%LocalAppData%\Microsoft\Teams\stage), che viene eseguita da Update. exe.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-140">The downloaded content is verified and unpacked into an intermediate folder, %LocalAppData%\Microsoft\Teams\stage), which is done by Update.exe.</span></span> <span data-ttu-id="b5bf8-141">Gli errori di questo passaggio vengono registrati in SquirrelTemp. log.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-141">Failures at this step are logged in SquirrelTemp.log.</span></span>
4. <span data-ttu-id="b5bf8-142">**Installare l'aggiornamento**.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-142">**Install the update**.</span></span> <span data-ttu-id="b5bf8-143">Sono disponibili diversi modi per avviare teams.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-143">There are multiple ways to start Teams.</span></span> <span data-ttu-id="b5bf8-144">Il sistema avvia automaticamente i team quando un utente accede o si può avviare teams tramite un collegamento.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-144">The system automatically starts Teams when a user logs in or you can start Teams through a shortcut.</span></span> <span data-ttu-id="b5bf8-145">In questo passaggio, Update. exe controlla la presenza della cartella di gestione temporanea, verifica di nuovo il contenuto e esegue le operazioni sui file per annullare la fase dell'app.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-145">In this step, Update.exe checks for the presence of the staging folder, verifies the content again, and performs file operations to un-stage the app.</span></span> <span data-ttu-id="b5bf8-146">La cartella dell'applicazione precedente in%LocalAppData%\Microsoft\Teams\current viene eseguito il backup in%LocalAppData%\Microsoft\Teams\previous e la cartella stage viene rinominata in "Current".</span><span class="sxs-lookup"><span data-stu-id="b5bf8-146">The old application folder in %LocalAppData%\Microsoft\Teams\current is backed up to %LocalAppData%\Microsoft\Teams\previous and the stage folder is renamed to "current".</span></span> <span data-ttu-id="b5bf8-147">Gli errori di questo passaggio vengono registrati in SquirrelTemp. log.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-147">Failures at this step are logged in SquirrelTemp.log.</span></span>

<span data-ttu-id="b5bf8-148">Se SquirrelTemp. log o logs. txt non contengono informazioni sufficienti per determinare la causa sottostante e occorrono ulteriori informazioni per risolvere il problema, vedere [raccogliere e analizzare i registri delle applicazioni e di sistema](#collect-and-analyze-application-and-system-logs).</span><span class="sxs-lookup"><span data-stu-id="b5bf8-148">If SquirrelTemp.log or Logs.txt don't contain sufficient information to determine the underlying cause and you need more information to troubleshoot the issue, go to [Collect and analyze application and system logs](#collect-and-analyze-application-and-system-logs).</span></span>

## <a name="collect-and-analyze-application-and-system-logs"></a><span data-ttu-id="b5bf8-149">Raccogliere e analizzare i registri delle applicazioni e di sistema</span><span class="sxs-lookup"><span data-stu-id="b5bf8-149">Collect and analyze application and system logs</span></span>

<span data-ttu-id="b5bf8-150">Questa sezione descrive come raccogliere e analizzare i registri delle applicazioni e di sistema per ottenere informazioni più complete per risolvere il problema.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-150">This section describes how to collect and analyze application and system logs to get more comprehensive information to troubleshoot the issue.</span></span> <span data-ttu-id="b5bf8-151">Potrai usare gli strumenti di Sysinternals per completare questi passaggi.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-151">You'll use Sysinternals tools to complete these steps.</span></span> <span data-ttu-id="b5bf8-152">Per altre informazioni, vedere [Windows Sysinternals](https://docs.microsoft.com/sysinternals/).</span><span class="sxs-lookup"><span data-stu-id="b5bf8-152">To learn more, see [Windows Sysinternals](https://docs.microsoft.com/sysinternals/).</span></span>

### <a name="collect-logs"></a><span data-ttu-id="b5bf8-153">Raccolta di registri</span><span class="sxs-lookup"><span data-stu-id="b5bf8-153">Collect logs</span></span>

1. <span data-ttu-id="b5bf8-154">Scaricare gli [strumenti di Sysinternals](https://download.sysinternals.com/files/SysinternalsSuite.zip).</span><span class="sxs-lookup"><span data-stu-id="b5bf8-154">Download the [Sysinternals tools](https://download.sysinternals.com/files/SysinternalsSuite.zip).</span></span>
2. <span data-ttu-id="b5bf8-155">Estrarre il file zip nella cartella% TEMP% nell'unità locale.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-155">Extract the zip file to the %TEMP% folder on your local drive.</span></span>
3. <span data-ttu-id="b5bf8-156">Aprire un prompt dei comandi con privilegi elevati e quindi eseguire le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="b5bf8-156">Open an elevated command prompt, and then do the following:</span></span>

    1. <span data-ttu-id="b5bf8-157">Eseguire la procedura seguente per passare alla cartella TEMP:</span><span class="sxs-lookup"><span data-stu-id="b5bf8-157">Run the following to go to your TEMP folder:</span></span>

        ```
        cd /d %TEMP%
        ```
    2. <span data-ttu-id="b5bf8-158">Copiare i registri di configurazione e applicazione.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-158">Copy the setup and application logs.</span></span> <span data-ttu-id="b5bf8-159">Tieni presente che, a seconda del punto di errore, alcuni di questi registri potrebbero non essere presenti.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-159">Note that depending on the point of failure, some of these logs may not be present.</span></span>

        ```
        copy %LocalAppData%\SquirrelTemp\SquirrelSetup.log SquirrelSetup.log
        copy %AppData%\Microsoft\Teams\logs.txt logs.txt
        copy %LocalAppData%\Microsoft\Teams\SquirrelSetup.log SquirrelSetup_Teams.log
        ```
    3. <span data-ttu-id="b5bf8-160">Eseguire la procedura seguente per acquisire i quadratini aperti.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-160">Run the following to capture the open handles.</span></span>

        ```
        handle > handles.txt
        ```

    4. <span data-ttu-id="b5bf8-161">Eseguire la procedura seguente per acquisire le dll aperte.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-161">Run the following to capture the opened DLLs.</span></span>

        ```
        listdlls -v Teams > dlls.txt
        ```
    5. <span data-ttu-id="b5bf8-162">Eseguire le operazioni seguenti per acquisire i driver in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-162">Run the following to capture the drivers that are running.</span></span>

        ```
        driverquery /v > driverquery.txt
        ```

    6. <span data-ttu-id="b5bf8-163">Eseguire le operazioni seguenti per acquisire gli elenchi di controllo di accesso (ACL) della cartella teams.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-163">Run the following to capture the access control lists (ACLs) of the Teams folder.</span></span>

        ``` 
        icacls %LOCALAPPDATA%\Microsoft\Teams /save icacls.txt /T
        ```

### <a name="analyze-logs-for-advanced-users"></a><span data-ttu-id="b5bf8-164">Analizza log (per utenti avanzati)</span><span class="sxs-lookup"><span data-stu-id="b5bf8-164">Analyze logs (for advanced users)</span></span>

<span data-ttu-id="b5bf8-165">Un aggiornamento non riuscito può causare un comportamento imprevedibile dell'app.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-165">A failed update can result in unpredictable app behavior.</span></span> <span data-ttu-id="b5bf8-166">Ad esempio, gli utenti potrebbero non essere in grado di uscire da teams, avere una versione non aggiornata di teams o non possono avviare teams.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-166">For example, users may be unable to exit Teams, have a stale version of Teams, or can't start Teams.</span></span> <span data-ttu-id="b5bf8-167">Se si verifica un problema durante un aggiornamento, la prima posizione in cui cercare la causa è SquirrelTemp. log.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-167">If you experience an issue during an update, the first place to look to find the cause is SquirrelTemp.log.</span></span> <span data-ttu-id="b5bf8-168">Ecco i diversi tipi di errori di aggiornamento, elencati tra i più comuni ai meno comuni, e come analizzarli e risolverli in modo anomalo usando i log.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-168">Here are the different types of update failures, listed from most common to least common, and how to analyze and troubleshoot them using logs.</span></span>

#### <a name="unable-to-exit-teams"></a><span data-ttu-id="b5bf8-169">Non è possibile uscire da teams</span><span class="sxs-lookup"><span data-stu-id="b5bf8-169">Unable to exit Teams</span></span>

<span data-ttu-id="b5bf8-170">Poiché teams determina che deve essere aggiornato a una versione più recente, Scarica e mette in scena la nuova app e quindi attende che venga avviata l'occasione per il riavvio del computer alla successiva inattività.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-170">As Teams determines that it needs to update itself to a newer version, it downloads and stages the new app, and then waits for an opportunity to restart itself the next time the machine is idle.</span></span> <span data-ttu-id="b5bf8-171">Un problema comune durante questo processo è quando un altro processo o un driver del file System blocca il processo teams. exe, che impedisce l'uscita di teams. exe.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-171">A common issue during this process is when another process or a file system driver locks up the Teams.exe process, which prevents Teams.exe from exiting.</span></span> <span data-ttu-id="b5bf8-172">Di conseguenza, l'app teams non può essere sostituita dall'app appena scaricata e messa in scena.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-172">As a result, the Teams app can't be replaced by the newly-downloaded and staged app.</span></span>

<span data-ttu-id="b5bf8-173">Suggerimenti per la risoluzione dei problemi:</span><span class="sxs-lookup"><span data-stu-id="b5bf8-173">Troubleshooting tips:</span></span>

- <span data-ttu-id="b5bf8-174">Per confermare il problema che si sta verificando, chiudere Teams (fare clic con il pulsante destro del mouse su teams sulla barra delle applicazioni e quindi scegliere **Esci**).</span><span class="sxs-lookup"><span data-stu-id="b5bf8-174">To confirm that is the issue that you're experiencing, quit Teams (right-click Teams on the task bar, and then click **Quit**).</span></span> <span data-ttu-id="b5bf8-175">Aprire quindi Task Manager in Windows per verificare se un'istanza di teams è ancora in corso.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-175">Then, open Task Manager in Windows to see whether an instance of Teams is still running.</span></span>  
- <span data-ttu-id="b5bf8-176">Se non ci si trova nel computer in cui si verifica questo problema, esaminare il SquirrelTemp. log raccolto dal computer in cui si verifica questo problema e cercare un "programma: non è possibile terminare il processo nella voce del log".</span><span class="sxs-lookup"><span data-stu-id="b5bf8-176">If you’re not on the computer that's having this issue, inspect the SquirrelTemp.log collected from the computer that's experiencing this issue and look for a "Program: Unable to terminate the process in the log" entry.</span></span>
- <span data-ttu-id="b5bf8-177">Per determinare cosa impedisce l'uscita di teams. exe, vedere i registri dll. txt e Handles. txt.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-177">To determine what's preventing Teams.exe from exiting, look at the Dlls.txt and Handles.txt logs.</span></span> <span data-ttu-id="b5bf8-178">Questi spiegano i processi che hanno impedito l'uscita dei team.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-178">These tell you the processes that prevented Teams from exiting.</span></span>
- <span data-ttu-id="b5bf8-179">Un altro colpevole che può impedire l'uscita dei team è il driver del filtro del file System in modalità kernel.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-179">Another culprit that can prevent Teams from exiting is the kernel-mode file system filter driver.</span></span> <span data-ttu-id="b5bf8-180">USA lo strumento SysInternals, [ProcDump](https://docs.microsoft.com/sysinternals/downloads/procdump), per raccogliere il dump del processo in modalità kernel eseguendo ```procdump -mk <pid>```, dove <pid> si trova l'ID processo ottenuto da Gestione attività.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-180">Use the SysInternals tool, [ProcDump](https://docs.microsoft.com/sysinternals/downloads/procdump), to collect the kernel-mode process dump by running ```procdump -mk <pid>```, where <pid> is the process ID obtained from Task Manager.</span></span> <span data-ttu-id="b5bf8-181">È anche possibile esaminare il file di log di driverquery. txt per visualizzare i driver di filtro attivi che potrebbero interferire con i team.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-181">You can also inspect the Driverquery.txt log file to see the active filter drivers that may interfere with Teams.</span></span>
- <span data-ttu-id="b5bf8-182">Per eseguire il ripristino da questo stato, riavviare il computer.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-182">To recover from this state, restart the computer.</span></span>

#### <a name="file-permissions"></a><span data-ttu-id="b5bf8-183">Autorizzazioni file</span><span class="sxs-lookup"><span data-stu-id="b5bf8-183">File permissions</span></span>

<span data-ttu-id="b5bf8-184">Teams crea una serie di sottocartelle e file nel profilo dell'utente durante il processo di installazione e aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-184">Teams creates a number of subfolders and files in the user's profile throughout the installation and update process.</span></span> <span data-ttu-id="b5bf8-185">Poiché l'app e l'Updater vengono eseguiti come utenti non elevati, le autorizzazioni di lettura e scrittura devono essere concesse per le cartelle seguenti:</span><span class="sxs-lookup"><span data-stu-id="b5bf8-185">Because the app and the updater runs as a non-elevated user, read and write permissions must be granted on the following folders:</span></span>

|<span data-ttu-id="b5bf8-186">Cartella</span><span class="sxs-lookup"><span data-stu-id="b5bf8-186">Folder</span></span>  |<span data-ttu-id="b5bf8-187">Usato da</span><span class="sxs-lookup"><span data-stu-id="b5bf8-187">Used by</span></span>  |
|---------|---------|
|<span data-ttu-id="b5bf8-188">%LocalAppData%\SquirrelTemp</span><span class="sxs-lookup"><span data-stu-id="b5bf8-188">%LocalAppData%\SquirrelTemp</span></span>     | <span data-ttu-id="b5bf8-189">Installer Teams (ad esempio Teams_Windows_x64. exe) durante la fase di installazione</span><span class="sxs-lookup"><span data-stu-id="b5bf8-189">Teams installer (for example, Teams_Windows_x64.exe) during installation phase</span></span>        |
|<span data-ttu-id="b5bf8-190">%LocalAppData%\Microsoft\Teams</span><span class="sxs-lookup"><span data-stu-id="b5bf8-190">%LocalAppData%\Microsoft\Teams</span></span>  | <span data-ttu-id="b5bf8-191">Updater di Teams (Update. exe) per estrarre e organizzare il pacchetto dell'app durante il processo di aggiornamento</span><span class="sxs-lookup"><span data-stu-id="b5bf8-191">Teams updater (Update.exe) to extract and stage the app package during update process</span></span>        |
|<span data-ttu-id="b5bf8-192">%AppData%\Microsoft\Teams</span><span class="sxs-lookup"><span data-stu-id="b5bf8-192">%AppData%\Microsoft\Teams</span></span>   |  <span data-ttu-id="b5bf8-193">App Teams (teams. exe) per salvare le impostazioni, gli Stati delle app e il pacchetto di aggiornamento (pre-organizzato) Scaricato</span><span class="sxs-lookup"><span data-stu-id="b5bf8-193">Teams app (Teams.exe) to save settings, app states, and the (pre-staged) downloaded update package</span></span>       |

<span data-ttu-id="b5bf8-194">Se a teams viene negato l'accesso perché non può scrivere in un file, un'altra applicazione software potrebbe interferire o una voce del descrittore di sicurezza potrebbe limitare l'accesso in scrittura a una cartella.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-194">If Teams is denied access because it can't write to a file, another software application may be interfering or a security descriptor entry may be limiting write access to a folder.</span></span>

<span data-ttu-id="b5bf8-195">Suggerimenti per la risoluzione dei problemi:</span><span class="sxs-lookup"><span data-stu-id="b5bf8-195">Troubleshooting tips:</span></span>

- <span data-ttu-id="b5bf8-196">Cercare l'evidenza "accesso negato" in SquirrelTemp. log o logs. txt.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-196">Look for "access denied" evidence in SquirrelTemp.log or Logs.txt.</span></span> <span data-ttu-id="b5bf8-197">Selezionare questi file per verificare se è stato tentato di scrivere in un file non riuscito.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-197">Check these files to see whether there was an attempt to write to a file that failed.</span></span>
- <span data-ttu-id="b5bf8-198">Aprire icacls. txt e cercare l'effettiva voce di controllo di accesso (ACE) che blocca le operazioni di scrittura da un utente che non è un amministratore. In genere, si tratta di una delle voci dell'elenco DACL.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-198">Open Icacls.txt and look for the effective access control entry (ACE) that blocks write operations by a user who is not an admin. Typically, this is in one of the DACL entries.</span></span> <span data-ttu-id="b5bf8-199">Per altre informazioni, vedi la [documentazione di icacls](https://docs.microsoft.com/windows-server/administration/windows-commands/icacls).</span><span class="sxs-lookup"><span data-stu-id="b5bf8-199">For more information, see the [icacls documentation](https://docs.microsoft.com/windows-server/administration/windows-commands/icacls).</span></span>

#### <a name="file-corrupted"></a><span data-ttu-id="b5bf8-200">File danneggiato</span><span class="sxs-lookup"><span data-stu-id="b5bf8-200">File corrupted</span></span>

<span data-ttu-id="b5bf8-201">In alcuni casi, il software di crittografia può modificare i file nella cartella%LocalAppData%\Microsoft\Teams, che può impedire l'avvio di teams.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-201">In some cases, encryption software can change files in the %LocalAppData%\Microsoft\Teams folder, which can prevent Teams from starting.</span></span> <span data-ttu-id="b5bf8-202">Questo problema può verificarsi in qualsiasi momento, anche quando l'app non viene aggiornata.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-202">This can happen at any time, even when the app isn't being updated.</span></span> <span data-ttu-id="b5bf8-203">Purtroppo, quando un file è danneggiato, l'unico modo per recuperarlo da questo stato consiste nel disinstallare e reinstallare Team.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-203">Unfortunately, when a file is corrupted, the only way to recover from this state is to uninstall and re-install Teams.</span></span>

> [!NOTE]
> <span data-ttu-id="b5bf8-204">Se non si riesce a determinare la causa sottostante del problema utilizzando uno di questi passaggi, è consigliabile provare una sessione di [monitoraggio processo](https://docs.microsoft.com/sysinternals/downloads/procmon) .</span><span class="sxs-lookup"><span data-stu-id="b5bf8-204">If you can't determine the underlying cause of the issue by using any of these steps, you may want to try a [Process Monitor](https://docs.microsoft.com/sysinternals/downloads/procmon) session.</span></span> <span data-ttu-id="b5bf8-205">Process Monitor è uno strumento di Sysinternals che registra l'accesso al registro di sistema e al file System.</span><span class="sxs-lookup"><span data-stu-id="b5bf8-205">Process Monitor is a Sysinternals tool that records access to the registry and file system.</span></span>

## <a name="related-topics"></a><span data-ttu-id="b5bf8-206">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="b5bf8-206">Related topics</span></span>

- [<span data-ttu-id="b5bf8-207">Ottenere client per Teams</span><span class="sxs-lookup"><span data-stu-id="b5bf8-207">Get clients for Teams</span></span>](get-clients.md)
- [<span data-ttu-id="b5bf8-208">Aggiornamenti del client di Teams</span><span class="sxs-lookup"><span data-stu-id="b5bf8-208">Teams client updates</span></span>](teams-client-update.md)