---
title: Risoluzione dei problemi di installazione e aggiornamento di Microsoft Teams in Windows
author: cichur
ms.author: v-cichur
manager: serdars
ms.reviewer: lenatarhun
ms.topic: article
ms.service: msteams
audience: Admin
ms.collection:
- M365-collaboration
f1.keywords:
- NOCSH
appliesto:
- Microsoft Teams
localization_priority: Normal
search.appverid: MET150
description: Informazioni su come risolvere i problemi di installazione e aggiornamento per il client desktop Teams in Windows.
ms.openlocfilehash: 4183a04458147e63f8168f703bf16682b3bea9e0
ms.sourcegitcommit: c528fad9db719f3fa96dc3fa99332a349cd9d317
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/12/2021
ms.locfileid: "49804556"
---
# <a name="troubleshoot-microsoft-teams-installation-and-update-issues-on-windows"></a><span data-ttu-id="7c282-103">Risoluzione dei problemi di installazione e aggiornamento di Microsoft Teams in Windows</span><span class="sxs-lookup"><span data-stu-id="7c282-103">Troubleshoot Microsoft Teams installation and update issues on Windows</span></span>

<span data-ttu-id="7c282-104">Questo articolo fornisce indicazioni su come diagnosticare e risolvere i problemi di installazione e aggiornamento per il client desktop Teams in esecuzione su Windows.</span><span class="sxs-lookup"><span data-stu-id="7c282-104">This article provides guidance for how to diagnose and troubleshoot installation and update issues for the Teams desktop client app running on Windows.</span></span>

## <a name="check-whether-teams-is-updated-successfully"></a><span data-ttu-id="7c282-105">Verificare che Teams sia stato aggiornato correttamente</span><span class="sxs-lookup"><span data-stu-id="7c282-105">Check whether Teams is updated successfully</span></span>

<span data-ttu-id="7c282-106">Seguire questa procedura per verificare se l'aggiornamento di Teams è stato installato.</span><span class="sxs-lookup"><span data-stu-id="7c282-106">Follow these steps to check whether a Teams update is successfully installed.</span></span>

1. <span data-ttu-id="7c282-107">In Teams selezionare l'immagine del profilo, quindi fare clic su **Informazioni** > **Versione**.</span><span class="sxs-lookup"><span data-stu-id="7c282-107">In Teams, select your profile picture, and then click **About** > **Version**.</span></span>
2. <span data-ttu-id="7c282-108">Dallo stesso menu, selezionare **Controlla aggiornamenti**.</span><span class="sxs-lookup"><span data-stu-id="7c282-108">On the same menu, click **Check for updates**.</span></span>
3. <span data-ttu-id="7c282-109">Attendere che il banner nella parte superiore dell'app indichi che è necessario aggiornare Teams.</span><span class="sxs-lookup"><span data-stu-id="7c282-109">Wait for the banner at the top of the app to indicate that a “refresh” of Teams is needed.</span></span> <span data-ttu-id="7c282-110">Il collegamento dovrebbe venire mostrato dopo circa un minuto, il tempo necessario per scaricare la nuova versione di Teams.</span><span class="sxs-lookup"><span data-stu-id="7c282-110">The link should be shown about a minute later as this process downloads the new version of Teams.</span></span> <span data-ttu-id="7c282-111">Il banner indica anche se si dispone già della versione più recente. In tal caso, non è necessario eseguire alcun aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="7c282-111">The banner also lets you know if you’re already running the latest version in which case, no update is necessary.</span></span>
4. <span data-ttu-id="7c282-112">Fare clic sul collegamento Aggiorna nel banner.</span><span class="sxs-lookup"><span data-stu-id="7c282-112">Click the refresh link in the banner.</span></span>
5. <span data-ttu-id="7c282-113">Attendere il riavvio di Teams, quindi ripetere il passaggio 1 per assicurarsi che l'app sia stata aggiornata.</span><span class="sxs-lookup"><span data-stu-id="7c282-113">Wait until Teams restarts, and then repeat step 1 to see whether the app is updated.</span></span>

<span data-ttu-id="7c282-114">Se si visualizza un messaggio di errore o se il numero della versione corrisponde a quello del passaggio 4, il processo di aggiornamento non è riuscito.</span><span class="sxs-lookup"><span data-stu-id="7c282-114">If you see a failure message or if the version number is the same as in step 4, the update process failed.</span></span>

## <a name="troubleshoot-installation-and-update-issues"></a><span data-ttu-id="7c282-115">Risoluzione dei problemi di installazione e aggiornamento</span><span class="sxs-lookup"><span data-stu-id="7c282-115">Troubleshoot installation and update issues</span></span>

### <a name="troubleshoot-installation-issues"></a><span data-ttu-id="7c282-116">Risoluzione dei problemi di installazione</span><span class="sxs-lookup"><span data-stu-id="7c282-116">Troubleshoot installation issues</span></span>

<span data-ttu-id="7c282-117">Una volta installato, il programma di installazione di Teams registra la sequenza di eventi in %LocalAppData%\SquirrelTemp\SquirrelSetup.log.</span><span class="sxs-lookup"><span data-stu-id="7c282-117">When Teams is installed, the Teams installer logs the sequence of events to %LocalAppData%\SquirrelTemp\SquirrelSetup.log.</span></span> <span data-ttu-id="7c282-118">Per prima cosa, verificare la presenza di messaggi di errore o stack di chiamate verso la fine del log.</span><span class="sxs-lookup"><span data-stu-id="7c282-118">The first thing to look for is an error message or a call stack near the end of the log.</span></span> <span data-ttu-id="7c282-119">Tenere presente che gli stack di chiamate all'inizio del log potrebbero non indicare l'esistenza di un problema di installazione.</span><span class="sxs-lookup"><span data-stu-id="7c282-119">Note that call stacks at the beginning of the log may not mean that an installation issue exists.</span></span> <span data-ttu-id="7c282-120">Potrebbe essere più semplice confrontare il proprio log con quello di un'installazione riuscita (anche di un altro computer) per vedere il risultato previsto.</span><span class="sxs-lookup"><span data-stu-id="7c282-120">It can be easier to compare your log against the log from a successful installation (even on another machine) to see what's expected.</span></span>

<span data-ttu-id="7c282-121">Se SquirrelSetup.log non indica la causa o sono necessarie maggiori informazioni per risolvere il problema, vedere [Raccogliere e analizzare i log di sistema e dell'applicazione](#collect-and-analyze-application-and-system-logs).</span><span class="sxs-lookup"><span data-stu-id="7c282-121">If SquirrelSetup.log doesn't indicate the cause or if you need more information to troubleshoot the issue, see [Collect and analyze application and system logs](#collect-and-analyze-application-and-system-logs).</span></span>

### <a name="troubleshoot-update-issues"></a><span data-ttu-id="7c282-122">Risoluzione dei problemi di aggiornamento</span><span class="sxs-lookup"><span data-stu-id="7c282-122">Troubleshoot update issues</span></span>

<span data-ttu-id="7c282-123">Una volta completata l'installazione di Teams, la posizione dei log cambia da %LocalAppData%\SquirrelTemp a %LocalAppData%\Microsoft\Teams.</span><span class="sxs-lookup"><span data-stu-id="7c282-123">When Teams is successfully installed, the log location switches from %LocalAppData%\SquirrelTemp to %LocalAppData%\Microsoft\Teams.</span></span> <span data-ttu-id="7c282-124">In questa posizione sono disponibili due file di log utili, SquirrelSetup.log e Logs.txt.</span><span class="sxs-lookup"><span data-stu-id="7c282-124">At this location, there are two log files of interest, SquirrelSetup.log and logs.txt.</span></span>

- <span data-ttu-id="7c282-125">Il file SquirrelSetup.log in questa posizione è scritto da Update.exe, ossia un eseguibile per l'app Teams.</span><span class="sxs-lookup"><span data-stu-id="7c282-125">The SquirrelSetup.log file at this location is written by Update.exe, which is an executable that services the Teams app.</span></span>
- <span data-ttu-id="7c282-126">Il file Logs.txt viene usato dall'app Teams (da Teams.exe nello specifico) per registrare eventi significativi dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="7c282-126">The Logs.txt file is used by the Teams app (specifically Teams.exe) to record significant application events.</span></span> <span data-ttu-id="7c282-127">È probabile che questo contenga informazioni sugli errori.</span><span class="sxs-lookup"><span data-stu-id="7c282-127">It will likely contain failure information.</span></span>

<span data-ttu-id="7c282-128">Questi file di log contengono informazioni personali (PII), quindi non vengono inviati a Microsoft.</span><span class="sxs-lookup"><span data-stu-id="7c282-128">These log files contain personally identifiable information (PII) and so they're not sent to Microsoft.</span></span>

<span data-ttu-id="7c282-129">Il processo di aggiornamento può essere avviato automaticamente da Teams (a seconda dei criteri) oppure manualmente dall’utente dopo aver verificato la disponibilità di aggiornamenti selezionando l'immagine del profilo > **Controlla aggiornamenti**.</span><span class="sxs-lookup"><span data-stu-id="7c282-129">Teams can automatically start the update process (depending on the policy) or users can manually check for updates by going to their profile picture > **Check for updates**.</span></span> <span data-ttu-id="7c282-130">Entrambi i metodi usano la sequenza di eventi seguente.</span><span class="sxs-lookup"><span data-stu-id="7c282-130">Both methods use the following sequence of events.</span></span>

1. <span data-ttu-id="7c282-131">**Controllo aggiornamenti**.</span><span class="sxs-lookup"><span data-stu-id="7c282-131">**Check for updates**.</span></span> <span data-ttu-id="7c282-132">Teams effettua una richiesta Web e include le informazioni sulla versione corrente dell'app e sull'anello di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="7c282-132">Teams makes a web request and includes the current app version and deployment ring information.</span></span> <span data-ttu-id="7c282-133">L'obiettivo di questo passaggio è ottenere il collegamento per il download.</span><span class="sxs-lookup"><span data-stu-id="7c282-133">The goal of this step is to get the download link.</span></span> <span data-ttu-id="7c282-134">Un errore durante questo passaggio viene registrato in Logs.txt.</span><span class="sxs-lookup"><span data-stu-id="7c282-134">A failure at this step is logged in Logs.txt.</span></span>
2. <span data-ttu-id="7c282-135">**Download dell'aggiornamento**.</span><span class="sxs-lookup"><span data-stu-id="7c282-135">**Download update**.</span></span> <span data-ttu-id="7c282-136">Teams scarica l'aggiornamento tramite il collegamento per il download ottenuto al passaggio 1.</span><span class="sxs-lookup"><span data-stu-id="7c282-136">Teams downloads the update by using the download link obtained from step 1.</span></span> <span data-ttu-id="7c282-137">Una volta completato il download, Teams invia una chiamata a Update.exe per eseguire un’installazione di appoggio del download.</span><span class="sxs-lookup"><span data-stu-id="7c282-137">When the download is complete, Teams calls Update.exe to stage the download.</span></span> <span data-ttu-id="7c282-138">Anche un errore di download viene registrato in Logs.txt.</span><span class="sxs-lookup"><span data-stu-id="7c282-138">A download failure is also logged in Logs.txt.</span></span>
3. <span data-ttu-id="7c282-139">**Eseguire un’installazione di appoggio dell'aggiornamento**.</span><span class="sxs-lookup"><span data-stu-id="7c282-139">**Stage the update**.</span></span> <span data-ttu-id="7c282-140">Il contenuto scaricato viene verificato e decompresso in una cartella intermedia, %LocalAppData%\Microsoft\Teams\stage), che viene creata da Update.exe.</span><span class="sxs-lookup"><span data-stu-id="7c282-140">The downloaded content is verified and unpacked into an intermediate folder, %LocalAppData%\Microsoft\Teams\stage), which is done by Update.exe.</span></span> <span data-ttu-id="7c282-141">Gli errori che si verificano durante questo passaggio vengono registrati in SquirrelTemp.log.</span><span class="sxs-lookup"><span data-stu-id="7c282-141">Failures at this step are logged in SquirrelTemp.log.</span></span>
4. <span data-ttu-id="7c282-142">**Installazione dell'aggiornamento**.</span><span class="sxs-lookup"><span data-stu-id="7c282-142">**Install the update**.</span></span> <span data-ttu-id="7c282-143">Esistono diversi modi per avviare Teams.</span><span class="sxs-lookup"><span data-stu-id="7c282-143">There are multiple ways to start Teams.</span></span> <span data-ttu-id="7c282-144">Il sistema avvia automaticamente Teams quando un utente accede o è possibile avviarlo manualmente tramite un collegamento.</span><span class="sxs-lookup"><span data-stu-id="7c282-144">The system automatically starts Teams when a user logs in or you can start Teams through a shortcut.</span></span> <span data-ttu-id="7c282-145">Durante questo passaggio, Update.exe verifica la presenza della cartella di gestione temporanea, controlla nuovamente il contenuto ed esegue le operazioni sui file per annullare l’installazione di appoggio dell'app.</span><span class="sxs-lookup"><span data-stu-id="7c282-145">In this step, Update.exe checks for the presence of the staging folder, verifies the content again, and performs file operations to un-stage the app.</span></span> <span data-ttu-id="7c282-146">Viene eseguito il backup della precedente cartella dell'applicazione in %LocalAppData%\Microsoft\Teams\current a %LocalAppData%\Microsoft\Teams\previous e la cartella di gestione temporanea viene rinominata come "corrente".</span><span class="sxs-lookup"><span data-stu-id="7c282-146">The old application folder in %LocalAppData%\Microsoft\Teams\current is backed up to %LocalAppData%\Microsoft\Teams\previous and the stage folder is renamed to "current".</span></span> <span data-ttu-id="7c282-147">Gli errori che si verificano durante questo passaggio vengono registrati in SquirrelTemp.log.</span><span class="sxs-lookup"><span data-stu-id="7c282-147">Failures at this step are logged in SquirrelTemp.log.</span></span>

<span data-ttu-id="7c282-148">Se SquirrelTemp.log o Logs.txt non contengono informazioni sufficienti per determinare la causa e sono necessarie maggiori informazioni per risolvere il problema, passare alla sezione [Raccogliere e analizzare i log di sistema e dell'applicazione](#collect-and-analyze-application-and-system-logs).</span><span class="sxs-lookup"><span data-stu-id="7c282-148">If SquirrelTemp.log or Logs.txt don't contain sufficient information to determine the underlying cause and you need more information to troubleshoot the issue, go to [Collect and analyze application and system logs](#collect-and-analyze-application-and-system-logs).</span></span>

## <a name="collect-and-analyze-application-and-system-logs"></a><span data-ttu-id="7c282-149">Raccogliere e analizzare i log di sistema e dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="7c282-149">Collect and analyze application and system logs</span></span>

<span data-ttu-id="7c282-150">Questa sezione descrive come raccogliere e analizzare i log di sistema e dell'applicazione per ottenere informazioni più complete per la risoluzione del problema.</span><span class="sxs-lookup"><span data-stu-id="7c282-150">This section describes how to collect and analyze application and system logs to get more comprehensive information to troubleshoot the issue.</span></span> <span data-ttu-id="7c282-151">Sarà necessario utilizzare gli strumenti di Sysinternals per completare questi passaggi.</span><span class="sxs-lookup"><span data-stu-id="7c282-151">You'll use Sysinternals tools to complete these steps.</span></span> <span data-ttu-id="7c282-152">Per altre informazioni, vedere [Windows Sysinternals](https://docs.microsoft.com/sysinternals/).</span><span class="sxs-lookup"><span data-stu-id="7c282-152">To learn more, see [Windows Sysinternals](https://docs.microsoft.com/sysinternals/).</span></span>

### <a name="collect-logs"></a><span data-ttu-id="7c282-153">Raccolta dei log</span><span class="sxs-lookup"><span data-stu-id="7c282-153">Collect logs</span></span>

1. <span data-ttu-id="7c282-154">Scaricare gli [strumenti di Sysinternals](https://download.sysinternals.com/files/SysinternalsSuite.zip).</span><span class="sxs-lookup"><span data-stu-id="7c282-154">Download the [Sysinternals tools](https://download.sysinternals.com/files/SysinternalsSuite.zip).</span></span>
2. <span data-ttu-id="7c282-155">Estrarre il file ZIP nella cartella %TEMP% nell'unità locale.</span><span class="sxs-lookup"><span data-stu-id="7c282-155">Extract the zip file to the %TEMP% folder on your local drive.</span></span>
3. <span data-ttu-id="7c282-156">Aprire un prompt dei comandi con privilegi elevati ed eseguire le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="7c282-156">Open an elevated command prompt, and then do the following:</span></span>

    1. <span data-ttu-id="7c282-157">Per passare alla cartella TEMP, eseguire il comando seguente:</span><span class="sxs-lookup"><span data-stu-id="7c282-157">Run the following to go to your TEMP folder:</span></span>

        ```console
        cd /d %TEMP%
        ```
    2. <span data-ttu-id="7c282-158">Copiare i log di configurazione e dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="7c282-158">Copy the setup and application logs.</span></span> <span data-ttu-id="7c282-159">A seconda del punto di errore, alcuni di questi log potrebbero non essere presenti.</span><span class="sxs-lookup"><span data-stu-id="7c282-159">Note that depending on the point of failure, some of these logs may not be present.</span></span>

        ```console
        copy %LocalAppData%\SquirrelTemp\SquirrelSetup.log SquirrelSetup.log
        copy %AppData%\Microsoft\Teams\logs.txt logs.txt
        copy %LocalAppData%\Microsoft\Teams\SquirrelSetup.log SquirrelSetup_Teams.log
        ```
    3. <span data-ttu-id="7c282-160">Eseguire il comando seguente per acquisire gli handle aperti.</span><span class="sxs-lookup"><span data-stu-id="7c282-160">Run the following to capture the open handles.</span></span>

        ```console
        handle > handles.txt
        ```

    4. <span data-ttu-id="7c282-161">Eseguire il comando seguente per acquisire le DLL aperte</span><span class="sxs-lookup"><span data-stu-id="7c282-161">Run the following to capture the opened DLLs.</span></span>

        ```console
        listdlls -v Teams > dlls.txt
        ```
    5. <span data-ttu-id="7c282-162">Eseguire il comando seguente per acquisire i driver in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="7c282-162">Run the following to capture the drivers that are running.</span></span>

        ```console
        driverquery /v > driverquery.txt
        ```

    6. <span data-ttu-id="7c282-163">Eseguire il comando seguente per acquisire gli elenchi di controllo di accesso (ACL) della cartella di Teams.</span><span class="sxs-lookup"><span data-stu-id="7c282-163">Run the following to capture the access control lists (ACLs) of the Teams folder.</span></span>

        ```console 
        icacls %LOCALAPPDATA%\Microsoft\Teams /save icacls.txt /T
        ```

### <a name="analyze-logs-for-advanced-users"></a><span data-ttu-id="7c282-164">Analisi dei log (per utenti esperti)</span><span class="sxs-lookup"><span data-stu-id="7c282-164">Analyze logs (for advanced users)</span></span>

<span data-ttu-id="7c282-165">Un aggiornamento non riuscito può causare un comportamento imprevedibile dell'app.</span><span class="sxs-lookup"><span data-stu-id="7c282-165">A failed update can result in unpredictable app behavior.</span></span> <span data-ttu-id="7c282-166">Ad esempio, gli utenti potrebbero non poter uscire da Teams, avere una versione non aggiornata o non riuscire ad avviare Teams.</span><span class="sxs-lookup"><span data-stu-id="7c282-166">For example, users may be unable to exit Teams, have a stale version of Teams, or can't start Teams.</span></span> <span data-ttu-id="7c282-167">Se si verifica un problema durante un aggiornamento, SquirrelTemp.log è il primo posto dove cercare la causa.</span><span class="sxs-lookup"><span data-stu-id="7c282-167">If you experience an issue during an update, the first place to look to find the cause is SquirrelTemp.log.</span></span> <span data-ttu-id="7c282-168">Di seguito sono indicati i diversi tipi di errore di aggiornamento (elencati dal più comune al più raro) e i metodi per analizzarli e risolverli tramite i log.</span><span class="sxs-lookup"><span data-stu-id="7c282-168">Here are the different types of update failures, listed from most common to least common, and how to analyze and troubleshoot them using logs.</span></span>

#### <a name="unable-to-exit-teams"></a><span data-ttu-id="7c282-169">Chiusura di Teams non consentita</span><span class="sxs-lookup"><span data-stu-id="7c282-169">Unable to exit Teams</span></span>

<span data-ttu-id="7c282-170">Quando Teams deve essere aggiornato a una versione più recente, viene scaricata ed eseguita un’installazione di appoggio della nuova app. Il riavvio viene eseguito non appena il computer è inattivo.</span><span class="sxs-lookup"><span data-stu-id="7c282-170">As Teams determines that it needs to update itself to a newer version, it downloads and stages the new app, and then waits for an opportunity to restart itself the next time the machine is idle.</span></span> <span data-ttu-id="7c282-171">Un problema comune in questi casi è che un altro processo o un driver del file system blocca il processo di Teams.exe, impedendo la chiusura.</span><span class="sxs-lookup"><span data-stu-id="7c282-171">A common issue during this process is when another process or a file system driver locks up the Teams.exe process, which prevents Teams.exe from exiting.</span></span> <span data-ttu-id="7c282-172">Di conseguenza, l'app Teams non può essere sostituita dall'app appena scaricata e per la quale è stata eseguita un’installazione di appoggio.</span><span class="sxs-lookup"><span data-stu-id="7c282-172">As a result, the Teams app can't be replaced by the newly-downloaded and staged app.</span></span>

<span data-ttu-id="7c282-173">Suggerimenti per la risoluzione del problema:</span><span class="sxs-lookup"><span data-stu-id="7c282-173">Troubleshooting tips:</span></span>

- <span data-ttu-id="7c282-174">Per confermare che si tratti del problema riscontrato, chiudere Teams (fare clic con il pulsante destro del mouse su Teams nella barra delle applicazioni e quindi selezionare **Esci**).</span><span class="sxs-lookup"><span data-stu-id="7c282-174">To confirm that is the issue that you're experiencing, quit Teams (right-click Teams on the task bar, and then click **Quit**).</span></span> <span data-ttu-id="7c282-175">Aprire Gestione attività in Windows per controllare se sono presenti istanze di Teams ancora in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="7c282-175">Then, open Task Manager in Windows to see whether an instance of Teams is still running.</span></span>  
- <span data-ttu-id="7c282-176">Se non si sta utilizzando il computer in cui si è riscontrato il problema, esaminare il file SquirrelTemp.log raccolto dal computer in cui si è verificato e cercare la voce "Programma: non è possibile terminare il processo nel log".</span><span class="sxs-lookup"><span data-stu-id="7c282-176">If you’re not on the computer that's having this issue, inspect the SquirrelTemp.log collected from the computer that's experiencing this issue and look for a "Program: Unable to terminate the process in the log" entry.</span></span>
- <span data-ttu-id="7c282-177">Per determinare la causa che impedisce la chiusura di Teams.exe, consultare i log Dlls.txt e Handles.txt.</span><span class="sxs-lookup"><span data-stu-id="7c282-177">To determine what's preventing Teams.exe from exiting, look at the Dlls.txt and Handles.txt logs.</span></span> <span data-ttu-id="7c282-178">Questi indicheranno i processi che impediscono la chiusura di Teams.</span><span class="sxs-lookup"><span data-stu-id="7c282-178">These tell you the processes that prevented Teams from exiting.</span></span>
- <span data-ttu-id="7c282-179">Un'altra causa che potrebbe impedire la chiusura di Teams potrebbe essere il driver del filtro del file system in modalità kernel.</span><span class="sxs-lookup"><span data-stu-id="7c282-179">Another culprit that can prevent Teams from exiting is the kernel-mode file system filter driver.</span></span> <span data-ttu-id="7c282-180">Usare [ProcDump](https://docs.microsoft.com/sysinternals/downloads/procdump), uno strumento di SysInternals, per raccogliere i dettagli del processo in modalità kernel eseguendo ```procdump -mk <pid>```, dove <pid> è l'ID processo ottenuto tramite Gestione attività.</span><span class="sxs-lookup"><span data-stu-id="7c282-180">Use the SysInternals tool, [ProcDump](https://docs.microsoft.com/sysinternals/downloads/procdump), to collect the kernel-mode process dump by running ```procdump -mk <pid>```, where <pid> is the process ID obtained from Task Manager.</span></span> <span data-ttu-id="7c282-181">Inoltre, è possibile esaminare il file del log Driverquery.txt per visualizzare i driver attivi del filtro che potrebbero interferire con Teams.</span><span class="sxs-lookup"><span data-stu-id="7c282-181">You can also inspect the Driverquery.txt log file to see the active filter drivers that may interfere with Teams.</span></span>
- <span data-ttu-id="7c282-182">Per risolvere il problema, riavviare il computer.</span><span class="sxs-lookup"><span data-stu-id="7c282-182">To recover from this state, restart the computer.</span></span>

#### <a name="file-permissions"></a><span data-ttu-id="7c282-183">Autorizzazioni per i file</span><span class="sxs-lookup"><span data-stu-id="7c282-183">File permissions</span></span>

<span data-ttu-id="7c282-184">Teams crea diverse sottocartelle e file nel profilo dell'utente durante il processo di installazione e aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="7c282-184">Teams creates a number of subfolders and files in the user's profile throughout the installation and update process.</span></span> <span data-ttu-id="7c282-185">Poiché l'app e lo strumento di aggiornamento vengono eseguiti come utente senza privilegi elevati, le autorizzazioni di lettura e scrittura devono venire concesse nelle cartelle seguenti:</span><span class="sxs-lookup"><span data-stu-id="7c282-185">Because the app and the updater runs as a non-elevated user, read and write permissions must be granted on the following folders:</span></span>

|<span data-ttu-id="7c282-186">Cartella</span><span class="sxs-lookup"><span data-stu-id="7c282-186">Folder</span></span>  |<span data-ttu-id="7c282-187">In uso da</span><span class="sxs-lookup"><span data-stu-id="7c282-187">Used by</span></span>  |
|---------|---------|
|<span data-ttu-id="7c282-188">%LocalAppData%\SquirrelTemp</span><span class="sxs-lookup"><span data-stu-id="7c282-188">%LocalAppData%\SquirrelTemp</span></span>     | <span data-ttu-id="7c282-189">Programma di installazione di Teams (ad esempio Teams_Windows_x64.exe), durante la fase di installazione</span><span class="sxs-lookup"><span data-stu-id="7c282-189">Teams installer (for example, Teams_Windows_x64.exe) during installation phase</span></span>        |
|<span data-ttu-id="7c282-190">%LocalAppData%\Microsoft\Teams</span><span class="sxs-lookup"><span data-stu-id="7c282-190">%LocalAppData%\Microsoft\Teams</span></span>  | <span data-ttu-id="7c282-191">Strumento di aggiornamento di Teams (Update.exe), per estrarre ed eseguire un’installazione di appoggio dell’app durante il processo di aggiornamento</span><span class="sxs-lookup"><span data-stu-id="7c282-191">Teams updater (Update.exe) to extract and stage the app package during update process</span></span>        |
|<span data-ttu-id="7c282-192">%AppData%\Microsoft\Teams</span><span class="sxs-lookup"><span data-stu-id="7c282-192">%AppData%\Microsoft\Teams</span></span>   |  <span data-ttu-id="7c282-193">App Teams (Teams.exe), per salvare le impostazioni, gli stati dell'app e il pacchetto di aggiornamento scaricato (pre-installato)</span><span class="sxs-lookup"><span data-stu-id="7c282-193">Teams app (Teams.exe) to save settings, app states, and the (pre-staged) downloaded update package</span></span>       |

<span data-ttu-id="7c282-194">Se a Teams viene negato l'accesso perché non autorizzato a scrivere in un file, è possibile che sia un'altra applicazione software ad interferire oppure che la voce di un descrittore di sicurezza stia limitando l'accesso in scrittura a una cartella.</span><span class="sxs-lookup"><span data-stu-id="7c282-194">If Teams is denied access because it can't write to a file, another software application may be interfering or a security descriptor entry may be limiting write access to a folder.</span></span>

<span data-ttu-id="7c282-195">Suggerimenti per la risoluzione del problema:</span><span class="sxs-lookup"><span data-stu-id="7c282-195">Troubleshooting tips:</span></span>

- <span data-ttu-id="7c282-196">Cercare la voce "accesso negato" in SquirrelTemp.log o Logs.txt.</span><span class="sxs-lookup"><span data-stu-id="7c282-196">Look for "access denied" evidence in SquirrelTemp.log or Logs.txt.</span></span> <span data-ttu-id="7c282-197">Controllare questi file per verificare la presenza di un tentativo di scrittura non riuscito in un file.</span><span class="sxs-lookup"><span data-stu-id="7c282-197">Check these files to see whether there was an attempt to write to a file that failed.</span></span>
- <span data-ttu-id="7c282-198">Aprire Icacls.txt e cercare la voce di controllo di accesso (ACE) in funzione che blocca le operazioni di scrittura di un utente non amministratore. In genere, si tratta di una delle voci del DACL.</span><span class="sxs-lookup"><span data-stu-id="7c282-198">Open Icacls.txt and look for the effective access control entry (ACE) that blocks write operations by a user who is not an admin. Typically, this is in one of the DACL entries.</span></span> <span data-ttu-id="7c282-199">Per altre informazioni, vedere la [documentazione di icacls](https://docs.microsoft.com/windows-server/administration/windows-commands/icacls).</span><span class="sxs-lookup"><span data-stu-id="7c282-199">For more information, see the [icacls documentation](https://docs.microsoft.com/windows-server/administration/windows-commands/icacls).</span></span>

#### <a name="file-corrupted"></a><span data-ttu-id="7c282-200">File danneggiato</span><span class="sxs-lookup"><span data-stu-id="7c282-200">File corrupted</span></span>

<span data-ttu-id="7c282-201">In alcuni casi, il software di crittografia può cambiare i file della cartella %LocalAppData%\Microsoft\Teams, impedendo l'avvio di Teams.</span><span class="sxs-lookup"><span data-stu-id="7c282-201">In some cases, encryption software can change files in the %LocalAppData%\Microsoft\Teams folder, which can prevent Teams from starting.</span></span> <span data-ttu-id="7c282-202">Ciò può verificarsi in qualsiasi momento, anche quando l'app non è in corso di aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="7c282-202">This can happen at any time, even when the app isn't being updated.</span></span> <span data-ttu-id="7c282-203">Quando un file viene danneggiato, l'unico modo per risolvere il problema è disinstallare e reinstallare Teams.</span><span class="sxs-lookup"><span data-stu-id="7c282-203">Unfortunately, when a file is corrupted, the only way to recover from this state is to uninstall and re-install Teams.</span></span>

> [!NOTE]
> <span data-ttu-id="7c282-204">Se non è possibile determinare la causa del problema tramite uno di questi passaggi, potrebbe essere necessaria una sessione di [Process Monitor](https://docs.microsoft.com/sysinternals/downloads/procmon).</span><span class="sxs-lookup"><span data-stu-id="7c282-204">If you can't determine the underlying cause of the issue by using any of these steps, you may want to try a [Process Monitor](https://docs.microsoft.com/sysinternals/downloads/procmon) session.</span></span> <span data-ttu-id="7c282-205">Process Monitor è uno strumento di Sysinternals che registra l'accesso al file system e al Registro di sistema.</span><span class="sxs-lookup"><span data-stu-id="7c282-205">Process Monitor is a Sysinternals tool that records access to the registry and file system.</span></span>

## <a name="related-topics"></a><span data-ttu-id="7c282-206">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="7c282-206">Related topics</span></span>

- [<span data-ttu-id="7c282-207">Ottenere client per Teams</span><span class="sxs-lookup"><span data-stu-id="7c282-207">Get clients for Teams</span></span>](get-clients.md)
- [<span data-ttu-id="7c282-208">Aggiornamenti del client di Teams</span><span class="sxs-lookup"><span data-stu-id="7c282-208">Teams client updates</span></span>](teams-client-update.md)
- [<span data-ttu-id="7c282-209">Risoluzione dei problemi di Teams</span><span class="sxs-lookup"><span data-stu-id="7c282-209">Teams Troubleshooting</span></span>](https://docs.microsoft.com/MicrosoftTeams/troubleshoot/teams)
