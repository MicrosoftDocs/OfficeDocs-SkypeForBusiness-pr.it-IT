---
title: Installare Skype for Business Server nei server della topologia
ms.reviewer: ''
ms.author: v-cichur
author: cichur
manager: serdars
ms.date: 2/15/2018
audience: ITPro
ms.topic: quickstart
ms.prod: skype-for-business-itpro
f1.keywords:
- NOCSH
localization_priority: Normal
ms.collection:
- IT_Skype16
- Strat_SB_Admin
ms.custom: ''
ms.assetid: defd6b2c-f267-4f8c-bc94-8894e2a429b6
description: "Riepilogo: informazioni su come installare i componenti di sistema di Skype for Business Server in ogni server della topologia. Scaricare una versione di valutazione gratuita di Skype for Business Server dal Centro di valutazione Microsoft all'indirizzo: https://www.microsoft.com/evalcenter/evaluate-skype-for-business-server ."
ms.openlocfilehash: e6aa1dde01f7f91b7d1c18b1664a3658911cf50b
ms.sourcegitcommit: c528fad9db719f3fa96dc3fa99332a349cd9d317
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/12/2021
ms.locfileid: "49801686"
---
# <a name="install-skype-for-business-server-on-servers-in-the-topology"></a><span data-ttu-id="9b496-104">Installare Skype for Business Server nei server della topologia</span><span class="sxs-lookup"><span data-stu-id="9b496-104">Install Skype for Business Server on servers in the topology</span></span>
 
<span data-ttu-id="9b496-105">**Riepilogo:** Informazioni su come installare i componenti di sistema di Skype for Business Server in ogni server della topologia.</span><span class="sxs-lookup"><span data-stu-id="9b496-105">**Summary:** Learn how to install the Skype for Business Server system components on each server in the topology.</span></span> <span data-ttu-id="9b496-106">Scaricare una versione di valutazione gratuita di Skype for Business Server dal [Centro di valutazione Microsoft.](https://www.microsoft.com/evalcenter/evaluate-skype-for-business-server)</span><span class="sxs-lookup"><span data-stu-id="9b496-106">Download a free trial of Skype for Business Server from the [Microsoft Evaluation center](https://www.microsoft.com/evalcenter/evaluate-skype-for-business-server).</span></span>
  
<span data-ttu-id="9b496-107">Dopo aver caricato la topologia nell'archivio di gestione centrale e che Active Directory sa quali server eseguiranno i ruoli, è necessario installare il sistema Skype for Business Server in ognuno dei server della topologia.</span><span class="sxs-lookup"><span data-stu-id="9b496-107">Once the topology is loaded into the Central Management Store and Active Directory knows which servers will perform which roles, you need to install the Skype for Business Server system on each of the servers in the topology.</span></span> <span data-ttu-id="9b496-108">È possibile eseguire i passaggi da 1 a 5 in qualsiasi ordine.</span><span class="sxs-lookup"><span data-stu-id="9b496-108">You can do steps 1 through 5 in any order.</span></span> <span data-ttu-id="9b496-109">È tuttavia necessario eseguire i passaggi 6, 7 e 8 nell'ordine e dopo i passaggi da 1 a 5 come illustrato nel diagramma.</span><span class="sxs-lookup"><span data-stu-id="9b496-109">However, you must do steps 6, 7, and 8 in order, and after steps 1 through 5 as outlined in the diagram.</span></span> <span data-ttu-id="9b496-110">L'installazione del sistema Skype for Business Server è il passaggio 7 di 8.</span><span class="sxs-lookup"><span data-stu-id="9b496-110">Installing the Skype for Business Server system is step 7 of 8.</span></span>
  
![Diagramma di panoramica.](../../media/6855713d-a5b4-4e5b-8f83-fef3d7a5ec5d.png)
  
## <a name="install-skype-for-business-server-system"></a><span data-ttu-id="9b496-112">Installare il sistema Skype for Business Server</span><span class="sxs-lookup"><span data-stu-id="9b496-112">Install Skype for Business Server system</span></span>

<span data-ttu-id="9b496-113">Dopo aver pubblicato una topologia, è possibile installare i componenti di Skype for Business Server in ogni server della topologia.</span><span class="sxs-lookup"><span data-stu-id="9b496-113">Once you have published a topology, you can install the Skype for Business Server components on each server in the topology.</span></span> <span data-ttu-id="9b496-114">In questa sezione viene illustrata l'installazione di Skype for Business Server e la configurazione dei ruoli del server per il pool Front End e gli eventuali ruoli del server collocati nei Front End Server.</span><span class="sxs-lookup"><span data-stu-id="9b496-114">This section guides you through installing Skype for Business Server and setting up the server roles for the Front End pool and any server roles that are collocated with the Front End servers.</span></span> <span data-ttu-id="9b496-115">Per installare e configurare i ruoli del server, eseguire la Distribuzione guidata di Skype for Business Server in ogni computer in cui si sta installando un ruolo del server.</span><span class="sxs-lookup"><span data-stu-id="9b496-115">To install and set up server roles, you run the Skype for Business Server Deployment Wizard on each computer on which you are installing a server role.</span></span> <span data-ttu-id="9b496-116">Utilizzare la Distribuzione guidata per completare tutti e quattro i passaggi di distribuzione, tra cui l'installazione dell'archivio di configurazione locale, l'installazione dei Front End Server, la configurazione dei certificati e l'avvio dei servizi.</span><span class="sxs-lookup"><span data-stu-id="9b496-116">You use the Deployment Wizard to complete all four deployment steps, including installing the Local Configuration store, installing the Front End Servers, configuring certificates, and starting services.</span></span>
  
> [!IMPORTANT]
> <span data-ttu-id="9b496-117">È necessario utilizzare Generatore di topologie per completare e pubblicare la topologia prima di installare Skype for Business Server nei server.</span><span class="sxs-lookup"><span data-stu-id="9b496-117">You must use Topology Builder to complete and publish the topology before you can install Skype for Business Server on servers.</span></span> 
  
> [!NOTE]
> <span data-ttu-id="9b496-118">Questa procedura deve essere completata per tutti i server della topologia.</span><span class="sxs-lookup"><span data-stu-id="9b496-118">This procedure must be completed for all servers in the topology.</span></span> 
  
> [!CAUTION]
> <span data-ttu-id="9b496-119">Dopo aver installato Skype for Business Server in un Front End Server, la prima volta che si avviano i servizi, è necessario verificare che il servizio Windows Firewall sia in esecuzione nel server.</span><span class="sxs-lookup"><span data-stu-id="9b496-119">After you install Skype for Business Server on a Front End Server, the first time you start services, you must make sure that the Windows Firewall Service is running on the server.</span></span> 
  
> [!CAUTION]
> <span data-ttu-id="9b496-120">Prima di eseguire questa procedura, verificare di aver eseguito l'accesso al server con un account utente di dominio sia amministratore locale che membro del gruppo RTCUniversalServerAdmins.</span><span class="sxs-lookup"><span data-stu-id="9b496-120">Before you follow these steps, make sure you're logged onto the server with a domain user account that's both a local administrator and a member of the RTCUniversalServerAdmins group.</span></span> 
  
> [!NOTE]
> <span data-ttu-id="9b496-121">Se non hai già eseguito l'installazione di Skype for Business Server su questo server, ti verrà richiesto di specificare un'unità e un percorso per l'installazione.</span><span class="sxs-lookup"><span data-stu-id="9b496-121">If you haven't run Skype for Business Server setup on this server before, you'll be prompted for a drive and path for the installation.</span></span> <span data-ttu-id="9b496-122">In questo modo è possibile eseguire l'installazione in un'unità diversa dall'unità di sistema, se richiesta dall'organizzazione o in caso di problemi di spazio.</span><span class="sxs-lookup"><span data-stu-id="9b496-122">This provides the capability to install to a drive other than the system drive, if your organization requires it, or if you have space concerns.</span></span> <span data-ttu-id="9b496-123">È possibile modificare il percorso di installazione per  i file di Skype for Business Server nella finestra di dialogo di installazione in una nuova unità disponibile.</span><span class="sxs-lookup"><span data-stu-id="9b496-123">You can change the installation location path for the Skype for Business Server files in the **Setup** dialog box to a new, available drive.</span></span> <span data-ttu-id="9b496-124">Se si installano i file di installazione in questo percorso, incluso OCSCore.msi, verranno distribuiti anche gli altri file di Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="9b496-124">If you install the Setup files to this path, including OCSCore.msi, the rest of the Skype for Business Server files will deploy there as well.</span></span>
  
> [!IMPORTANT]
> <span data-ttu-id="9b496-125">Prima di iniziare l'installazione, assicurati che Windows Server sia aggiornato tramite Windows Update.</span><span class="sxs-lookup"><span data-stu-id="9b496-125">Before you begin the installation, make sure that Windows Server is up-to-date by using Windows Update.</span></span> 
  
![Windows Server aggiornato.](../../media/a8d57a97-a55e-443b-b304-c534ae9a71b2.png)
  
### <a name="install-skype-for-business-server-system"></a><span data-ttu-id="9b496-127">Installare il sistema Skype for Business Server</span><span class="sxs-lookup"><span data-stu-id="9b496-127">Install Skype for Business Server system</span></span>

1. <span data-ttu-id="9b496-128">Inserire il supporto di installazione di Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="9b496-128">Insert the Skype for Business Server installation media.</span></span> <span data-ttu-id="9b496-129">Se l'installazione non viene avviata automaticamente, fare doppio clic su **Setup.**</span><span class="sxs-lookup"><span data-stu-id="9b496-129">If the setup does not automatically begin, double-click **Setup**.</span></span>
    
2. <span data-ttu-id="9b496-130">Il supporto di installazione richiede l'esecuzione di Microsoft Visual C++.</span><span class="sxs-lookup"><span data-stu-id="9b496-130">The installation media requires Microsoft Visual C++ to run.</span></span> <span data-ttu-id="9b496-131">Verrà visualizzata una finestra di dialogo in cui viene chiesto se si desidera installarla.</span><span class="sxs-lookup"><span data-stu-id="9b496-131">A dialog will pop up asking if you want to install it.</span></span> <span data-ttu-id="9b496-132">Fare **clic su Sì.**</span><span class="sxs-lookup"><span data-stu-id="9b496-132">Click **Yes.**</span></span>
    
3. <span data-ttu-id="9b496-133">Esaminare attentamente il Contratto di Licenza e, se si accetta, selezionare Accetto i termini del contratto di **licenza** e fare clic su **OK.**</span><span class="sxs-lookup"><span data-stu-id="9b496-133">Carefully review the License Agreement, and if you agree, select **I accept the terms in the license agreement**, and click **OK**.</span></span> 
    
4. <span data-ttu-id="9b496-134">Smart Setup è una funzionalità di Skype for Business Server in cui è possibile connettersi a Internet per verificare la disponibilità di aggiornamenti da Microsoft Update (MU) durante il processo di installazione, come illustrato nella figura.</span><span class="sxs-lookup"><span data-stu-id="9b496-134">Smart Setup is a feature in Skype for Business Server where you can connect to the Internet to check for updates from Microsoft Update (MU) during the installation process, as shown in the figure.</span></span> <span data-ttu-id="9b496-135">Ciò offre un'esperienza migliore assicurandoti di disporre degli aggiornamenti più recenti per il prodotto.</span><span class="sxs-lookup"><span data-stu-id="9b496-135">This provides a better experience by making sure you have the most recent updates for the product.</span></span> <span data-ttu-id="9b496-136">Fare clic su **Installa** per avviare l'installazione.</span><span class="sxs-lookup"><span data-stu-id="9b496-136">Click **Install** to begin the installation.</span></span>
    
    > [!NOTE]
    > <span data-ttu-id="9b496-137">Molte organizzazioni dispongono di Windows Server Update Services (WSUS) distribuito nei propri ambienti aziendali.</span><span class="sxs-lookup"><span data-stu-id="9b496-137">Many organizations have Windows Server Update Services (WSUS) deployed in their corporate environments.</span></span> <span data-ttu-id="9b496-138">WSUS consente agli amministratori di gestire completamente la distribuzione degli aggiornamenti rilasciati tramite Microsoft Update ai computer della propria rete.</span><span class="sxs-lookup"><span data-stu-id="9b496-138">WSUS lets administrators fully manage the distribution of updates that are released through Microsoft Update to computers in their network.</span></span> <span data-ttu-id="9b496-139">Nell'ambito della versione dell'aggiornamento cumulativo 1 di Skype for Business Server è stato introdotto il supporto per Smart Setup per l'utilizzo con WSUS.</span><span class="sxs-lookup"><span data-stu-id="9b496-139">As part of the Cumulative Update 1 release Skype for Business Server introduced support for Smart Setup to work with WSUS.</span></span> <span data-ttu-id="9b496-140">I clienti con WSUS che distribuiscono Skype for Business Server per la prima volta o eseguono l'aggiornamento dall'ambiente Lync Server 2013 tramite la funzionalità di aggiornamento di In-Place avranno un'installazione intelligente che recupera gli aggiornamenti di Skype for Windows da WSUS anziché recuperare gli aggiornamenti da MU.</span><span class="sxs-lookup"><span data-stu-id="9b496-140">Customers with WSUS who are deploying Skype for Business Server for the first time or upgrading from the Lync Server 2013 environment using the In-Place Upgrade feature will have Smart Setup fetching Skype for Windows updates from WSUS as opposed to fetching updates from MU.</span></span> <span data-ttu-id="9b496-141">I clienti che desiderano usare l'installazione intelligente devono eseguire SmartSetupWithWSUS.psq in tutti i computer prima di eseguire Setup.exe.</span><span class="sxs-lookup"><span data-stu-id="9b496-141">Customers wanting to use Smart Setup need to run the SmartSetupWithWSUS.psq on all the machines before running Setup.exe.</span></span> 
  
     ![Screenshot dell'installazione intelligente.](../../media/d35c6cd9-3b8d-4510-871c-30ad07b1f4f2.png)
  
5. <span data-ttu-id="9b496-143">Nella pagina Distribuzione guidata fare clic su **Installa o aggiorna il sistema Skype for Business Server.**</span><span class="sxs-lookup"><span data-stu-id="9b496-143">On the Deployment Wizard page, click **Install or Update Skype for Business Server System**.</span></span>
    
6. <span data-ttu-id="9b496-144">Al termine, eseguire le procedure descritte di seguito, fare clic su **Esci** per chiudere la Distribuzione guidata.</span><span class="sxs-lookup"><span data-stu-id="9b496-144">Perform the procedures in the following procedures, when you've completed them, click **Exit** to close the Deployment Wizard.</span></span> <span data-ttu-id="9b496-145">Ripetere le procedure per ogni Front End Server nel pool.</span><span class="sxs-lookup"><span data-stu-id="9b496-145">Repeat the procedures for each Front End server in the pool.</span></span>
    
### <a name="step-1-install-local-configuration-store"></a><span data-ttu-id="9b496-146">Passaggio 1: Installare l'archivio di configurazione locale</span><span class="sxs-lookup"><span data-stu-id="9b496-146">Step 1: Install Local Configuration Store</span></span>

1. <span data-ttu-id="9b496-147">Esaminare i prerequisiti e quindi fare clic **su** Esegui accanto a **Passaggio 1: Installare l'archivio di configurazione locale.**</span><span class="sxs-lookup"><span data-stu-id="9b496-147">Review the prerequisites, and then click **Run** next to **Step 1: Install Local Configuration Store**.</span></span>
    
    > [!NOTE]
    > <span data-ttu-id="9b496-148">L'archivio di configurazione locale è una copia di sola lettura dell'archivio di gestione centrale.</span><span class="sxs-lookup"><span data-stu-id="9b496-148">The Local Configuration Store is a read-only copy of the Central Management Store.</span></span> <span data-ttu-id="9b496-149">In una distribuzione Standard Edition, l'archivio di gestione centrale viene creato utilizzando una copia locale di SQL Server Express Edition nel Front End Server.</span><span class="sxs-lookup"><span data-stu-id="9b496-149">In a Standard Edition deployment, the Central Management Store is created using a local copy of SQL Server Express Edition on the Front End server.</span></span> <span data-ttu-id="9b496-150">Ciò si verifica quando si esegue la procedura Prepare First Standard Edition Server.</span><span class="sxs-lookup"><span data-stu-id="9b496-150">This happens when you run the Prepare First Standard Edition Server procedure.</span></span> <span data-ttu-id="9b496-151">In una distribuzione Enterprise Edition l'archivio di gestione centrale viene creato quando si pubblica la topologia che include un pool Enterprise Edition Front End.</span><span class="sxs-lookup"><span data-stu-id="9b496-151">In an Enterprise Edition deployment, the Central Management store is created when you publish the topology that includes an Enterprise Edition Front End pool.</span></span> 
  
2. <span data-ttu-id="9b496-152">Nella pagina **Installa archivio di configurazione**  locale verificare che l'opzione Recupera direttamente dall'archivio di gestione centrale sia selezionata e quindi fare clic su **Avanti.**</span><span class="sxs-lookup"><span data-stu-id="9b496-152">On the **Install Local Configuration Store** page, make sure that the **Retrieve directly from the Central Management store** option is selected, and then click **Next**.</span></span>
    
    <span data-ttu-id="9b496-153">SQL Server Express Edition viene installato nel server locale.</span><span class="sxs-lookup"><span data-stu-id="9b496-153">SQL Server Express Edition is installed on the local server.</span></span> <span data-ttu-id="9b496-154">SQL Server Express Edition è necessario per l'archivio di configurazione locale.</span><span class="sxs-lookup"><span data-stu-id="9b496-154">SQL Server Express Edition is required for the local configuration store.</span></span>
    
3. <span data-ttu-id="9b496-155">Al termine dell'installazione con configurazione del server locale, fare clic su **Fine**.</span><span class="sxs-lookup"><span data-stu-id="9b496-155">When the local server configuration installation is complete, click **Finish**.</span></span>
    
### <a name="step-2-setup-or-remove-skype-for-business-server-components"></a><span data-ttu-id="9b496-156">Passaggio 2: Configurare o rimuovere i componenti di Skype for Business Server</span><span class="sxs-lookup"><span data-stu-id="9b496-156">Step 2: Setup or remove Skype for Business Server components</span></span>

1. <span data-ttu-id="9b496-157">Esaminare i prerequisiti, quindi fare clic su **Esegui** accanto a **Passaggio 2: Installazione o rimozione dei componenti di Skype for Business Server.**</span><span class="sxs-lookup"><span data-stu-id="9b496-157">Review the prerequisites, and then click **Run** next to **Step 2: Setup or Remove Skype for Business Server Components**.</span></span>
    
2. <span data-ttu-id="9b496-158">Nella pagina Configurazione componenti di Skype  for Business **Server** fare clic su Avanti per configurare i componenti come definito nella topologia pubblicata.</span><span class="sxs-lookup"><span data-stu-id="9b496-158">On the **Set Up Skype for Business Server Components** page, click **Next** to set up components as defined in your published topology.</span></span>
    
3. <span data-ttu-id="9b496-159">Nella **pagina Esecuzione comandi** in corso viene visualizzato un riepilogo dei comandi e delle informazioni di installazione durante la configurazione.</span><span class="sxs-lookup"><span data-stu-id="9b496-159">The **Executing Commands** page displays a summary of commands and installation information as the set up takes place.</span></span> <span data-ttu-id="9b496-160">Al termine, è possibile utilizzare l'elenco per selezionare un registro da visualizzare e quindi fare clic **su Visualizza registro.**</span><span class="sxs-lookup"><span data-stu-id="9b496-160">When it's done, you can use the list to select a log to view, and then click **View Log**.</span></span>
    
4. <span data-ttu-id="9b496-161">Al termine dell'installazione dei componenti di Skype for Business Server  e dopo aver esaminato i registri in base alle esigenze, fare clic su Fine per completare questo passaggio dell'installazione.</span><span class="sxs-lookup"><span data-stu-id="9b496-161">When Skype for Business Server components setup is done and you've reviewed the logs as needed, click **Finish** to complete this step in the installation.</span></span>
    
    > [!NOTE]
    > <span data-ttu-id="9b496-162">Riavvia il server se richiesto (cosa che potrebbe verificarsi se è necessario installare Esperienza desktop di Windows).</span><span class="sxs-lookup"><span data-stu-id="9b496-162">Restart the server if prompted (which might happen if Windows Desktop Experience needed to be installed).</span></span> <span data-ttu-id="9b496-163">Quando il computer è di nuovo in esecuzione, è necessario eseguire di nuovo questa procedura (Passaggio 2: Installazione o rimozione componenti di Skype for Business Server).</span><span class="sxs-lookup"><span data-stu-id="9b496-163">When the computer is back up and running, you need to run this (Step 2: Setup or Remove Skype for Business Server Components) procedure again.</span></span> 
  
    > [!NOTE]
    > <span data-ttu-id="9b496-164">Se il programma di installazione rileva prerequisiti non soddisfatti, verrà visualizzato il messaggio "Prerequisito non soddisfatto", come illustrato nella figura.</span><span class="sxs-lookup"><span data-stu-id="9b496-164">If the installer finds any prerequisites that have not been satisfied, you will be notified with a "Prerequisite not satisfied" message, as shown in the figure.</span></span> <span data-ttu-id="9b496-165">Soddisfare i prerequisiti necessari e quindi avviare di nuovo questa procedura (Passaggio 2: Installazione o rimozione dei componenti di Skype for Business Server).</span><span class="sxs-lookup"><span data-stu-id="9b496-165">Satisfy the required prerequisite, and then start this (Step 2: Setup or Remove Skype for Business Server Components) procedure again.</span></span> 
  
     ![Prerequisito necessario.](../../media/21a84dfe-70ff-4f76-bd7e-41032660200a.png)
  
5. <span data-ttu-id="9b496-167">Verificare che i primi due passaggi siano stati completati come previsto.</span><span class="sxs-lookup"><span data-stu-id="9b496-167">Verify that the first two steps completed as expected.</span></span> <span data-ttu-id="9b496-168">Verificare che sia presente un segno di spunta verde con la parola **Completa,** come illustrato nella figura.</span><span class="sxs-lookup"><span data-stu-id="9b496-168">Confirm that there is a green checkmark with the word **Complete**, as shown in the figure.</span></span>
    
     ![I primi due passaggi completati dall'installazione dei componenti.](../../media/59851804-d805-4fa8-854b-60c3de2d109f.png)
  
6. <span data-ttu-id="9b496-170">Eseguire **di nuovo Windows Update** per verificare se sono presenti aggiornamenti dopo l'installazione dei componenti di Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="9b496-170">Run **Windows Update** again to check if there are any updates after you install the Skype for Business Server Components.</span></span>
    
### <a name="step-3-request-install-or-assign-certificates"></a><span data-ttu-id="9b496-171">Passaggio 3: Richiedere, installare o assegnare certificati</span><span class="sxs-lookup"><span data-stu-id="9b496-171">Step 3: Request, install, or assign certificates</span></span>

1. <span data-ttu-id="9b496-172">Esaminare i prerequisiti e quindi fare clic **su** Esegui accanto a **Passaggio 3: Richiesta, installazione o assegnazione dei certificati.**</span><span class="sxs-lookup"><span data-stu-id="9b496-172">Review the prerequisites, and then click **Run** next to **Step 3: Request, Install or Assign Certificates**.</span></span>
    
    > [!NOTE]
    > <span data-ttu-id="9b496-173">Skype for Business Server include il supporto per la famiglia di prodotti SHA-2 (SHA-2 usa lunghezze del digest di 224, 256, 384 o 512 bit) di algoritmi di hash e firma del digest per le connessioni dai client che eseguono i sistemi operativi Windows 10, Windows 8, Windows 7, Windows Server 2012 R2, Windows Server 2012 o Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="9b496-173">Skype for Business Server includes support for the SHA-2 suite (SHA-2 uses digest lengths of 224, 256, 384 or 512 bits) of digest hash and signing algorithms for connections from clients running the Windows 10, Windows 8, Windows 7, Windows Server 2012 R2, Windows Server 2012, or Windows Server 2008 R2 operating systems.</span></span> <span data-ttu-id="9b496-174">Per supportare l'accesso esterno tramite la famiglia di prodotti SHA-2, il certificato esterno viene emesso da una CA pubblica che può rilasciare un certificato con lo stesso digest di lunghezza in bit.</span><span class="sxs-lookup"><span data-stu-id="9b496-174">To support external access using the SHA-2 suite, the external certificate is issued by a public CA that also can issue a certificate with the same bit length digest.</span></span> 
  
    > [!IMPORTANT]
    > <span data-ttu-id="9b496-175">La selezione dell'algoritmo di digest hash e firma dipende dai client e dai server che utilizzeranno il certificato e da altri computer e dispositivi con cui i client e i server comunicheranno con chi deve anche sapere come usare gli algoritmi utilizzati nel certificato.</span><span class="sxs-lookup"><span data-stu-id="9b496-175">The selection of which hash digest and signing algorithm is dependent on the clients and the servers that will use the certificate, and other computers and devices that clients and servers will communicate with who must also know how to use the algorithms used in the certificate.</span></span> <span data-ttu-id="9b496-176">Per informazioni sulle lunghezze del digest supportate nel sistema operativo e in alcune applicazioni client, vedere il blog sull'infrastruttura a chiave pubblica di [Windows - SHA2 e Windows.](https://go.microsoft.com/fwlink/p/?LinkId=287002)</span><span class="sxs-lookup"><span data-stu-id="9b496-176">For information on which digest lengths are supported in the operating system and some client applications, see [Windows PKI blog - SHA2 and Windows](https://go.microsoft.com/fwlink/p/?LinkId=287002).</span></span> 
  
    <span data-ttu-id="9b496-177">Ogni Standard Edition o Front End Server richiede fino a quattro certificati: il certificato oAuthTokenIssuer, un certificato predefinito, un certificato Web interno e un certificato web esterno.</span><span class="sxs-lookup"><span data-stu-id="9b496-177">Each Standard Edition or Front End server requires up to four certificates: the oAuthTokenIssuer certificate, a default certificate, a web internal certificate, and a web external certificate.</span></span> <span data-ttu-id="9b496-178">Tuttavia, è possibile richiedere e assegnare un singolo certificato predefinito con voci del nome alternativo del soggetto appropriate, nonché il certificato oAuthTokenIssuer.</span><span class="sxs-lookup"><span data-stu-id="9b496-178">However, you can request and assign a single default certificate with appropriate subject alternative name entries as well as the oAuthTokenIssuer certificate.</span></span> <span data-ttu-id="9b496-179">Per informazioni dettagliate sui requisiti dei certificati, vedere Requisiti ambientali per i requisiti di [Skype for Business Server](../../plan-your-deployment/requirements-for-your-environment/environmental-requirements.md) o Server per Skype for Business Server [2019.](../../../SfBServer2019/plan/system-requirements.md)</span><span class="sxs-lookup"><span data-stu-id="9b496-179">For details about the certificate requirements, see [Environmental requirements for Skype for Business Server](../../plan-your-deployment/requirements-for-your-environment/environmental-requirements.md) or [Server requirements for Skype for Business Server 2019](../../../SfBServer2019/plan/system-requirements.md).</span></span>
    
    > [!IMPORTANT]
    > <span data-ttu-id="9b496-180">Nella procedura seguente viene descritto come configurare i certificati da un'autorità di certificazione interna basata su Servizi certificati Active Directory.</span><span class="sxs-lookup"><span data-stu-id="9b496-180">The following procedure describes how to configure certificates from an internal Active Directory Certificate Services based certificate authority.</span></span> 
  
2. <span data-ttu-id="9b496-181">Nella pagina **Configurazione guidata certificati** fare clic su **Richiesta**.</span><span class="sxs-lookup"><span data-stu-id="9b496-181">On the **Certificate Wizard** page, click **Request**.</span></span>
    
3. <span data-ttu-id="9b496-182">Nella pagina **Richiesta di certificato** immettere i dati pertinenti, inclusa la selezione del dominio SIP e fare clic su **Avanti.**</span><span class="sxs-lookup"><span data-stu-id="9b496-182">On the **Certificate Request** page fill in the relevant data including selecting the SIP domain and , click **Next**.</span></span>
    
4. <span data-ttu-id="9b496-p120">Nella pagina **Richieste immediate o ritardate** è possibile accettare l'opzione predefinita **Invia immediatamente la richiesta a un'autorità di certificazione online** facendo clic su **Avanti**. Se si seleziona questa opzione, deve essere disponibile la CA interna con registrazione automatica online. Se si sceglie l'opzione di ritardare la richiesta, sarà necessario specificare un nome e un percorso in cui salvare il file di richiesta di certificato. La richiesta di certificato deve essere presentata ed elaborata da una CA all'interno dell'organizzazione o da una CA pubblica. Sarà quindi necessario importare il certificato di risposta e assegnarlo al ruolo appropriato.</span><span class="sxs-lookup"><span data-stu-id="9b496-p120">On the **Delayed or Immediate Requests** page, you can accept the default **Send the request immediately to an online certification authority** option by clicking **Next**. The internal CA with automatic online enrollment must be available if you select this option. If you choose the option to delay the request, you will be prompted for a name and location to save the certificate request file. The certificate request must be presented and processed by a CA either inside your organization, or by a public CA. You will then need to import the certificate response and assign it to the proper certificate role.</span></span>
    
5. <span data-ttu-id="9b496-188">Nella pagina Scegliere un'autorità di certificazione **selezionare** l'opzione Seleziona un'autorità di certificazione dall'elenco rilevato nell'ambiente e quindi selezionare una **CA** nota (tramite la registrazione in Servizi di dominio Active Directory) nell'elenco.</span><span class="sxs-lookup"><span data-stu-id="9b496-188">On the **Choose a Certificate Authority (CA)** page, select the **Select a CA from the list detected in your environment** option, and then select a known (through registration in Active Directory Domain Services) CA from the list.</span></span> <span data-ttu-id="9b496-189">In alternativa, selezionare l'opzione **Specifica un'altra autorità di certificazione**, immettere il nome di un'altra CA e quindi fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="9b496-189">Or, select the **Specify another certification authority** option, enter the name of another CA in the box, and then click **Next**.</span></span>
    
6. <span data-ttu-id="9b496-190">Nella pagina **Account autorità di certificazione** viene richiesto di immettere le credenziali per richiedere ed elaborare la richiesta di certificato per la CA.</span><span class="sxs-lookup"><span data-stu-id="9b496-190">On the **Certificate Authority Account** page, you are prompted for credentials to request and process the certificate request at the CA.</span></span> <span data-ttu-id="9b496-191">Stabilire se è necessario specificare un nome utente e una password per richiedere un certificato in anticipo.</span><span class="sxs-lookup"><span data-stu-id="9b496-191">You should have determined if a user name and password is necessary to request a certificate in advance.</span></span> <span data-ttu-id="9b496-192">L'amministratore ca avrà le informazioni necessarie e potrebbe dover assistere l'utente in questo passaggio.</span><span class="sxs-lookup"><span data-stu-id="9b496-192">Your CA administrator will have the required information and might have to assist you in this step.</span></span> <span data-ttu-id="9b496-193">Se è necessario fornire credenziali alternative, selezionare la casella di controllo, specificare il nome utente e la password nelle caselle di testo, quindi fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="9b496-193">If you need to supply alternate credentials, select the check box, provide a user name and password in the text boxes, and then click **Next**.</span></span>
    
7. <span data-ttu-id="9b496-194">Nella pagina **Specifica modello di certificato alternativo** fare clic su **Avanti** per utilizzare il modello Server Web predefinito.</span><span class="sxs-lookup"><span data-stu-id="9b496-194">On the **Specify Alternate Certificate Template** page, to use the default Web Server template, click **Next**.</span></span>
    
    > [!NOTE]
    > <span data-ttu-id="9b496-p123">Se l'organizzazione ha creato un modello da utilizzare come alternativa al modello Server Web predefinito della CA, selezionare la casella di controllo, quindi immettere il nome del modello alternativo. È necessario specificare il nome del modello come definito dall'amministratore della CA.</span><span class="sxs-lookup"><span data-stu-id="9b496-p123">If your organization has created a template for use as an alternative for the default Web server CA template, select the check box, and then enter the name of the alternate template. You will need the template name as defined by the CA administrator.</span></span> 
  
8. <span data-ttu-id="9b496-197">Nella pagina **Impostazioni nome e sicurezza** specificare un nome **descrittivo.**</span><span class="sxs-lookup"><span data-stu-id="9b496-197">On the **Name and Security Settings** page, specify a **Friendly Name**.</span></span> <span data-ttu-id="9b496-198">Utilizzando un nome descrittivo, è possibile identificare rapidamente il certificato e lo scopo.</span><span class="sxs-lookup"><span data-stu-id="9b496-198">By using a friendly name, you can quickly identify the certificate and purpose.</span></span> <span data-ttu-id="9b496-199">Se questo campo viene lasciato vuoto, verrà generato automaticamente un nome.</span><span class="sxs-lookup"><span data-stu-id="9b496-199">If you leave it blank, a name will be generated automatically.</span></span> <span data-ttu-id="9b496-200">Impostare il valore **Lunghezza in bit** della chiave o accettare il valore predefinito di 2048 bit.</span><span class="sxs-lookup"><span data-stu-id="9b496-200">Set the **Bit length** of the key, or accept the default of 2048 bits.</span></span> <span data-ttu-id="9b496-201">Selezionare la **chiave privata** del certificato come esportabile se si determina che il certificato e la chiave privata devono essere spostati o copiati in altri sistemi e quindi fare clic su **Avanti.**</span><span class="sxs-lookup"><span data-stu-id="9b496-201">Select the **Mark the certificate's private key as exportable** if you determine that the certificate and private key needs to be moved or copied to other systems, and then click **Next**.</span></span>
    
    > [!NOTE]
    > <span data-ttu-id="9b496-202">Skype for Business Server ha requisiti minimi per una chiave privata esportabile.</span><span class="sxs-lookup"><span data-stu-id="9b496-202">Skype for Business Server has minimal requirements for an exportable private key.</span></span> <span data-ttu-id="9b496-203">La chiave viene esportata nei server perimetrali di un pool, dove il servizio di autenticazione del Media Relay utilizza copie del certificato anziché i singoli certificati per ogni istanza nel pool.</span><span class="sxs-lookup"><span data-stu-id="9b496-203">One such place is on the Edge Servers in a pool, where the Media Relay Authentication Service uses copies of the certificate, rather than individual certificates for each instance in the pool.</span></span> 
  
9. <span data-ttu-id="9b496-204">Nella pagina **Informazioni sull'organizzazione** immettere facoltativamente le informazioni sull'organizzazione e quindi fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="9b496-204">On the **Organization Information** page, optionally provide organization information, and then click **Next**.</span></span>
    
10. <span data-ttu-id="9b496-205">Nella pagina **Dati geografici** specificare facoltativamente i dati geografici e quindi fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="9b496-205">On the **Geographical Information** page, optionally provide geographical information, and then click **Next**.</span></span>
    
11. <span data-ttu-id="9b496-206">Nella pagina **Nome soggetto / Nomi soggetto alternativi** verificare i nomi soggetto alternativi che verranno aggiunti e quindi fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="9b496-206">On the **Subject Name / Subject Alternate Names** page, review the subject alternative names that will be added, and then click **Next**.</span></span>
    
12. <span data-ttu-id="9b496-207">Nella pagina **Impostazione del dominio SIP** selezionare la casella di controllo **Dominio SIP** e quindi fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="9b496-207">On the **SIP Domain setting** page, select the **SIP Domain**, and then click **Next**.</span></span>
    
13. <span data-ttu-id="9b496-208">Nella pagina **Configura nomi soggetto alternativi aggiuntivi** aggiungere eventuali nomi soggetto alternativi aggiuntivi necessari, inclusi quelli potranno essere richiesti in futuro per i domini SIP aggiuntivi, quindi fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="9b496-208">On the **Configure Additional Subject Alternate Names** page, add any additional required subject alternative names, including any that might be required for additional SIP domains in the future, and then click **Next**.</span></span>
    
14. <span data-ttu-id="9b496-p126">Nella pagina **Riepilogo richiesta certificato** esaminare le informazioni. Se sono corrette, fare clic su **Avanti**. Se è necessario correggere o modificare un'impostazione, fare clic su **Indietro** fino alla pagina appropriata.</span><span class="sxs-lookup"><span data-stu-id="9b496-p126">On the **Certificate Request Summary** page, review the information in the summary. If the information is correct, click **Next**. If you need to correct or modify a setting, click **Back** to the proper page to make the correction or modification.</span></span>
    
15. <span data-ttu-id="9b496-212">Nella pagina **Esecuzione comandi in corso** fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="9b496-212">On the **Executing Commands** page, click **Next**.</span></span>
    
16. <span data-ttu-id="9b496-213">Nella pagina On the **Stato richiesta di certificato online** esaminare le informazioni restituite.</span><span class="sxs-lookup"><span data-stu-id="9b496-213">On the **Online Certificate Request Status** page, review the information returned.</span></span> <span data-ttu-id="9b496-214">Verificare che il certificato sia stato emesso e installato nell'archivio certificati locale.</span><span class="sxs-lookup"><span data-stu-id="9b496-214">You should note that the certificate was issued and installed into the local certificate store.</span></span> <span data-ttu-id="9b496-215">Se viene segnalato come emesso e installato, ma non è valido, verificare che il certificato radice della CA sia stato installato nell'archivio della CA radice attendibile del server.</span><span class="sxs-lookup"><span data-stu-id="9b496-215">If it is reported as having been issued and installed, but it is not valid, make sure that the CA root certificate has been installed in the server's Trusted Root CA store.</span></span> <span data-ttu-id="9b496-216">Per informazioni su come recuperare un certificato di CA radice attendibile, consultare la documentazione sulla CA.</span><span class="sxs-lookup"><span data-stu-id="9b496-216">Refer to your CA documentation on how to retrieve a Trusted Root CA certificate.</span></span> <span data-ttu-id="9b496-217">Se è necessario visualizzare il certificato recuperato, fare clic su **Visualizza dettagli certificato**.</span><span class="sxs-lookup"><span data-stu-id="9b496-217">If you need to view the retrieved certificate, click **View Certificate Details**.</span></span> <span data-ttu-id="9b496-218">Per impostazione predefinita, la casella di controllo Assegna il certificato agli utilizzi dei certificati di **Skype for Business Server** è selezionata.</span><span class="sxs-lookup"><span data-stu-id="9b496-218">By default, the check box for **Assign the certificate to Skype for Business Server certificate usages** is selected.</span></span> <span data-ttu-id="9b496-219">Se si desidera assegnare manualmente il certificato, deselezionare la casella di controllo e quindi fare clic su **Fine**.</span><span class="sxs-lookup"><span data-stu-id="9b496-219">If you want to manually assign the certificate, clear the check box, and then click **Finish**.</span></span>
    
17. <span data-ttu-id="9b496-220">Se è stata deselezionata la casella di controllo Assegna il certificato agli utilizzi dei certificati di **Skype for Business Server** nella pagina precedente, verrà visualizzata la pagina **Assegnazione** certificato.</span><span class="sxs-lookup"><span data-stu-id="9b496-220">If you cleared the check box for **Assign the certificate to Skype for Business Server certificate usages** on the previous page, you will be presented with the **Certificate Assignment** page.</span></span> <span data-ttu-id="9b496-221">Fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="9b496-221">Click **Next**.</span></span>
    
18. <span data-ttu-id="9b496-p129">Nella pagina **Archivio certificati** selezionare il certificato richiesto. Se si desidera visualizzarlo, fare clic su **Visualizza dettagli certificato** e quindi su **Avanti** per continuare.</span><span class="sxs-lookup"><span data-stu-id="9b496-p129">On the **Certificate Store** page, select the certificate that you requested. If you want to view the certificate, click **View Certificate Details**, and then click **Next** to continue.</span></span>
    
    > [!NOTE]
    > <span data-ttu-id="9b496-224">Se nella **pagina Stato** richiesta certificato online è stato segnalato un problema con il certificato, ad esempio il certificato non è valido, visualizzare il certificato effettivo per assistenza nella risoluzione del problema.</span><span class="sxs-lookup"><span data-stu-id="9b496-224">If the **Online Certificate Request Status** page reported an issue with the certificate, such as the certificate is not valid, view the actual certificate for help in resolving the issue.</span></span> <span data-ttu-id="9b496-225">In particolare, il certificato può non essere valido perché non è stato emesso da una CA radice attendibile, come accennato in precedenza, oppure perché non è associato a una chiave privata.</span><span class="sxs-lookup"><span data-stu-id="9b496-225">Two specific issues that can cause a certificate to not be valid is the previously mentioned missing Trusted Root CA certificate, and a missing private key that is associated with the certificate.</span></span> <span data-ttu-id="9b496-226">Per risolvere questi due problemi, consultare la documentazione della CA.</span><span class="sxs-lookup"><span data-stu-id="9b496-226">Refer to your CA documentation to resolve these two issues.</span></span>
  
19. <span data-ttu-id="9b496-227">Nella pagina **Riepilogo assegnazione** certificato esaminare le informazioni presentate per assicurarsi che si tratta del certificato da assegnare e quindi fare clic su **Avanti.**</span><span class="sxs-lookup"><span data-stu-id="9b496-227">On the **Certificate Assignment Summary** page, review the information presented to make sure that this is the certificate that should be assigned, and then click **Next**.</span></span>
    
20. <span data-ttu-id="9b496-p131">Nella pagina **Esecuzione comandi in corso** esaminare l'output del comando. Fare clic su **Visualizza registro** se si desidera rivedere il processo di assegnazione oppure se è stato generato un messaggio di errore o di avviso. Al termine, fare clic su **Fine**.</span><span class="sxs-lookup"><span data-stu-id="9b496-p131">On the **Executing Commands** page, review the output of the command. Click **View Log** if you want to review the assignment process or if there was an error or warning issued. When you are finished with your review, click **Finish**.</span></span>
    
21. <span data-ttu-id="9b496-231">Nella  pagina Configurazione guidata certificati verificare che tutti i servizi presentino un controllo verde per indicare che a tutti è stato assegnato un certificato, incluso OAuthTokenIssuer, come illustrato nella figura, e quindi fare clic su **Chiudi.**</span><span class="sxs-lookup"><span data-stu-id="9b496-231">On the **Certificate Wizard** page, confirm that all services have a green check to indicate that all have been assigned a certificate, including the OAuthTokenIssuer ,as shown in the figure, and then click **Close**.</span></span>
    
     ![Certificati installati e assegnati correttamente.](../../media/d8e1911c-d096-4f88-97a9-d2a704defa17.png)
  
    > [!TIP]
    > <span data-ttu-id="9b496-233">Se si esegue l'installazione in un ambiente lab ed è stata appena impostata l'autorità di certificazione utilizzando Servizi certificati Active Directory, sarà necessario riavviare sia il server che esegue Servizi certificati che il Front End Server prima che l'assegnazione del certificato possa essere completata correttamente.</span><span class="sxs-lookup"><span data-stu-id="9b496-233">If you are installing in a lab environment and have just set up the Certificate Authority using Active Directory Certificate Services, you will need to reboot both the server running Certificate Services and also the Front End server before the certificate assignment can go through successfully.</span></span> 
  
    > [!TIP]
    >  <span data-ttu-id="9b496-234">Per ulteriori informazioni sui certificati in Servizi certificati Active Directory, vedere [Servizi certificati Active Directory.](https://technet.microsoft.com/windowsserver/dd448615.aspx)</span><span class="sxs-lookup"><span data-stu-id="9b496-234">For more information about certificates in Active Directory Certificate Services, see [Active Directory Certificate Services](https://technet.microsoft.com/windowsserver/dd448615.aspx).</span></span> 
  
### <a name="step-4-start-services"></a><span data-ttu-id="9b496-235">Passaggio 4: Avviare i servizi</span><span class="sxs-lookup"><span data-stu-id="9b496-235">Step 4: Start Services</span></span>

1. <span data-ttu-id="9b496-236">Esaminare i prerequisiti per **il passaggio 4: avviare i servizi.**</span><span class="sxs-lookup"><span data-stu-id="9b496-236">Review the prerequisites for **Step 4: Start Services**.</span></span>
    
2. <span data-ttu-id="9b496-237">Se si tratta di un pool Enterprise Edition Front End con almeno tre server, viene utilizzato Windows Fabric ed è necessario utilizzare il cmdlet **Start-CsPool.**</span><span class="sxs-lookup"><span data-stu-id="9b496-237">If this is an Enterprise Edition Front End pool with at least three servers, Windows Fabric is used, and you must use the **Start-CsPool** cmdlet.</span></span> <span data-ttu-id="9b496-238">Se viene utilizzato un singolo server, come sempre nel caso della Standard Edition, è necessario utilizzare il cmdlet **Start-CsWindowsService.**</span><span class="sxs-lookup"><span data-stu-id="9b496-238">If a single server is used, which is always the case with Standard Edition, you muse use the **Start-CsWindowsService** cmdlet.</span></span> <span data-ttu-id="9b496-239">In questo esempio viene utilizzato Enterprise Edition con tre Front End Server nel pool, aprire **Skype for Business Server Management Shell** ed eseguire il cmdlet **Start-CsPool,** come illustrato nella figura.</span><span class="sxs-lookup"><span data-stu-id="9b496-239">In this example we are using Enterprise Edition with three Front End servers in the pool, open the **Skype for Business Server Management Shell** and run the **Start-CsPool** cmdlet as shown in the figure.</span></span> <span data-ttu-id="9b496-240">Per tutti gli altri ruoli, incluso il server Standard Edition, è necessario **utilizzare Start-CsWindowsService.**</span><span class="sxs-lookup"><span data-stu-id="9b496-240">For all other roles, including Standard Edition server, you must use **Start-CsWindowsService**.</span></span> <span data-ttu-id="9b496-241">Per distribuire ruoli diversi dal ruolo Front End, vedere la documentazione relativa a tali ruoli specifici.</span><span class="sxs-lookup"><span data-stu-id="9b496-241">To deploy roles other than the Front End role, see documentation for those particular roles.</span></span>
    
     ![Avviare i servizi Skype for Business.](../../media/f52ec719-9476-419f-9a78-df08368395f7.png)
  
3. <span data-ttu-id="9b496-243">Nella pagina **Esecuzione comandi in corso**, dopo l'avvio di tutti i servizi, fare clic su **Fine**.</span><span class="sxs-lookup"><span data-stu-id="9b496-243">On the **Executing Commands** page, after all services have started successfully, click **Finish**.</span></span>
    
    > [!IMPORTANT]
    > <span data-ttu-id="9b496-244">Il comando per avviare i servizi nel server è un metodo ottimale per segnalare che i servizi sono stati avviati.</span><span class="sxs-lookup"><span data-stu-id="9b496-244">The command to start the services on the server is a best effort method to report that the services have, in fact, started.</span></span> <span data-ttu-id="9b496-245">Potrebbe non riflettere lo stato effettivo del servizio.</span><span class="sxs-lookup"><span data-stu-id="9b496-245">It might not reflect the actual state of the service.</span></span> <span data-ttu-id="9b496-246">È consigliabile utilizzare il passaggio Stato servizio **(facoltativo)** per aprire Microsoft Management Console (MMC) e verificare che i servizi sono stati avviati correttamente, come illustrato nella figura.</span><span class="sxs-lookup"><span data-stu-id="9b496-246">We recommend that you use the step **Service Status (Optional)** to open the Microsoft Management Console (MMC) and confirm that the services have started successfully, as shown in the figure.</span></span> <span data-ttu-id="9b496-247">Se un servizio Skype for Business Server non è stato avviato, è possibile fare clic con il pulsante destro del mouse su tale servizio in MMC e quindi scegliere **Avvia.**</span><span class="sxs-lookup"><span data-stu-id="9b496-247">If any Skype for Business Server service has not started, you can right-click that service in the MMC, and then click **Start**.</span></span> 
  
     ![Verificare che i servizi siano stati avviati.](../../media/47906fb7-9d37-4d55-8d8d-e5a4a2366510.png)
  

