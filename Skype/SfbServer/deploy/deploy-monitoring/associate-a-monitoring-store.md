---
title: Associare un archivio di monitoraggio a un pool Front end in Skype for Business Server
ms.reviewer: ''
ms.author: v-cichur
author: cichur
manager: serdars
audience: ITPro
ms.topic: quickstart
ms.prod: skype-for-business-itpro
f1.keywords:
- NOCSH
localization_priority: Normal
ms.assetid: d3a20d5e-3f24-4cff-bc9b-4f84fea30e6b
description: 'Riepilogo: informazioni su come associare pool Front end a un archivio di monitoraggio utilizzato da Skype for Business Server.'
ms.openlocfilehash: 4ec48e99da9a827cdc40d87c42ec764bda66a416
ms.sourcegitcommit: c528fad9db719f3fa96dc3fa99332a349cd9d317
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/12/2021
ms.locfileid: "49830546"
---
# <a name="associate-a-monitoring-store-with-a-front-end-pool-in-skype-for-business-server"></a><span data-ttu-id="230e9-103">Associare un archivio di monitoraggio a un pool Front end in Skype for Business Server</span><span class="sxs-lookup"><span data-stu-id="230e9-103">Associate a monitoring store with a Front End pool in Skype for Business Server</span></span> 
<span data-ttu-id="230e9-104">**Riepilogo:** Informazioni su come associare pool Front end a un archivio di monitoraggio utilizzato da Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="230e9-104">**Summary:** Learn how to associate Front End pools with a monitoring store used by Skype for Business Server.</span></span>
  
<span data-ttu-id="230e9-105">In Skype for Business Server, i dati di monitoraggio possono essere raccolti solo nei pool Front end che sono stati associati a un archivio di monitoraggio, un'attività in genere eseguita quando si definisce un pool Front end in Generatore di topologie.</span><span class="sxs-lookup"><span data-stu-id="230e9-105">In Skype for Business Server, monitoring data can only be collected on Front End pools that have been associated with a monitoring store, a task typically carried out when you define a Front End pool in Topology Builder.</span></span>
  
## <a name="associate-a-monitoring-store-with-a-front-end-pool"></a><span data-ttu-id="230e9-106">Associare un archivio di monitoraggio a un pool Front End</span><span class="sxs-lookup"><span data-stu-id="230e9-106">Associate a monitoring store with a Front End pool</span></span>

 <span data-ttu-id="230e9-107">Per associare un archivio di monitoraggio a un nuovo pool Front End, è necessario selezionare l'opzione **monitoraggio (registrazione dettagli chiamata e registrazione delle metriche sulla qualità delle esperienze)** nella pagina **Seleziona funzionalità** della procedura guidata Definisci nuovo pool Front end.</span><span class="sxs-lookup"><span data-stu-id="230e9-107">To associate a monitoring store with a new Front End pool, make sure that you select the option **Monitoring (call detail recording and logging of quality of experience metrics)** on the **Select Features** page of the Define New Front End Pool wizard.</span></span> <span data-ttu-id="230e9-108">Si noti che, se si seleziona questa opzione, è necessario specificare anche un archivio SQL per completare la procedura guidata. Tuttavia, questo archivio non deve esistere nel momento in cui viene eseguita la procedura guidata.</span><span class="sxs-lookup"><span data-stu-id="230e9-108">Note that, if you select this option, you must also specify a SQL store in order to complete the wizard; however, this store does not have to exist at the time you run the wizard.</span></span> <span data-ttu-id="230e9-109">Questo significa che è possibile associare un pool a un archivio di monitoraggio, quindi installarlo e configurarlo in un secondo momento.</span><span class="sxs-lookup"><span data-stu-id="230e9-109">That means that you can first associate a pool with a monitoring store, then later setup and configure that store.</span></span>
  
<span data-ttu-id="230e9-110">In alternativa, è possibile associare un pool Front End esistente a un archivio di monitoraggio nuovo o diverso eseguendo la procedura seguente:</span><span class="sxs-lookup"><span data-stu-id="230e9-110">Alternatively, you can associate an existing Front End pool with a new or different monitoring store by completing the following procedure:</span></span>
  
1. <span data-ttu-id="230e9-111">Fare clic sul pulsante **Start**, scegliere **tutti i programmi**, fare clic su **Skype for Business Server 2015** e quindi su **Generatore di topologie di Skype for Business Server**.</span><span class="sxs-lookup"><span data-stu-id="230e9-111">Click **Start**, click **All Programs**, click **Skype for Business Server 2015**, and then click **Skype for Business Server Topology Builder**.</span></span>
    
2. <span data-ttu-id="230e9-112">Nella finestra di dialogo **Generatore di topologie** selezionare **Scarica topologia dalla distribuzione esistente** e quindi fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="230e9-112">In the **Topology Builder** dialog box, select **Download Topology from existing deployment** and then click **OK**.</span></span>
    
3. <span data-ttu-id="230e9-p102">Nella finestra di dialogo **Salva con nome** immettere un nome file per la topologia corrente e quindi fare clic su **Salva**. La topologia salvata può essere successivamente recuperata e ripubblicata in caso di problemi con la nuova topologia.</span><span class="sxs-lookup"><span data-stu-id="230e9-p102">In the **Save As** dialog box, enter a file name for your current topology and then click **Save**. The saved topology can later be retrieved and re-published in case there are problems with the new topology.</span></span>
    
4. <span data-ttu-id="230e9-115">In Generatore di topologie espandere **Skype for Business Server**, espandere il nome del sito contenente il pool Front end e quindi fare clic su Espandi **pool Enterprise Edition front end**.</span><span class="sxs-lookup"><span data-stu-id="230e9-115">In Topology Builder, expand **Skype for Business Server**, expand the name of the site containing the Front End pool, then click expand **Enterprise Edition Front End pools**.</span></span>
    
5. <span data-ttu-id="230e9-116">Fare clic con il pulsante destro del mouse sul nome del pool da associare all'archivio di monitoraggio e quindi scegliere **Modifica proprietà**.</span><span class="sxs-lookup"><span data-stu-id="230e9-116">Right-click the name of the pool to be associated with the monitoring store and then click **Edit Properties**.</span></span>
    
6. <span data-ttu-id="230e9-p103">Nella finestra di dialogo **Modifica proprietà** nella scheda **Generale** selezionare l'opzione **Monitoraggio (registrazione dettagli chiamata e registrazione metrica QoE** e quindi selezionare un database di SQL Server esistente nell'elenco a discesa **Archivio SQL Server monitoraggio**. In alternativa, fare clic su **Nuovo** per associare il pool a un nuovo archivio database. Se si sceglie di utilizzare il nuovo archivio database, nella finestra di dialogo **Definisci nuovo archivio SQL** immettere il nome di dominio completo del computer SQL Server nella casella **FQDN SQL Server**. Se si desidera utilizzare l'istanza di SQL Server predefinita per l'archivio, selezionare **Istanza predefinita**, altrimenti selezionare **Istanza denominata** e immettere il nome dell'istanza nella casella **Istanza denominata**.</span><span class="sxs-lookup"><span data-stu-id="230e9-p103">In the **Edit Properties** dialog box, on the **General** tab, select the option **Monitoring (CDR and QoE metrics)** and then select an existing SQL Server database from the **Monitoring SQL Server store** dropdown list. (Or, click **New** to associate the pool with a new database store.) If you choose to use a new database store then, in the **Define New SQL Store** dialog box, enter the fully qualified domain name of the SQL Server computer in the **Sql Server FQDN** box. If you want to use the default SQL Server instance for that store select **Default Instance**; otherwise select **Named Instance** and enter the instance name in the **Named Instance** box.</span></span>
    
    <span data-ttu-id="230e9-120">Nella finestra di dialogo **modifica proprietà** viene inoltre fornita la possibilità di creare un mirror SQL per il database di monitoraggio (un mirror SQL consente di gestire due copie del database di monitoraggio, una copia archiviata nel computer archivio di monitoraggio e l'altra nel computer mirror SQL).</span><span class="sxs-lookup"><span data-stu-id="230e9-120">The **Edit Properties** dialog box also gives you the option of creating a SQL mirror for your monitoring database (a SQL mirror enables you to maintain two copies of your monitoring database, one copy stored on the monitoring store computer and the other on the SQL mirror computer).</span></span> <span data-ttu-id="230e9-121">Per abilitare il mirroring, selezionare T **la propria istanza di SQL è in relazione di mirroring** e immettere il numero di porta del server mirror nella casella **numero porta di mirroring** .</span><span class="sxs-lookup"><span data-stu-id="230e9-121">To enable mirroring, select T **his SQL instance is in mirroring relation** and enter the port number for the mirror server in the **Mirroring port number** box.</span></span>
    
7. <span data-ttu-id="230e9-122">Nella finestra di dialogo **Modifica proprietà** fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="230e9-122">In the **Edit Properties** dialog box, click **OK**.</span></span>
    
<span data-ttu-id="230e9-p105">Dopo aver associato l'archivio di monitoraggio a un pool Front End, è necessario pubblicare la nuova topologia per rendere effettive le modifiche. A tale scopo, eseguire le operazioni seguenti in Generatore di topologie:</span><span class="sxs-lookup"><span data-stu-id="230e9-p105">After associating the monitoring store with a Front End pool you must publish the new topology before the changes take effect. To publish your new topology, complete the following steps in Topology Builder:</span></span>
  
1. <span data-ttu-id="230e9-125">Fare clic su **Azione**, scegliere **Topologia** e quindi **Pubblica**.</span><span class="sxs-lookup"><span data-stu-id="230e9-125">Click **Action**, point to **Topology**, and then click **Publish**.</span></span>
    
2. <span data-ttu-id="230e9-126">Nella pagina **Pubblicare la topologia** della procedura guidata Pubblica topologia fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="230e9-126">In the Publish Topology wizard, on the **Publish the topology** page, click **Next**.</span></span>
    
3. <span data-ttu-id="230e9-127">Nella pagina **Pubblicazione guidata completata** fare clic su **Fine**.</span><span class="sxs-lookup"><span data-stu-id="230e9-127">On the **Publishing wizard complete** page, click **Finish**.</span></span>
    
<span data-ttu-id="230e9-128">Dopo la pubblicazione della topologia, è possibile installare il database di monitoraggio nel computer che ospiterà l'archivio di monitoraggio.</span><span class="sxs-lookup"><span data-stu-id="230e9-128">After the topology has been published you can then install the monitoring database on the computer that will host the monitoring store.</span></span> <span data-ttu-id="230e9-129">È possibile installare il database di monitoraggio utilizzando Skype for Business Server Management Shell e Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="230e9-129">The monitoring database can be installed by using the Skype for Business Server Management Shell and Windows PowerShell.</span></span> <span data-ttu-id="230e9-130">Per installare il database localmente, ovvero per installare il database nello stesso computer in cui si esegue Skype for Business Server Management Shell, avviare la shell di gestione nel computer appropriato e quindi digitare il comando seguente e premere INVIO:</span><span class="sxs-lookup"><span data-stu-id="230e9-130">To install the database locally (that is, to install the database on the same computer where you are running the Skype for Business Server Management Shell), start the Management Shell on the appropriate computer, then type in the following command and press ENTER:</span></span>
  
```powershell
Install-CsDatabase -LocalDatabases
```

<span data-ttu-id="230e9-131">Quando si esegue il comando precedente, Install-CsDatabase leggerà la topologia di Skype for Business Server corrente, stabilire quali database devono essere installati nel computer locale e quindi installare e configurare automaticamente ognuno di questi database.</span><span class="sxs-lookup"><span data-stu-id="230e9-131">When you run the preceding command, Install-CsDatabase will read the current Skype for Business Server topology, determine which databases need to be installed on the local computer, and then automatically install and configure each of those databases.</span></span>
  
<span data-ttu-id="230e9-132">Per installare il database in un computer remoto, ovvero un computer diverso da quello in cui è in esecuzione Management Shell, è necessario includere almeno due parametri: ConfiguredDatabases e SqlServerFqdn.</span><span class="sxs-lookup"><span data-stu-id="230e9-132">To install the database on a remote computer (that is, a computer other than the computer where the Management Shell is running) you must include at least two parameters: the ConfiguredDatabases parameter and the SqlServerFqdn parameter.</span></span> <span data-ttu-id="230e9-133">Questi parametri indicano al cmdlet Install-CsDatabase di recuperare la topologia di Skype for Business Server e quindi installano e configurano i database necessari nel computer specificato dal parametro SqlServerFqdn.</span><span class="sxs-lookup"><span data-stu-id="230e9-133">These parameters tell the Install-CsDatabase cmdlet to retrieve the Skype for Business Server topology and then install and configure the required databases on the computer specified by the SqlServerFqdn parameter.</span></span> <span data-ttu-id="230e9-134">Il parametro SqlServerFqdn deve utilizzare un valore di parametro che rappresenta il nome di dominio completo del computer in cui devono essere installati i database.</span><span class="sxs-lookup"><span data-stu-id="230e9-134">The SqlServerFqdn parameter must use a parameter value representing the fully qualified domain name of the computer where the databases are to be installed.</span></span>
  
<span data-ttu-id="230e9-135">Con il comando seguente ad esempio il database di monitoraggio viene installato nel computer atl-sql-001.litwareinc.com:</span><span class="sxs-lookup"><span data-stu-id="230e9-135">For example, this command installs the monitoring database on the computer atl-sql-001.litwareinc.com:</span></span>
  
```powershell
Install-CsDatabase -ConfiguredDatabases -SqlServerFqdn atl-sql-001.litwareinc.com
```

<span data-ttu-id="230e9-136">In alternativa, è possibile installare il database di monitoraggio eseguendo la distribuzione guidata di Skype for Business Server nel computer che ospiterà l'archivio di monitoraggio.</span><span class="sxs-lookup"><span data-stu-id="230e9-136">Alternatively, you can install the monitoring database by running the Skype for Business Server Deployment Wizard on the computer that will host the monitoring store.</span></span> <span data-ttu-id="230e9-137">A tale scopo, accedere al computer appropriato ed eseguire la procedura seguente:</span><span class="sxs-lookup"><span data-stu-id="230e9-137">To do this, log on to the appropriate computer and complete the following procedure:</span></span>
  
1. <span data-ttu-id="230e9-138">Fare clic sul pulsante **Start**, scegliere **tutti i programmi**, fare clic su **Skype for Business Server 2015** e quindi fare clic su **Skype for Business Server Deployment Wizard**.</span><span class="sxs-lookup"><span data-stu-id="230e9-138">Click **Start**, click **All Programs**, click **Skype for Business Server 2015**, and then click **Skype for Business Server Deployment Wizard**.</span></span>
    
2. <span data-ttu-id="230e9-139">Nella distribuzione guidata, fare clic su **Installa o aggiorna il sistema di Skype for Business Server**.</span><span class="sxs-lookup"><span data-stu-id="230e9-139">In the Deployment Wizard, click **Install or Update Skype for Business Server System**.</span></span>
    
3. <span data-ttu-id="230e9-140">Nella pagina **Distribuisci** , in **passaggio 2: installazione o rimozione componenti di Skype for Business Server**, fare clic su **Riesegui**.</span><span class="sxs-lookup"><span data-stu-id="230e9-140">On the **Deploy** page, under **Step 2: Setup or Remove Skype for Business Server Components**, click **Run Again**.</span></span>
    
4. <span data-ttu-id="230e9-141">Nell'installazione guidata componenti di Skype for Business Server, nella pagina **Installazione componenti di Skype for Business Server** fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="230e9-141">In the Setup Skype for Business Server components wizard, on the **Setup Skype for Business Server components** page, click **Next**.</span></span>
    
5. <span data-ttu-id="230e9-142">Nella pagina **Specifica percorso di MSI** Digitare il percorso del file Ocscore.msi (un file incluso nel supporto di installazione di Skype for Business Server) e quindi fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="230e9-142">On the **Specify path to MSIs** page, type the path to the file Ocscore.msi (a file included with your Skype for Business Server installation media) and then click **Next**.</span></span>
    
6. <span data-ttu-id="230e9-143">Nella pagina **Esecuzione comandi in corso** fare clic su **Fine**.</span><span class="sxs-lookup"><span data-stu-id="230e9-143">On the **Executing Commands** page, click **Finish**.</span></span>
    
<span data-ttu-id="230e9-144">Per assicurarsi che tutti i servizi richiesti di Skype for Business Server siano stati avviati, fare clic su **Esegui** sotto il titolo **passaggio 4: avviare i servizi** nella pagina **Distribuisci** .</span><span class="sxs-lookup"><span data-stu-id="230e9-144">To ensure that all the required Skype for Business Server services have started, click **Run** under the heading **Step 4: Start Services** on the **Deploy** page</span></span>
  

