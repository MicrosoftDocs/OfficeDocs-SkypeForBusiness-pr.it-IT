---
title: Definizione delle regole di normalizzazione in Skype for Business Server
ms.reviewer: ''
ms.author: v-lanac
author: lanachin
manager: serdars
audience: ITPro
ms.topic: article
ms.prod: skype-for-business-itpro
f1.keywords:
- NOCSH
localization_priority: Normal
description: Le regole di normalizzazione di Skype for Business Server utilizzano le espressioni regolari di .NET Framework per tradurre i numeri di telefono composti in formato E. 164; in altre parole, le regole di normalizzazione assumono il numero di telefono composto da un utente e convertono tale numero nel formato utilizzato internamente da Skype for Business Server. A ogni dial plan deve essere assegnata una o più regole di normalizzazione.
ms.openlocfilehash: 42ec43a08d1c155f61869bdfebf07e94ac040e56
ms.sourcegitcommit: 88a16c09dd91229e1a8c156445eb3c360c942978
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 02/15/2020
ms.locfileid: "42028847"
---
# <a name="defining-normalization-rules-in-skype-for-business-server"></a><span data-ttu-id="e600a-104">Definizione delle regole di normalizzazione in Skype for Business Server</span><span class="sxs-lookup"><span data-stu-id="e600a-104">Defining normalization rules in Skype for Business Server</span></span>

<span data-ttu-id="e600a-105">Le regole di normalizzazione di Skype for Business Server utilizzano le espressioni regolari di .NET Framework per tradurre i numeri di telefono composti in formato E. 164; in altre parole, le regole di normalizzazione assumono il numero di telefono composto da un utente e convertono tale numero nel formato utilizzato internamente da Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="e600a-105">Skype for Business Server normalization rules use .NET Framework regular expressions to translate dialed phone numbers to E.164 format; in other words, normalization rules take the phone number dialed by a user and convert that number to the format used internally by Skype for Business Server.</span></span> <span data-ttu-id="e600a-106">A ogni dial plan deve essere assegnata una o più regole di normalizzazione.</span><span class="sxs-lookup"><span data-stu-id="e600a-106">Each dial plan must be assigned one or more normalization rules.</span></span>

<span data-ttu-id="e600a-107">Per informazioni dettagliate sulle regole di normalizzazione, vedere [dial plan e regole di normalizzazione](https://technet.microsoft.com/library/gg413082(v=ocs.15).aspx).</span><span class="sxs-lookup"><span data-stu-id="e600a-107">For details about normalization rules, see [Dial plans and normalization rules](https://technet.microsoft.com/library/gg413082(v=ocs.15).aspx).</span></span>

<span data-ttu-id="e600a-108">Per informazioni dettagliate su come scrivere espressioni regolari, vedere [espressioni regolari di .NET Framework](http://go.microsoft.com/fwlink/p/?linkId=140927).</span><span class="sxs-lookup"><span data-stu-id="e600a-108">For details about how to write regular expressions, see [.NET Framework Regular Expressions](http://go.microsoft.com/fwlink/p/?linkId=140927).</span></span>

<span data-ttu-id="e600a-109">È possibile utilizzare uno dei metodi seguenti per definire o modificare una regola di normalizzazione:</span><span class="sxs-lookup"><span data-stu-id="e600a-109">You can use either of the following methods to define or edit a normalization rule:</span></span>
- <span data-ttu-id="e600a-110">[Utilizzare lo strumento **Crea regola di normalizzazione** ](#create-or-modify-a-normalization-rule-by-using-build-a-normalization-rule) per specificare i valori per le cifre iniziali, la lunghezza, le cifre da rimuovere e le cifre da aggiungere, quindi lasciare che il pannello di controllo di Skype for Business Server generi il corrispondente modello di corrispondenza e la regola di conversione.</span><span class="sxs-lookup"><span data-stu-id="e600a-110">[Use the **Build a Normalization Rule** tool](#create-or-modify-a-normalization-rule-by-using-build-a-normalization-rule) to specify values for the starting digits, length, digits to remove and digits to add, and then let Skype for Business Server Control Panel generate the corresponding matching pattern and translation rule for you.</span></span>
- <span data-ttu-id="e600a-111">[Scrivere manualmente espressioni regolari](#create-or-modify-a-normalization-rule-manually) per definire il modello di corrispondenza e la regola di conversione.</span><span class="sxs-lookup"><span data-stu-id="e600a-111">[Write regular expressions manually](#create-or-modify-a-normalization-rule-manually) to define the matching pattern and translation rule.</span></span> 

## <a name="create-or-modify-a-normalization-rule-by-using-build-a-normalization-rule"></a><span data-ttu-id="e600a-112">Creare o modificare una regola di normalizzazione utilizzando crea una regola di normalizzazione</span><span class="sxs-lookup"><span data-stu-id="e600a-112">Create or modify a normalization rule by using Build a Normalization Rule</span></span>

<span data-ttu-id="e600a-113">Se si desidera creare o modificare una regola di normalizzazione nel pannello di controllo di Skype for Business Server, eseguire la procedura seguente.</span><span class="sxs-lookup"><span data-stu-id="e600a-113">Complete the following steps if you want to create or modify a normalization rule in Skype for Business Server Control Panel.</span></span> 

<span data-ttu-id="e600a-114">**Per definire una regola mediante Crea regola di normalizzazione**</span><span class="sxs-lookup"><span data-stu-id="e600a-114">**To define a rule by using Build a Normalization Rule**</span></span>

1. <span data-ttu-id="e600a-115">Accedere al computer come membro del gruppo RTCUniversalServerAdmins oppure come membro del ruolo CsVoiceAdministrator, CsServerAdministrator o CsAdministrator.</span><span class="sxs-lookup"><span data-stu-id="e600a-115">Log on to the computer as a member of the RTCUniversalServerAdmins group, or as a member of the CsVoiceAdministrator, CsServerAdministrator, or CsAdministrator role.</span></span> <span data-ttu-id="e600a-116">Per informazioni dettagliate, vedere [delegate Setup Permissions](https://technet.microsoft.com/library/gg412735(v=ocs.15).aspx).</span><span class="sxs-lookup"><span data-stu-id="e600a-116">For details, see [Delegate setup permissions](https://technet.microsoft.com/library/gg412735(v=ocs.15).aspx).</span></span>
2. <span data-ttu-id="e600a-117">Aprire una finestra del browser e quindi immettere l'URL di amministrazione per aprire il pannello di controllo.</span><span class="sxs-lookup"><span data-stu-id="e600a-117">Open a browser window, and then enter the Admin URL to open the Control Panel.</span></span> <span data-ttu-id="e600a-118">Per informazioni dettagliate sui diversi metodi che è possibile utilizzare per avviare il pannello di controllo di Skype for business, vedere [Install and Open Administrative Tools](../../management-tools/install-and-open-administrative-tools.md).</span><span class="sxs-lookup"><span data-stu-id="e600a-118">For details about the different methods you can use to start the Skype for Business Control Panel, see [Install and open administrative tools](../../management-tools/install-and-open-administrative-tools.md).</span></span>
3. <span data-ttu-id="e600a-119">Optional Seguire la procedura descritta in [Create a dial plan](https://docs.microsoft.com/skypeforbusiness/deploy/deploy-enterprise-voice/dial-plans#to-create-a-dial-plan) through Step 11 o [Modify a dial plan](https://docs.microsoft.com/skypeforbusiness/deploy/deploy-enterprise-voice/dial-plans#to-modify-a-dial-plan) through Step 10.</span><span class="sxs-lookup"><span data-stu-id="e600a-119">(Optional) Follow the steps in [Create a dial plan](https://docs.microsoft.com/skypeforbusiness/deploy/deploy-enterprise-voice/dial-plans#to-create-a-dial-plan) through step 11 or [Modify a dial plan](https://docs.microsoft.com/skypeforbusiness/deploy/deploy-enterprise-voice/dial-plans#to-modify-a-dial-plan) through step 10.</span></span> 
4. <span data-ttu-id="e600a-120">In **Nuova regola di normalizzazione** o **Modifica regola di normalizzazione** digitare un nome descrittivo del formato del numero da normalizzare in **Nome**, ad esempio **Prefisso5Cifre**.</span><span class="sxs-lookup"><span data-stu-id="e600a-120">In **New Normalization Rule** or **Edit Normalization Rule**, type a name that describes the number pattern being normalized in **Name** (for example, **5DigitExtension**).</span></span>
5. <span data-ttu-id="e600a-121">(Facoltativo) In **Descrizione** digitare una descrizione della regola di normalizzazione, ad esempio "Converte prefissi a 5 cifre".</span><span class="sxs-lookup"><span data-stu-id="e600a-121">(Optional) In **Description**, type a description of the normalization rule (for example, "Translates 5-digit extensions").</span></span>
6. <span data-ttu-id="e600a-122">In **Crea regola di normalizzazione** immettere valori nei campi seguenti:</span><span class="sxs-lookup"><span data-stu-id="e600a-122">In **Build a Normalization Rule**, enter values in the following fields:</span></span>
    - <span data-ttu-id="e600a-123">**Cifre iniziali**: (facoltativo) specificare le cifre iniziali dei numeri composti che si desidera che il modello corrisponda.</span><span class="sxs-lookup"><span data-stu-id="e600a-123">**Starting digits**:   (Optional) Specify the leading digits of dialed numbers you want the pattern to match.</span></span> <span data-ttu-id="e600a-124">Digitare ad esempio **425** se si desidera che il formato corrisponda ai numeri composti che iniziano con 425.</span><span class="sxs-lookup"><span data-stu-id="e600a-124">For example, type **425** if you want the pattern to match dialed numbers beginning with 425.</span></span>
    - <span data-ttu-id="e600a-125">**Lunghezza**: specificare il numero di cifre nel motivo corrispondente e selezionare se si desidera che il motivo corrisponda esattamente a questa lunghezza, corrispondere ai numeri composti almeno per questa lunghezza o corrispondere a numeri composti di qualsiasi lunghezza.</span><span class="sxs-lookup"><span data-stu-id="e600a-125">**Length**:   Specify the number of digits in the matching pattern and select whether you want the pattern to match this length exactly, match dialed numbers that are at least this length, or match dialed numbers of any length.</span></span>
    - <span data-ttu-id="e600a-126">**Cifre da rimuovere**: (facoltativo) specificare il numero di cifre iniziali che devono essere rimosse dai numeri composti che si desidera corrispondano al modello.</span><span class="sxs-lookup"><span data-stu-id="e600a-126">**Digits to remove**:   (Optional) Specify the number of starting digits to be removed from dialed numbers you want the pattern to match.</span></span>
    - <span data-ttu-id="e600a-127">**Cifre da aggiungere**: (facoltativo) specificare le cifre che devono essere aggiunte ai numeri composti che si desidera corrispondano al modello.</span><span class="sxs-lookup"><span data-stu-id="e600a-127">**Digits to add**:   (Optional) Specify digits to be added to dialed numbers you want the pattern to match.</span></span>
    
    <span data-ttu-id="e600a-128">I valori immessi in questi campi vengono riportati nei campi **Formato per corrispondenza** e **Regola di conversione**.</span><span class="sxs-lookup"><span data-stu-id="e600a-128">The values you enter in these fields are reflected in **Pattern to match** and **Translation rule**.</span></span> <span data-ttu-id="e600a-129">Ad esempio, se si lasciano vuote le **cifre iniziali** , digitare **7** nel **campo lunghezza** selezionare **esattamente**e specificare **0** in **cifre da rimuovere**, l'espressione regolare risultante nel **motivo corrispondente** è la seguente:</span><span class="sxs-lookup"><span data-stu-id="e600a-129">For example, if you leave **Starting digits** empty, type **7** into the **Length** field select **Exactly**, and specify **0** in **Digits to remove**, the resulting regular expression in the **Pattern to match** is:</span></span>

    <span data-ttu-id="e600a-130">**^ (\d{7}) $**</span><span class="sxs-lookup"><span data-stu-id="e600a-130">**^(\d{7})$**</span></span>

7. <span data-ttu-id="e600a-131">In **Regola di conversione** specificare un modello per il formato dei numeri di telefono E.164 convertiti, come indicato di seguito:</span><span class="sxs-lookup"><span data-stu-id="e600a-131">In **Translation rule**, specify a pattern for the format of translated E.164 phone numbers as follows:</span></span>
    - <span data-ttu-id="e600a-132">Un valore che rappresenta il numero di cifri specificato nel formato della corrispondenza.</span><span class="sxs-lookup"><span data-stu-id="e600a-132">A value that represents the number of digits specified in the matching pattern.</span></span> <span data-ttu-id="e600a-133">Ad esempio, se il modello corrispondente è **^ (\d{7}) $**, allora $1 nella regola di conversione rappresenta numeri composti a 7 cifre.</span><span class="sxs-lookup"><span data-stu-id="e600a-133">For example, if the matching pattern is **^(\d{7})$**, then $1 in the translation rule represents 7-digit dialed numbers.</span></span>
    - <span data-ttu-id="e600a-134">(Facoltativo) Digitare un valore nel campo **Prefisso** per specificare le cifre da anteporre al numero convertito (ad esempio **+1425**).</span><span class="sxs-lookup"><span data-stu-id="e600a-134">(Optional) Type a value into the **Digits to add** field to specify digits to be prepended to the translated number (for example, **+1425**).</span></span>
    
    <span data-ttu-id="e600a-135">Ad esempio, se **pattern to match** contiene **^ (\d{7}) $** come modello per i numeri composti e la **regola di conversione** contiene **+ 1425 $1** come modello per i numeri di telefono e. 164, la regola Normalizza 5550100 in + 14255550100.</span><span class="sxs-lookup"><span data-stu-id="e600a-135">For example, if **Pattern to match** contains **^(\d{7})$** as the pattern for dialed numbers and **Translation rule** contains **+1425$1** as the pattern for E.164 phone numbers, the rule normalizes 5550100 to +14255550100.</span></span>

8. <span data-ttu-id="e600a-136">(Facoltativo) Se la regola di normalizzazione restituisce un numero di telefono interno all'organizzazione, selezionare **Estensione interna**.</span><span class="sxs-lookup"><span data-stu-id="e600a-136">(Optional) If the normalization rule results in a phone number that is internal to your organization, select **Internal extension**.</span></span>
9. <span data-ttu-id="e600a-p108">(Facoltativo) Immettere un numero per testare la regola di normalizzazione e quindi fare clic su **Vai**. I risultati del test vengono visualizzati in **Immetti numero di telefono da testare**.</span><span class="sxs-lookup"><span data-stu-id="e600a-p108">(Optional) Enter a number to test the normalization rule, and then click **Go**. The test results are displayed under **Enter a number to test**.</span></span>
    > [!Note] 
    > <span data-ttu-id="e600a-139">È possibile salvare una regola di normalizzazione che non passa ancora il test e quindi riconfigurarla successivamente.</span><span class="sxs-lookup"><span data-stu-id="e600a-139">You can save a normalization rule that does not yet pass the test and then reconfigure it later.</span></span> <span data-ttu-id="e600a-140">Per ulteriori informazioni, vedere [test Voice routing](https://technet.microsoft.com/library/gg398915(v=ocs.15).aspx).</span><span class="sxs-lookup"><span data-stu-id="e600a-140">For details, see [Test voice routing](https://technet.microsoft.com/library/gg398915(v=ocs.15).aspx).</span></span> 

10. <span data-ttu-id="e600a-141">Fare clic su **OK** per salvare la regola di normalizzazione.</span><span class="sxs-lookup"><span data-stu-id="e600a-141">Click **OK** to save the normalization rule.</span></span>
11. <span data-ttu-id="e600a-142">Fare clic su **OK** per salvare il dial plan.</span><span class="sxs-lookup"><span data-stu-id="e600a-142">Click **OK** to save the dial plan.</span></span>
12. <span data-ttu-id="e600a-143">Nella pagina **Dial plan** fare clic su **Commit** e quindi su **Salva tutto**.</span><span class="sxs-lookup"><span data-stu-id="e600a-143">On the **Dial Plan** page, click **Commit**, and then click **Commit all**.</span></span> 
    > [!Note]
    > <span data-ttu-id="e600a-144">Ogni volta che si crea o si modifica una regola di normalizzazione, è necessario eseguire il comando Salva tutto per pubblicare la modifica apportata alla configurazione.</span><span class="sxs-lookup"><span data-stu-id="e600a-144">Whenever you create or change a normalization rule, you must run the Commit all command to publish the configuration change.</span></span> <span data-ttu-id="e600a-145">Per ulteriori informazioni, vedere [pubblicare le modifiche in sospeso alla configurazione del routing vocale](https://technet.microsoft.com/library/gg413088(v=ocs.15).aspx).</span><span class="sxs-lookup"><span data-stu-id="e600a-145">For details, see [Publish pending changes to the voice routing configuration](https://technet.microsoft.com/library/gg413088(v=ocs.15).aspx).</span></span> 

## <a name="create-or-modify-a-normalization-rule-manually"></a><span data-ttu-id="e600a-146">Creare o modificare manualmente una regola di normalizzazione</span><span class="sxs-lookup"><span data-stu-id="e600a-146">Create or modify a normalization rule manually</span></span>

<span data-ttu-id="e600a-147">Se si desidera creare o modificare manualmente una regola di normalizzazione, eseguire la procedura seguente.</span><span class="sxs-lookup"><span data-stu-id="e600a-147">Complete the following steps if you want to create or modify a normalization rule manually.</span></span>

<span data-ttu-id="e600a-148">**Per definire manualmente una regola di normalizzazione**</span><span class="sxs-lookup"><span data-stu-id="e600a-148">**To define a normalization rule manually**</span></span>

1. <span data-ttu-id="e600a-149">Accedere al computer come membro del gruppo RTCUniversalServerAdmins oppure come membro del ruolo CsVoiceAdministrator, CsServerAdministrator o CsAdministrator.</span><span class="sxs-lookup"><span data-stu-id="e600a-149">Log on to the computer as a member of the RTCUniversalServerAdmins group, or as a member of the CsVoiceAdministrator, CsServerAdministrator, or CsAdministrator role.</span></span> <span data-ttu-id="e600a-150">Per informazioni dettagliate, vedere [delegate Setup Permissions](https://technet.microsoft.com/library/gg412735(v=ocs.15).aspx).</span><span class="sxs-lookup"><span data-stu-id="e600a-150">For details, see [Delegate setup permissions](https://technet.microsoft.com/library/gg412735(v=ocs.15).aspx).</span></span>
2. <span data-ttu-id="e600a-151">Aprire una finestra del browser e quindi immettere l'URL di amministrazione per aprire il pannello di controllo.</span><span class="sxs-lookup"><span data-stu-id="e600a-151">Open a browser window, and then enter the Admin URL to open the Control Panel.</span></span> <span data-ttu-id="e600a-152">Per informazioni dettagliate sui diversi metodi che è possibile utilizzare per avviare il pannello di controllo di Skype for business, vedere [Install and Open Administrative Tools](../../management-tools/install-and-open-administrative-tools.md).</span><span class="sxs-lookup"><span data-stu-id="e600a-152">For details about the different methods you can use to start the Skype for Business Control Panel, see [Install and open administrative tools](../../management-tools/install-and-open-administrative-tools.md).</span></span>
3. <span data-ttu-id="e600a-153">Optional Seguire la procedura descritta in [Create a dial plan](GET LINK AFTER MIGRATION) through Step 11 o [Modify a dial plan](GET LINK AFTER MIGRATION) through Step 10.</span><span class="sxs-lookup"><span data-stu-id="e600a-153">(Optional) Follow the steps in [Create a dial plan](GET LINK AFTER MIGRATION) through step 11 or [Modify a dial plan](GET LINK AFTER MIGRATION) through step 10.</span></span>  
4. <span data-ttu-id="e600a-154">In **nuova regola di normalizzazione** o **Modifica regola di normalizzazione**digitare un nome che descriva il tipo di numero normalizzato in **nome** (ad esempio, denominare la regola di normalizzazione **5DigitExtension**).</span><span class="sxs-lookup"><span data-stu-id="e600a-154">In **New Normalization Rule** or **Edit Normalization Rule**, type a name that describes the number pattern being normalized in **Name** (for example, name the normalization rule **5DigitExtension**).</span></span>
5. <span data-ttu-id="e600a-155">(Facoltativo) In **Descrizione** digitare una descrizione della regola di normalizzazione, ad esempio "Converte prefissi a 5 cifre".</span><span class="sxs-lookup"><span data-stu-id="e600a-155">(Optional) In **Description**, type a description of the normalization rule (for example, "Translates 5-digit extensions").</span></span>
6. <span data-ttu-id="e600a-156">In **genera una regola di normalizzazione**fare clic su **modifica**.</span><span class="sxs-lookup"><span data-stu-id="e600a-156">In **Build a Normalization Rule**, click **Edit**.</span></span>
7. <span data-ttu-id="e600a-157">Immettere quanto segue in Digita espressione regolare:</span><span class="sxs-lookup"><span data-stu-id="e600a-157">Enter the following in Type a Regular Expression:</span></span>
    - <span data-ttu-id="e600a-158">In **corrispondenza di questo modello**specificare il modello che si desidera utilizzare per la corrispondenza con il numero di telefono composto.</span><span class="sxs-lookup"><span data-stu-id="e600a-158">In **Match this pattern**, specify the pattern that you want to use to match the dialed phone number.</span></span>
    - <span data-ttu-id="e600a-159">In **regola di conversione**specificare un modello per il formato dei numeri di telefono E. 164 tradotti.</span><span class="sxs-lookup"><span data-stu-id="e600a-159">In **Translation rule**, specify a pattern for the format of translated E.164 phone numbers.</span></span>

    <span data-ttu-id="e600a-160">Ad esempio, se si immette **^ (\d{7}) $** in **corrispondenza di questo modello** e **+ 1425 $1** in **regola di conversione**, la regola Normalizza 5550100 in + 14255550100.</span><span class="sxs-lookup"><span data-stu-id="e600a-160">For example, if you enter **^(\d{7})$** in **Match this pattern** and **+1425$1** in **Translation rule**, the rule normalizes 5550100 to +14255550100.</span></span>

8. <span data-ttu-id="e600a-161">(Facoltativo) Se la regola di normalizzazione restituisce un numero di telefono interno all'organizzazione, selezionare **Estensione interna**.</span><span class="sxs-lookup"><span data-stu-id="e600a-161">(Optional) If the normalization rule results in a phone number that is internal to your organization, select **Internal extension**.</span></span>
9. <span data-ttu-id="e600a-p113">(Facoltativo) Immettere un numero per testare la regola di normalizzazione e quindi fare clic su **Vai**. I risultati del test vengono visualizzati in **Immetti numero di telefono da testare**.</span><span class="sxs-lookup"><span data-stu-id="e600a-p113">(Optional) Enter a number to test the normalization rule, and then click **Go**. The test results are displayed under **Enter a number to test**.</span></span>

    > [!Note]
    > <span data-ttu-id="e600a-164">È possibile salvare una regola di normalizzazione che non passa ancora il test e quindi riconfigurarla successivamente.</span><span class="sxs-lookup"><span data-stu-id="e600a-164">You can save a normalization rule that does not yet pass the test and then reconfigure it later.</span></span> <span data-ttu-id="e600a-165">Per ulteriori informazioni, vedere [test Voice routing](https://technet.microsoft.com/library/gg398915(v=ocs.15).aspx).</span><span class="sxs-lookup"><span data-stu-id="e600a-165">For details, see [Test voice routing](https://technet.microsoft.com/library/gg398915(v=ocs.15).aspx).</span></span> 

10. <span data-ttu-id="e600a-166">Fare clic su **OK** per salvare la regola di normalizzazione.</span><span class="sxs-lookup"><span data-stu-id="e600a-166">Click **OK** to save the normalization rule.</span></span>
11. <span data-ttu-id="e600a-167">Fare clic su **OK** per salvare il dial plan.</span><span class="sxs-lookup"><span data-stu-id="e600a-167">Click **OK** to save the dial plan.</span></span>
12. <span data-ttu-id="e600a-168">Nella pagina **dial plan** , fare clic su **commi**t, quindi fare clic su **Salva tutto**.</span><span class="sxs-lookup"><span data-stu-id="e600a-168">On the **Dial Plan** page, click **Commi**t, and then click **Commit all**.</span></span> 
