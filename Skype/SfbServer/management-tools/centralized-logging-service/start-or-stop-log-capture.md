---
title: Avviare o arrestare l'acquisizione dei log CSL in Skype for Business 2015
ms.reviewer: ''
ms.author: v-lanac
author: lanachin
manager: serdars
ms.date: 2/1/2018
audience: ITPro
ms.topic: article
ms.prod: skype-for-business-itpro
localization_priority: Normal
ms.collection: IT_Skype16
ms.assetid: 0512b9ce-7f5b-48eb-a79e-f3498bacf2de
description: 'Riepilogo: informazioni su come avviare o arrestare una sessione di acquisizione del log del servizio di registrazione centralizzata in Skype for Business Server 2015.'
ms.openlocfilehash: b4da74e05a1eb6f6945f44c0c045c2292e7acca7
ms.sourcegitcommit: 2cc98fcecd753e6e8374fc1b5a78b8e3d61e0cf7
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2020
ms.locfileid: "40991441"
---
# <a name="start-or-stop-cls-log-capture-in-skype-for-business-server-2015"></a><span data-ttu-id="025bd-103">Avviare o arrestare l'acquisizione dei log CSL in Skype for Business 2015</span><span class="sxs-lookup"><span data-stu-id="025bd-103">Start or stop CLS log capture in Skype for Business Server 2015</span></span>
 
<span data-ttu-id="025bd-104">**Riepilogo:** Informazioni su come avviare o arrestare una sessione di acquisizione del log del servizio di registrazione centralizzata in Skype for Business Server 2015.</span><span class="sxs-lookup"><span data-stu-id="025bd-104">**Summary:** Learn how to start or stop a Centralized Logging Service log capture session in Skype for Business Server 2015.</span></span>
  
<span data-ttu-id="025bd-105">Per acquisire i registri di traccia usando il servizio di registrazione centralizzato, viene emesso un comando per iniziare la registrazione in uno o più computer e pool.</span><span class="sxs-lookup"><span data-stu-id="025bd-105">To capture trace logs using the Centralized Logging Service, you issue a command to begin logging on one or more computers and pools.</span></span> <span data-ttu-id="025bd-106">Puoi anche emettere parametri che definiscono i computer o i pool, quali scenari eseguire, ad esempio AlwaysOn, un altro scenario predefinito o uno scenario che hai creato, i componenti di Skype for Business Server (ad esempio, S4, SipStack) da rintracciare.</span><span class="sxs-lookup"><span data-stu-id="025bd-106">You also issue parameters that define which computers or pools, what scenarios to run (for example, AlwaysOn, another predefined scenario, or a scenario you have created), what Skype for Business Server components (for example, S4, SipStack) to trace.</span></span>
  
<span data-ttu-id="025bd-107">Per acquisire le informazioni appropriate, è necessario assicurarsi di usare lo scenario giusto per raccogliere informazioni rilevanti per il problema.</span><span class="sxs-lookup"><span data-stu-id="025bd-107">To capture the right information, you need to make sure you use the right scenario to collect information that is relevant to the problem.</span></span> <span data-ttu-id="025bd-108">Nel servizio di registrazione centralizzato, uno scenario è il concetto di attivazione della registrazione basato su una raccolta di componenti server, livelli di registrazione e contrassegni, che è molto più efficiente e utile che definire questi elementi in base al server.</span><span class="sxs-lookup"><span data-stu-id="025bd-108">In the Centralized Logging Service, a scenario is the concept of turning logging on based on a collection of server components, logging levels, and flags, which is much more efficient and useful than having to define these elements on a per-server basis.</span></span> <span data-ttu-id="025bd-109">Puoi definire e specificare uno scenario da eseguire e lo scenario viene eseguito in modo coerente in tutti i server e i pool nell'ambito dell'infrastruttura.</span><span class="sxs-lookup"><span data-stu-id="025bd-109">You define and specify a scenario to run and the scenario is run consistently across all servers and pools in the scope of the infrastructure.</span></span>
  
<span data-ttu-id="025bd-110">Lo scenario predefinito è denominato **AlwaysOn**.</span><span class="sxs-lookup"><span data-stu-id="025bd-110">The default scenario is called **AlwaysOn**.</span></span> <span data-ttu-id="025bd-111">Lo scopo previsto per AlwaysOn è l'esecuzione costante dello scenario, come implica il nome dello scenario.</span><span class="sxs-lookup"><span data-stu-id="025bd-111">The intended purpose for AlwaysOn is to run the scenario constantly, as the name of the scenario implies.</span></span> <span data-ttu-id="025bd-112">Lo scenario AlwaysOn raccoglie informazioni a livello di informazioni (si noti che il livello di registrazione info include fatale, Error e Warning oltre ai messaggi info) per molti dei componenti server più comuni.</span><span class="sxs-lookup"><span data-stu-id="025bd-112">The AlwaysOn scenario collects Info level information (note that Info logging level includes Fatal, Error, and Warning in addition to Info messages) for many of the most common server components.</span></span> <span data-ttu-id="025bd-113">AlwaysOn raccoglie le informazioni prima, durante e dopo che si verifica un problema.</span><span class="sxs-lookup"><span data-stu-id="025bd-113">AlwaysOn collects information before, during, and after a problem occurs.</span></span> <span data-ttu-id="025bd-114">Ciò si differenzia in modo significativo dal comportamento tipico degli strumenti di registrazione precedenti, ad esempio OCSLogger.</span><span class="sxs-lookup"><span data-stu-id="025bd-114">This differs dramatically from the typical behavior of previous logging tools such as OCSLogger.</span></span> <span data-ttu-id="025bd-115">Hai eseguito OCSLogger dopo che il problema era già avvenuto, rendendo più difficile la risoluzione dei problemi perché i dati che hai sono reattivi e non proattivi.</span><span class="sxs-lookup"><span data-stu-id="025bd-115">You ran OCSLogger after the problem had already occurred, making your troubleshooting efforts more difficult because the data that you have is reactive, not proactive.</span></span> <span data-ttu-id="025bd-116">Se AlwaysOn non contiene le informazioni che si stanno cercando per fare riferimento al componente problema e indicare una linea di azione per risolverlo (che non è probabilmente dato l'ampiezza e la profondità dei provider in AlwaysOn), indicherà un livello di informazioni ragionevole conferma per determinare altre informazioni utili, ad esempio la creazione di un nuovo scenario, la raccolta di altri dati, l'esecuzione di una ricerca diversa per raccogliere dettagli più mirati e così via.</span><span class="sxs-lookup"><span data-stu-id="025bd-116">If AlwaysOn does not contain the information that you are looking for in order to point to the problem component and indicate a course of action to fix it (which is not likely given the breadth and depth of providers in AlwaysOn), it will indicate a reasonable level of information to determine what else you need to do, such as creating a new scenario, gather other information, run a different search to collect more focused details, and so on.</span></span>
  
<span data-ttu-id="025bd-117">Il servizio di registrazione centralizzato offre due modi per emettere comandi.</span><span class="sxs-lookup"><span data-stu-id="025bd-117">The Centralized Logging Service provides two ways to issue commands.</span></span> <span data-ttu-id="025bd-118">Un certo numero di argomenti è stato focalizzato sull'uso di Windows PowerShell tramite Skype for Business Server Management Shell.</span><span class="sxs-lookup"><span data-stu-id="025bd-118">A number of topics have been focused squarely on using Windows PowerShell through the Skype for Business Server Management Shell.</span></span> <span data-ttu-id="025bd-119">La possibilità di usare una serie di configurazioni e comandi complessi favorisce Windows PowerShell per l'uso del servizio di registrazione centralizzato.</span><span class="sxs-lookup"><span data-stu-id="025bd-119">The ability to use a number of complex configurations and commands favors Windows PowerShell for Centralized Logging Service use.</span></span> <span data-ttu-id="025bd-120">Dato che Windows PowerShell tramite Skype for Business Server Management Shell è quasi onnipresente per tutte le funzioni in Skype for Business Server, vengono discussi solo i comandi di Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="025bd-120">Because Windows PowerShell through the Skype for Business Server Management Shell is nearly ubiquitous for all functions in Skype for Business Server, only the Windows PowerShell commands are discussed.</span></span> 
  
### <a name="to-run-start-csclslogging-with-windows-powershell-using-basic-commands"></a><span data-ttu-id="025bd-121">Per eseguire Start-CsClsLogging con Windows PowerShell usando i comandi di base</span><span class="sxs-lookup"><span data-stu-id="025bd-121">To run Start-CsClsLogging with Windows PowerShell using basic commands</span></span>

1. <span data-ttu-id="025bd-122">Avviare Skype for Business Server Management Shell: fare clic sul pulsante **Start**, scegliere **tutti i programmi**, fare clic su **Skype for business 2015**e quindi fare clic su **Skype for Business Server Management Shell**.</span><span class="sxs-lookup"><span data-stu-id="025bd-122">Start the Skype for Business Server Management Shell: Click **Start**, click **All Programs**, click **Skype for Business 2015**, and then click **Skype for Business Server Management Shell**.</span></span>
    
2. <span data-ttu-id="025bd-123">Avviare uno scenario di registrazione con il servizio di registrazione centralizzato digitando quanto segue:</span><span class="sxs-lookup"><span data-stu-id="025bd-123">Start a logging scenario with the Centralized Logging Service by typing the following:</span></span>
    
   ```PowerShell
   Start-CsClsLogging -Scenario <name of scenario>
   ```

    <span data-ttu-id="025bd-124">Ad esempio, per avviare lo scenario **AlwaysOn** , digitare:</span><span class="sxs-lookup"><span data-stu-id="025bd-124">For example, to start the **AlwaysOn** scenario, type:</span></span>
    
   ```PowerShell
   Start-CsClsLogging -Scenario AlwaysOn
   ```

    > [!NOTE]
    > <span data-ttu-id="025bd-125">Lo scenario AlwaysOn non ha durata predefinita.</span><span class="sxs-lookup"><span data-stu-id="025bd-125">The AlwaysOn scenario has no default duration.</span></span> <span data-ttu-id="025bd-126">Questo scenario verrà eseguito fino a quando non lo Interrompi esplicitamente con il cmdlet **Stop-CsClsLogging** .</span><span class="sxs-lookup"><span data-stu-id="025bd-126">This scenario will run until you explicitly stop it with the **Stop-CsClsLogging** cmdlet.</span></span> <span data-ttu-id="025bd-127">Per informazioni dettagliate, vedere [Stop-CsClsLogging](https://docs.microsoft.com/powershell/module/skype/stop-csclslogging?view=skype-ps).</span><span class="sxs-lookup"><span data-stu-id="025bd-127">For details, see [Stop-CsClsLogging](https://docs.microsoft.com/powershell/module/skype/stop-csclslogging?view=skype-ps).</span></span> <span data-ttu-id="025bd-128">Per tutti gli altri scenari, la durata predefinita è di 4 ore.</span><span class="sxs-lookup"><span data-stu-id="025bd-128">For all other scenarios, the default duration is 4 hours.</span></span> 
  
3. <span data-ttu-id="025bd-129">Premere INVIO per eseguire il comando.</span><span class="sxs-lookup"><span data-stu-id="025bd-129">Press Enter to run the command.</span></span> 
    
    > [!NOTE]
    > <span data-ttu-id="025bd-130">Potrebbe essere necessario un breve lasso di tempo (da 30 a 60 secondi) per i comandi da eseguire e per ricevere lo stato di nuovo dai computer della distribuzione.</span><span class="sxs-lookup"><span data-stu-id="025bd-130">It may take a short amount of time (30 to 60 seconds) for the commands to run and to receive the status back from the computers in your deployment.</span></span> 
  
     ![Esecuzione di Start-CsClsLogging.](../../media/Ops_CLS_Show_and_Start_ClsLogging.jpg)
  
4. <span data-ttu-id="025bd-132">Per avviare un altro scenario, usare il cmdlet **Start-CsClsLogging** con il nome dello scenario aggiuntivo da eseguire come indicato di seguito, ad esempio l' **autenticazione**dello scenario:</span><span class="sxs-lookup"><span data-stu-id="025bd-132">To start another scenario, use the **Start-CsClsLogging** cmdlet with the name of the additional scenario to run as follows (for example, the scenario **Authentication**):</span></span>
    
   ```PowerShell
   Start-CsClsLogging -Scenario Authentication
   ```

    > [!IMPORTANT]
    > <span data-ttu-id="025bd-133">È possibile avere un totale di due scenari in esecuzione in qualsiasi computer specifico in qualsiasi momento.</span><span class="sxs-lookup"><span data-stu-id="025bd-133">You can have a total of two scenarios running on any given computer at any time.</span></span> <span data-ttu-id="025bd-134">Se il comando è globale nell'ambito, tutti i computer della distribuzione eseguiranno lo scenario o gli scenari.</span><span class="sxs-lookup"><span data-stu-id="025bd-134">If the command is global in scope, all of the computers in your deployment will run the scenario or scenarios.</span></span> <span data-ttu-id="025bd-135">Per avviare un terzo scenario, è necessario interrompere la registrazione nel computer, nel pool, nel sito o nell'ambito globale in cui si vuole eseguire il nuovo scenario.</span><span class="sxs-lookup"><span data-stu-id="025bd-135">To start a third scenario, you must stop logging on the computer, pool, site, or global scope that you want to run the new scenario on.</span></span> <span data-ttu-id="025bd-136">Se è stato avviato un ambito globale, è possibile interrompere la registrazione per uno o entrambi gli scenari in uno o più computer e pool.</span><span class="sxs-lookup"><span data-stu-id="025bd-136">If you have started a global scope, you can stop logging for one or both of the scenarios on one or more computers and pools.</span></span> 
  
### <a name="to-run-start-csclslogging-with-windows-powershell-using-advanced-commands"></a><span data-ttu-id="025bd-137">Per eseguire Start-CsClsLogging con Windows PowerShell tramite comandi avanzati</span><span class="sxs-lookup"><span data-stu-id="025bd-137">To run Start-CsClsLogging with Windows PowerShell using advanced commands</span></span>

1. <span data-ttu-id="025bd-138">Avviare Skype for Business Server Management Shell: fare clic sul pulsante **Start**, scegliere **tutti i programmi**, fare clic su **Skype for business 2015**e quindi fare clic su **Skype for Business Server Management Shell**.</span><span class="sxs-lookup"><span data-stu-id="025bd-138">Start the Skype for Business Server Management Shell: Click **Start**, click **All Programs**, click **Skype for Business 2015**, and then click **Skype for Business Server Management Shell**.</span></span>
    
2. <span data-ttu-id="025bd-139">Sono disponibili parametri aggiuntivi per gestire i comandi di registrazione.</span><span class="sxs-lookup"><span data-stu-id="025bd-139">Additional parameters are available to manage the logging commands.</span></span> <span data-ttu-id="025bd-140">È possibile usare la durata per regolare il periodo di tempo per l'esecuzione dello scenario.</span><span class="sxs-lookup"><span data-stu-id="025bd-140">You can use -Duration to adjust the length of time for the scenario to run.</span></span> <span data-ttu-id="025bd-141">È anche possibile definire-computer, un elenco di nomi di dominio completi di computer (FQDN) separati da una virgola o da-pools, un elenco delimitato da virgole di FQDN per i pool di cui si vuole eseguire l'accesso.</span><span class="sxs-lookup"><span data-stu-id="025bd-141">You also can define -Computers, a list of computer fully qualified domain names (FQDNs) separated by a comma, or -Pools, a comma separated list of FQDNs for pools that you want to run logging on.</span></span>
    
    <span data-ttu-id="025bd-142">Si avvia una sessione di registrazione per lo scenario UserReplicator nel pool "pool01.contoso.net".</span><span class="sxs-lookup"><span data-stu-id="025bd-142">You start a logging session for the UserReplicator scenario on the pool "pool01.contoso.net".</span></span> <span data-ttu-id="025bd-143">Puoi anche definire la durata della sessione di registrazione a 8 ore.</span><span class="sxs-lookup"><span data-stu-id="025bd-143">You also define the duration of the logging session at 8 hours.</span></span> <span data-ttu-id="025bd-144">A tale scopo, digitare:</span><span class="sxs-lookup"><span data-stu-id="025bd-144">To do this, type:</span></span>
    
   ```PowerShell
   Start-CsClsLogging -Scenario UserReplicator -Duration 8:00 -Pools "pool01.contoso.net"
   ```

    <span data-ttu-id="025bd-145">L'esecuzione corretta di questo scenario restituisce un risultato simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="025bd-145">The successful execution of this scenario returns a result like the following:</span></span>
    
     ![Esecuzione di Start-CsClsLogging.](../../media/Ops_CsClsLogging_UserReplicator_Exp.jpg)
  
<span data-ttu-id="025bd-147">Tieni presente che in questo esempio viene eseguito lo scenario AlwaysOn e lo scenario UserReplicator è in corso.</span><span class="sxs-lookup"><span data-stu-id="025bd-147">Note that in this example, the AlwaysOn scenario is running and the UserReplicator scenario is running.</span></span> 
    
## <a name="stop-the-centralized-logging-service-log-capture"></a><span data-ttu-id="025bd-148">Arrestare l'acquisizione del log del servizio di registrazione centralizzata</span><span class="sxs-lookup"><span data-stu-id="025bd-148">Stop the Centralized Logging Service log capture</span></span>
<span data-ttu-id="025bd-149"><a name="stop"> </a></span><span class="sxs-lookup"><span data-stu-id="025bd-149"></span></span>

<span data-ttu-id="025bd-150">È possibile interrompere una sessione di registrazione corrente con il cmdlet Stop-CsClsLogging.</span><span class="sxs-lookup"><span data-stu-id="025bd-150">You can stop a currently running logging session with the Stop-CsClsLogging cmdlet.</span></span> <span data-ttu-id="025bd-151">In genere, non ci sono molte situazioni in cui è necessario interrompere una sessione di registrazione.</span><span class="sxs-lookup"><span data-stu-id="025bd-151">Generally, there aren't many situations in which you would need to stop a logging session.</span></span> <span data-ttu-id="025bd-152">Ad esempio, è possibile cercare registri e modificare le configurazioni senza prima di tutto necessario interrompere la registrazione.</span><span class="sxs-lookup"><span data-stu-id="025bd-152">For example, you can search logs and change configurations without first needing to stop logging.</span></span> <span data-ttu-id="025bd-153">Se sono in uso due scenari, ad esempio AlwaysOn e UserReplicator, ed è necessario raccogliere informazioni correlate all'autenticazione, è necessario interrompere uno degli altri scenari (in un ambito globale, di un sito, di un pool o un computer) prima di iniziare a eseguire Scenario di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="025bd-153">If you have two scenarios running, for example AlwaysOn and UserReplicator, and you need to collect information related to Authentication, you will need to stop one of the other scenarios (at a global, site, pool or computer scope) before you can start running to Authentication scenario.</span></span> <span data-ttu-id="025bd-154">Per informazioni dettagliate, vedere [Stop-CsClsLogging](https://docs.microsoft.com/powershell/module/skype/stop-csclslogging?view=skype-ps).</span><span class="sxs-lookup"><span data-stu-id="025bd-154">For details, see [Stop-CsClsLogging](https://docs.microsoft.com/powershell/module/skype/stop-csclslogging?view=skype-ps).</span></span>
  
> [!NOTE]
> <span data-ttu-id="025bd-155">Per determinare gli scenari che è possibile eseguire in una distribuzione, un pool o un computer specifico, è necessario tenere presente che si è limitati a eseguire due scenari **per computer**: AlwaysOn e uno scenario personalizzato.</span><span class="sxs-lookup"><span data-stu-id="025bd-155">When determining what scenarios you can run on a given deployment, pool or computer, you need to remember that you are limited to running two scenarios **per computer**: AlwaysOn and one custom scenario.</span></span> <span data-ttu-id="025bd-156">Se si esegue la registrazione di attività in un pool, è consigliabile trattare un pool come singola entità.</span><span class="sxs-lookup"><span data-stu-id="025bd-156">If you are logging activity on a pool, you should treat a pool as a single entity.</span></span> <span data-ttu-id="025bd-157">Nella maggior parte dei casi, non avrebbe senso eseguire scenari diversi in ogni computer in un pool.</span><span class="sxs-lookup"><span data-stu-id="025bd-157">In most cases, it would not make sense to run different scenarios on each computer in a pool.</span></span> <span data-ttu-id="025bd-158">È consigliabile esaminare il problema di cui si stanno raccogliendo i dati e pensare allo scenario più appropriato in un dato computer nella distribuzione complessiva.</span><span class="sxs-lookup"><span data-stu-id="025bd-158">It does make sense to look at the problem that you are collecting data about and think about what scenario makes the most sense on a given computer in the overall deployment.</span></span> <span data-ttu-id="025bd-159">Se, ad esempio, consideriamo lo scenario UserReplicator, il valore dell'uso di UserReplicator in un server perimetrale o in un pool di Edge sarà molto scarso.</span><span class="sxs-lookup"><span data-stu-id="025bd-159">For example, if you consider the UserReplicator scenario, there would be very little value in running UserReplicator on an Edge Server or Edge pool.</span></span> 
  
<span data-ttu-id="025bd-160">Dopo aver compreso il problema e l'ambito dell'impatto, è consigliabile scegliere quali scenari eseguire in quali computer e pool.</span><span class="sxs-lookup"><span data-stu-id="025bd-160">After you understand the problem and the scope of the impact, you should make careful choices about what scenarios to run on which computers and pools.</span></span> <span data-ttu-id="025bd-161">Anche se lo scenario AlwaysOn ha un significato per un'applicazione di ambito esteso, poiché raccoglie informazioni su un'ampia gamma di provider, gli scenari specifici hanno solo valore dell'applicazione in computer o pool specifici.</span><span class="sxs-lookup"><span data-stu-id="025bd-161">While the AlwaysOn scenario makes sense for a wide scope application because it collects information on a wide variety of providers, specific scenarios only have application value on specific computers or pools.</span></span> <span data-ttu-id="025bd-162">È inoltre necessario prestare attenzione quando si avvia una sessione di registrazione in modo casuale senza prima capire il valore di uno scenario specifico.</span><span class="sxs-lookup"><span data-stu-id="025bd-162">Also, you should take caution when randomly starting up a logging session without first understanding the value of a given scenario.</span></span> <span data-ttu-id="025bd-163">Se si usa lo scenario errato oppure se si usa uno scenario appropriato per l'attività e si applica lo scenario nell'ambito errato (globale, sito, pool o computer), è possibile ottenere dati discutibili che non sono molto utili, come se non fosse stato eseguito affatto lo scenario.</span><span class="sxs-lookup"><span data-stu-id="025bd-163">If you use the wrong scenario, or if you use a scenario that is appropriate for the task and you apply the scenario at the wrong scope (be it global, site, pool, or computer), you can get questionable data that is not very useful—as if you didn't run the scenario at all.</span></span>
  
<span data-ttu-id="025bd-164">Per controllare le funzioni del servizio di registrazione centralizzato usando Skype for Business Server Management Shell, è necessario essere membri dei gruppi di sicurezza CsAdministrator o CsServerAdministrator (RBAC) o di un ruolo RBAC personalizzato che contiene uno di questi due gruppi.</span><span class="sxs-lookup"><span data-stu-id="025bd-164">To control the Centralized Logging Service functions by using the Skype for Business Server Management Shell, you must be a member of either the CsAdministrator or the CsServerAdministrator role-based access control (RBAC) security groups, or a custom RBAC role that contains either of these two groups.</span></span> <span data-ttu-id="025bd-165">Per restituire un elenco di tutti i ruoli RBAC a cui è stato assegnato questo cmdlet (inclusi eventuali ruoli RBAC personalizzati creati manualmente), eseguire il comando seguente da Skype for Business Server Management Shell o dal prompt di Windows PowerShell:</span><span class="sxs-lookup"><span data-stu-id="025bd-165">To return a list of all the RBAC roles this cmdlet has been assigned to (including any custom RBAC roles you have created yourself), run the following command from the Skype for Business Server Management Shell or the Windows PowerShell prompt:</span></span>
  
```PowerShell
Get-CsAdminRole | Where-Object {$_.Cmdlets -match "Skype for Business Server 2015 cmdlet"}
```

<span data-ttu-id="025bd-166">Ad esempio:</span><span class="sxs-lookup"><span data-stu-id="025bd-166">For example:</span></span>
  
```PowerShell
Get-CsAdminRole | Where-Object {$_.Cmdlets -match "Set-CsClsConfiguration"}
```

> [!NOTE]
> <span data-ttu-id="025bd-167">Quindi potresti chiederti: ora che hai abilitato la registrazione, dove sono conservati i log?</span><span class="sxs-lookup"><span data-stu-id="025bd-167">So you may be wondering: Now that you've enabled logging, where are the logs kept?</span></span> <span data-ttu-id="025bd-168">Dato che si accede alle informazioni archiviate nei registri tramite le query di Management Shell inviate agli agenti CLS ed è possibile eseguire l'output dei risultati in diversi formati di file, in cui in ogni server un agente CLS mantiene i propri record non è effettivamente importante saperlo.</span><span class="sxs-lookup"><span data-stu-id="025bd-168">Since you'll access the information stored in the logs using management shell queries sent to the CLS Agents, and you can output the results to several possible file formats, where on each server a CLS Agent keeps its records isn't actually important to know.</span></span>  <span data-ttu-id="025bd-169">I file di log possono essere salvati in una posizione specificata e letta e analizzata usando una varietà di strumenti, tra cui **Snooper. exe** e qualsiasi strumento in grado di leggere un file di testo, ad esempio **notepad. exe**.</span><span class="sxs-lookup"><span data-stu-id="025bd-169">The log files can be saved to a location you specify and  read and analyzed using a variety of tools, including **Snooper.exe** and any tool that can read a text file, such as **Notepad.exe**.</span></span> <span data-ttu-id="025bd-170">Snooper. exe fa parte degli strumenti di debug di Skype for Business Server 2015 ed è disponibile come [download Web](https://go.microsoft.com/fwlink/p/?LinkId=285257).</span><span class="sxs-lookup"><span data-stu-id="025bd-170">Snooper.exe is part of the Skype for Business Server 2015 Debug Tools and is available as a [Web download](https://go.microsoft.com/fwlink/p/?LinkId=285257).</span></span>

### <a name="to-stop-a-currently-running-centralized-logging-service-session"></a><span data-ttu-id="025bd-171">Per interrompere una sessione di servizio di registrazione centralizzata attualmente in uso</span><span class="sxs-lookup"><span data-stu-id="025bd-171">To stop a currently running Centralized Logging Service session</span></span>

1. <span data-ttu-id="025bd-172">Avviare Skype for Business Server Management Shell: fare clic sul pulsante **Start**, scegliere **tutti i programmi**, fare clic su **Skype for business 2015**e quindi fare clic su **Skype for Business Server Management Shell**.</span><span class="sxs-lookup"><span data-stu-id="025bd-172">Start the Skype for Business Server Management Shell: Click **Start**, click **All Programs**, click **Skype for Business 2015**, and then click **Skype for Business Server Management Shell**.</span></span>
    
2. <span data-ttu-id="025bd-173">Eseguire una query sul servizio di registrazione centralizzata per individuare gli scenari in esecuzione digitando quanto segue:</span><span class="sxs-lookup"><span data-stu-id="025bd-173">Query the Centralized Logging Service to find out what scenarios are currently running by typing the following:</span></span>
    
   ```PowerShell
   Show-CsClsLogging
   ```

   ![Console di Windows PowerShell dopo la chiamata a Show-CsCl](../../media/Ops_Show_Stop_CsClsLogging.jpg)
  
   <span data-ttu-id="025bd-175">Il risultato di Show-CsClsLogging è un riepilogo degli scenari in uso e l'ambito in cui sono in uso.</span><span class="sxs-lookup"><span data-stu-id="025bd-175">The result of Show-CsClsLogging is a summary of the scenarios that are running and what scope they are running in.</span></span> <span data-ttu-id="025bd-176">Per informazioni dettagliate, vedere [Mostra-CsClsLogging](https://docs.microsoft.com/powershell/module/skype/show-csclslogging?view=skype-ps).</span><span class="sxs-lookup"><span data-stu-id="025bd-176">For details, see [Show-CsClsLogging](https://docs.microsoft.com/powershell/module/skype/show-csclslogging?view=skype-ps).</span></span>
    
3. <span data-ttu-id="025bd-177">Per interrompere una sessione di registrazione attualmente in uso con uno scenario specifico, digitare:</span><span class="sxs-lookup"><span data-stu-id="025bd-177">To stop a currently running logging session with a specific scenario, type:</span></span>
    
   ```PowerShell
   Stop-CsClsLogging -Scenario <scenario name> -Computers <comma separated list of fully qualified computer names> -Pools <comma separated list of fully qualified pool names>
   ```
   <span data-ttu-id="025bd-178">Ad esempio:</span><span class="sxs-lookup"><span data-stu-id="025bd-178">For example:</span></span>
    
   ```PowerShell
   Stop-CsClsLogging -Scenario UserReplicator -Pools pool01.contoso.net
   ```

   <span data-ttu-id="025bd-179">Questo comando interrompe la registrazione con lo scenario UserReplicatior in pool01.contoso.net.</span><span class="sxs-lookup"><span data-stu-id="025bd-179">This command will stop logging with the UserReplicatior scenario on pool01.contoso.net.</span></span>
    
    > [!NOTE]
    > <span data-ttu-id="025bd-180">I log creati durante questa sessione di registrazione usando lo scenario UserReplicator non vengono eliminati.</span><span class="sxs-lookup"><span data-stu-id="025bd-180">Logs created during this logging session using the UserReplicator scenario are not deleted.</span></span> <span data-ttu-id="025bd-181">La registrazione è ancora disponibile per l'esecuzione delle ricerche sull'uso del comando Cerca-CsClsLogging.</span><span class="sxs-lookup"><span data-stu-id="025bd-181">The logging is still available for you to execute searches against using the Search-CsClsLogging command.</span></span> <span data-ttu-id="025bd-182">Per informazioni dettagliate, vedere [Ricerca-CsClsLogging](https://docs.microsoft.com/powershell/module/skype/search-csclslogging?view=skype-ps).</span><span class="sxs-lookup"><span data-stu-id="025bd-182">For details, see [Search-CsClsLogging](https://docs.microsoft.com/powershell/module/skype/search-csclslogging?view=skype-ps).</span></span> 
  
<span data-ttu-id="025bd-183">Agendo come comando complementare per Start-CsClsLogging, il cmdlet Stop-CsClsLogging termina la sessione di registrazione, definita da scenari, e mantiene i registri creati dalla sessione di registrazione.</span><span class="sxs-lookup"><span data-stu-id="025bd-183">Acting as the companion command to Start-CsClsLogging, the Stop-CsClsLogging cmdlet ends the logging session, defined by scenarios, and retains the logs created by the logging session.</span></span> <span data-ttu-id="025bd-184">È possibile eseguire due scenari in un computer specifico in qualsiasi momento.</span><span class="sxs-lookup"><span data-stu-id="025bd-184">You can run two scenarios on a given computer at any time.</span></span> <span data-ttu-id="025bd-185">Il metodo di interruzione di uno scenario per raccogliere informazioni con un altro scenario è un'attività comune che è possibile eseguire durante la maggior parte dei problemi di lavoro.</span><span class="sxs-lookup"><span data-stu-id="025bd-185">The method of stopping one scenario to gather information using another scenario is a common task that you can perform during most workload troubleshooting.</span></span>
## <a name="see-also"></a><span data-ttu-id="025bd-186">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="025bd-186">See also</span></span>
<span data-ttu-id="025bd-187"><a name="stop"> </a></span><span class="sxs-lookup"><span data-stu-id="025bd-187"></span></span>

[<span data-ttu-id="025bd-188">Servizio di registrazione centralizzato in Skype for Business 2015</span><span class="sxs-lookup"><span data-stu-id="025bd-188">Centralized Logging Service in Skype for Business 2015</span></span>](centralized-logging-service.md)
