---
title: Pianificare il monitoraggio in Skype for Business Server
ms.reviewer: ''
ms.author: v-cichur
author: cichur
manager: serdars
audience: ITPro
ms.topic: conceptual
ms.prod: skype-for-business-itpro
f1.keywords:
- NOCSH
localization_priority: Normal
ms.assetid: 5d5eb658-7fe0-42e6-acaf-700051d0a823
description: 'Riepilogo: esaminare questo argomento durante la pianificazione del servizio di monitoraggio in Skype for Business Server.'
ms.openlocfilehash: b2f269d3e4cc62ca08ee423858e13d12b23bddd1
ms.sourcegitcommit: c528fad9db719f3fa96dc3fa99332a349cd9d317
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/12/2021
ms.locfileid: "49825626"
---
# <a name="plan-for-monitoring-in-skype-for-business-server"></a><span data-ttu-id="b071f-103">Pianificare il monitoraggio in Skype for Business Server</span><span class="sxs-lookup"><span data-stu-id="b071f-103">Plan for monitoring in Skype for Business Server</span></span>

<span data-ttu-id="b071f-104">**Riepilogo:** Leggere questo argomento durante la pianificazione del servizio di monitoraggio in Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="b071f-104">**Summary:** Review this topic while planning for the monitoring service in Skype for Business Server.</span></span>

<span data-ttu-id="b071f-105">Il servizio di monitoraggio in Skype for Business Server consente agli amministratori di raccogliere dati di utilizzo e qualità per le sessioni di comunicazione che si svolgono nell'organizzazione, che consente loro di identificare tendenze e problemi.</span><span class="sxs-lookup"><span data-stu-id="b071f-105">The monitoring service in Skype for Business Server provides a way for administrators to collect usage and quality data for the communication sessions that take place in their organization, which allows them to identify trends and problems.</span></span> <span data-ttu-id="b071f-106">Il monitoraggio continuo della distribuzione consente di rilevare i problemi in anticipo e di mantenere soddisfatti gli utenti dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="b071f-106">Ongoing monitoring of your deployment allows you to catch problems early and keep your organization's users satisfied.</span></span>

<span data-ttu-id="b071f-107">Il monitoraggio in Skype for Business Server non richiede un ruolo del server separato (come nelle versioni precedenti di Lync); il servizio di monitoraggio è invece incorporato in ogni Front End Server.</span><span class="sxs-lookup"><span data-stu-id="b071f-107">Monitoring in Skype for Business Server does not require a separate server role (as was the case in earlier Lync versions); instead, the monitoring service is built into each Front End server.</span></span> <span data-ttu-id="b071f-108">Il monitoraggio non è abilitato per impostazione predefinita in Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="b071f-108">Monitoring is not enabled by default in Skype for Business Server.</span></span> <span data-ttu-id="b071f-109">Questo articolo consente di determinare se abilitare il monitoraggio durante o dopo la configurazione iniziale di Skype for Business Server e quali risorse SQL saranno necessarie per supportare le attività di monitoraggio.</span><span class="sxs-lookup"><span data-stu-id="b071f-109">This article will help you determine whether to enable Monitoring during or after your initial Skype for Business Server configuration, and what SQL resources you'll need to support Monitoring activities.</span></span> <span data-ttu-id="b071f-110">Se non si è sicuri di cosa sia o non sia monitorato e di come il monitoraggio possa essere utile, vedere [Nozioni di base sul monitoraggio.](monitoring.md#Basics)</span><span class="sxs-lookup"><span data-stu-id="b071f-110">If you're not sure exactly what is or is not monitored and how monitoring can be helpful, go to [Basics about Monitoring](monitoring.md#Basics).</span></span> <span data-ttu-id="b071f-111">Per iniziare il processo di pianificazione, passare [a Definire i requisiti per il monitoraggio.](monitoring.md#requirements)</span><span class="sxs-lookup"><span data-stu-id="b071f-111">To begin your planning process, go to [Define your requirements for monitoring](monitoring.md#requirements).</span></span> <span data-ttu-id="b071f-112">Per ulteriori dettagli sui requisiti SQL per il monitoraggio, vedere SQL [requisiti per il monitoraggio.](monitoring.md#topologies)</span><span class="sxs-lookup"><span data-stu-id="b071f-112">For more details on the SQL requirements for monitoring, go to [SQL requirements for monitoring](monitoring.md#topologies).</span></span>

## <a name="basics-about-monitoring"></a><span data-ttu-id="b071f-113">Nozioni di base sul monitoraggio</span><span class="sxs-lookup"><span data-stu-id="b071f-113">Basics about Monitoring</span></span>
<span data-ttu-id="b071f-114"><a name="Basics"> </a></span><span class="sxs-lookup"><span data-stu-id="b071f-114"><a name="Basics"> </a></span></span>

<span data-ttu-id="b071f-115">Una sessione è un termine generico per la connessione di un utente a:</span><span class="sxs-lookup"><span data-stu-id="b071f-115">A session is a generic term for a user's connection to a:</span></span>

- <span data-ttu-id="b071f-116">Conferenza</span><span class="sxs-lookup"><span data-stu-id="b071f-116">Conference</span></span>

- <span data-ttu-id="b071f-117">Strumento di conferenza come Audio/Video o Condivisione applicazioni</span><span class="sxs-lookup"><span data-stu-id="b071f-117">Conferencing tool such as Audio/Video or Application Sharing</span></span>

- <span data-ttu-id="b071f-118">Un altro utente tramite una conversazione peer-to-peer come la messaggistica istantanea o una chiamata audio</span><span class="sxs-lookup"><span data-stu-id="b071f-118">Another user via a peer-to-peer conversation such as instant messaging or an audio call</span></span>

> [!NOTE]
> <span data-ttu-id="b071f-119">Skype for Business Server tiene traccia delle informazioni su ogni sessione: chi ha chiamato; quali endpoint sono stati usati nella sessione; per quanto tempo è durata la sessione; qual era la qualità percepita della sessione; E così via.</span><span class="sxs-lookup"><span data-stu-id="b071f-119">Skype for Business Server keeps track of information about each session: who called who; which endpoints were used in the session; how long did the session last; what was the perceived quality of the session; and so on.</span></span> <span data-ttu-id="b071f-120">Skype for Business Server non registra e archivia la chiamata effettiva.</span><span class="sxs-lookup"><span data-stu-id="b071f-120">Skype for Business Server does not record and store the actual call itself.</span></span> <span data-ttu-id="b071f-121">Sono incluse le sessioni di messaggistica istantanea: anche se Skype for Business Server registra informazioni sulle sessioni di messaggistica istantanea, non mantiene un record di ogni messaggio istantaneo inviato durante la sessione.</span><span class="sxs-lookup"><span data-stu-id="b071f-121">That includes instant messaging sessions: although Skype for Business Server records information about instant messaging sessions, it does not maintain a record of each instant message that was sent during the session.</span></span>

<span data-ttu-id="b071f-122">Le informazioni dettagliate sulle chiamate di base raccolte da Skype for Business Server per ogni sessione possono essere utilizzate per:</span><span class="sxs-lookup"><span data-stu-id="b071f-122">The basic call detail information collected by Skype for Business Server for each session can be used for:</span></span>

- <span data-ttu-id="b071f-123">**Analisi del rendimento dell'investimento (ROI, Return on Investment).**</span><span class="sxs-lookup"><span data-stu-id="b071f-123">**Return on Investment (ROI)** analysis.</span></span> <span data-ttu-id="b071f-124">Gli amministratori possono confrontare i dati di utilizzo con dati simili raccolti per il sistema di telefonia precedente per mostrare risparmi sui costi e giustificare la distribuzione di Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="b071f-124">Administrators can compare the usage data to similar data collected for their previous telephony system in order to show cost savings and help justify the deployment of Skype for Business Server.</span></span>

- <span data-ttu-id="b071f-125">**Gestione dell'inventario dei dispositivi**.</span><span class="sxs-lookup"><span data-stu-id="b071f-125">**Device Inventory Management**.</span></span> <span data-ttu-id="b071f-126">Le informazioni sulla gestione delle risorse consentono agli amministratori di identificare i vecchi dispositivi ancora in uso che devono essere sostituiti e di identificare i dispositivi costosi inutilizzati o non utilizzati.</span><span class="sxs-lookup"><span data-stu-id="b071f-126">Asset management information helps administrators identify old devices still in use that need to be replaced, and identify expensive devices that are unused or under-used.</span></span>

- <span data-ttu-id="b071f-127">**Help Desk.**</span><span class="sxs-lookup"><span data-stu-id="b071f-127">**Help Desk**.</span></span> <span data-ttu-id="b071f-128">I dati relativi alla risoluzione dei problemi consentono ai tecnici del supporto tecnico di determinare il motivo per cui la chiamata di un utente non è riuscita, senza dover raccogliere log lato server o client.</span><span class="sxs-lookup"><span data-stu-id="b071f-128">Troubleshooting data helps support engineers determine why a user's call failed, without having to collect server or client side logs.</span></span> <span data-ttu-id="b071f-129">Queste informazioni possono essere facilmente accessibili e comprese dal personale di supporto che non ha una conoscenza approfondita tecnica del client Skype for Business e di Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="b071f-129">This information can be readily accessed and understood by support personnel who do not have a deep technical knowledge of the Skype for Business client and Skype for Business Server.</span></span>

- <span data-ttu-id="b071f-p107">**Risoluzione dei problemi di sistema**. Gli amministratori hanno la possibilità di rilevare i principali problemi che possono impedire agli utenti finali di eseguire attività di base come partecipare a una conferenza, eseguire una chiamata o inviare un messaggio istantaneo.</span><span class="sxs-lookup"><span data-stu-id="b071f-p107">**System Troubleshooting**. Enables administrators to detect major issues that might prevent end users from performing basic tasks like joining a conference, establishing a call, or sending an instant message.</span></span>

<span data-ttu-id="b071f-132">Il monitoraggio fornisce anche un meccanismo che consente agli endpoint SIP (come Skype for Business) di fornire informazioni sulla risoluzione dei problemi a cui l'amministratore non avrebbe altrimenti accesso:</span><span class="sxs-lookup"><span data-stu-id="b071f-132">Monitoring also provides a mechanism that allows SIP endpoints (such as Skype for Business) to provide troubleshooting information that the administrator would not otherwise have access to:</span></span>

- <span data-ttu-id="b071f-133">**Metriche che influiscono sulla qualità**.</span><span class="sxs-lookup"><span data-stu-id="b071f-133">**Media Metrics that Impact Quality**.</span></span> <span data-ttu-id="b071f-134">Queste metriche trattano la trasmissione effettiva della chiamata stessa; forniscono una sorta di viaggio mentre la chiamata attraversa la rete.</span><span class="sxs-lookup"><span data-stu-id="b071f-134">These metrics deal with the actual transmission of the call itself; they provide a sort of travelogue as the call journeys across the network.</span></span> <span data-ttu-id="b071f-135">Queste metriche (che includono elementi come perdita di pacchetti, instabilità e tempi di andata e ritorno) forniscono informazioni su cosa è successo alla chiamata dal momento in cui ha lasciato l'endpoint di una persona al momento in cui è arrivato all'endpoint dell'altra persona.</span><span class="sxs-lookup"><span data-stu-id="b071f-135">These metrics (which include such things as packet loss, jitter, and round trip times) provide information on what happened to the call from the time it left one person's endpoint to the time it arrived at the other person's endpoint.</span></span>

- <span data-ttu-id="b071f-136">**Problemi segnalati all'utente finale**.</span><span class="sxs-lookup"><span data-stu-id="b071f-136">**Issues Reported to the End User**.</span></span> <span data-ttu-id="b071f-137">Queste metriche includono notifiche di scarsa qualità che Skype for Business presenta agli utenti finali nei casi in cui sono troppo lontani da un microfono, parlano troppo piano, hanno una connessione di rete scadente o stanno riscontrando una qualità scarsa perché un altro programma sul computer sta consumando le risorse disponibili.</span><span class="sxs-lookup"><span data-stu-id="b071f-137">These metrics include poor quality notifications that Skype for Business presents to end users in cases where they are too far from a microphone, speaking too softly, have a poor network connection, or are experiencing poor quality because another program on the computer is consuming the available resources.</span></span>

- <span data-ttu-id="b071f-p110">**Informazioni sull'ambiente**. Queste metriche offrono dati dettagliati su aspetti che influiscono sulla qualità delle chiamate, come il tipo di microfono e altoparlanti in uso, se l'utente è connesso tramite VPN e se l'utente sta utilizzando una connessione wireless.</span><span class="sxs-lookup"><span data-stu-id="b071f-p110">**Environment Information**. These metrics detail call quality factors such as the type of microphone and speakers being used, whether the user is connected through a VPN connection, and whether the user is on a wireless connection.</span></span>

<span data-ttu-id="b071f-140">Al termine di ogni chiamata, gli endpoint conformi a SIP trasmettono queste informazioni al Front End Server che ha facilitato la chiamata.</span><span class="sxs-lookup"><span data-stu-id="b071f-140">At the end of each call, SIP-compliant endpoints transmit this information to the Front End server that facilitated the call.</span></span> <span data-ttu-id="b071f-141">Non è necessario eseguire alcuna operazione per fare in modo che gli endpoint trasmettano tali informazioni, perché questo comportamento è incorporato nel protocollo SIP.</span><span class="sxs-lookup"><span data-stu-id="b071f-141">You don't have to do anything to get endpoints to transmit that information; that behavior is built into the SIP protocol.</span></span> <span data-ttu-id="b071f-142">Se si desidera raccogliere e archiviare tali informazioni, tuttavia, è necessario installare e abilitare il monitoraggio.</span><span class="sxs-lookup"><span data-stu-id="b071f-142">However, if you want to collect and store that information, then you need to install and enable monitoring.</span></span> <span data-ttu-id="b071f-143">In questo modo, le informazioni sulle chiamate vengono raccolte dagli agenti in esecuzione nel Front End Server e inoltrate a una coppia di database di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b071f-143">If you do install and enable monitoring, then call information is gathered by agents running on the Front End server and relayed to a pair of SQL Server databases.</span></span> <span data-ttu-id="b071f-144">Il servizio di monitoraggio (sotto forma di "agenti di raccolta dati unificati") è collocato in tutti i Front End Server.</span><span class="sxs-lookup"><span data-stu-id="b071f-144">The monitoring service (in the form of "unified data collection agents") is collocated into all Front End servers.</span></span>

## <a name="define-your-requirements-for-monitoring"></a><span data-ttu-id="b071f-145">Definire i requisiti per il monitoraggio</span><span class="sxs-lookup"><span data-stu-id="b071f-145">Define your requirements for monitoring</span></span>
<span data-ttu-id="b071f-146"><a name="requirements"> </a></span><span class="sxs-lookup"><span data-stu-id="b071f-146"><a name="requirements"> </a></span></span>

<span data-ttu-id="b071f-147">Esistono ancora diversi problemi chiave che devono essere risolti prima di iniziare a installare e configurare il monitoraggio con Skype for Business Server:</span><span class="sxs-lookup"><span data-stu-id="b071f-147">There are still several key issues that should be addressed before you begin to install and configure monitoring with Skype for Business Server:</span></span>

 <span data-ttu-id="b071f-148">**Quando si desidera installare il monitoraggio?**</span><span class="sxs-lookup"><span data-stu-id="b071f-148">**When do you want to install monitoring?**</span></span> <span data-ttu-id="b071f-149">Il monitoraggio può essere installato e configurato contemporaneamente all'installazione e alla configurazione di Skype for Business Server; La Distribuzione guidata di Skype for Business Server offre l'opportunità di associare i pool Front End a un database di monitoraggio durante l'installazione.</span><span class="sxs-lookup"><span data-stu-id="b071f-149">Monitoring can be installed and configured at the same time you install and configured Skype for Business Server; the Skype for Business Server Deployment Wizard will provide you with the opportunity to associate your Front End pools with a monitoring database during setup.</span></span> <span data-ttu-id="b071f-150">In alternativa, è possibile installare il monitoraggio dopo l'installazione di Skype for Business Server stesso; A tale scopo, è possibile utilizzare Generatore di topologie per associare i pool e i server Front End a un database di monitoraggio e quindi pubblicare la topologia modificata.</span><span class="sxs-lookup"><span data-stu-id="b071f-150">Alternatively, you can install monitoring after Skype for Business Server itself has been installed; this can be done by using Topology Builder to associate your Front End pools and servers with a monitoring database, and then publishing the revised topology.</span></span>

<span data-ttu-id="b071f-151">Tenere presente che è SQL Server essere installato e configurato prima di distribuire e configurare il monitoraggio.</span><span class="sxs-lookup"><span data-stu-id="b071f-151">Keep in mind that SQL Server must be installed and configured before you deploy and configure monitoring.</span></span> <span data-ttu-id="b071f-152">Tuttavia, è necessario distribuire solo SQL Server se stesso; i database di monitoraggio verranno creati automaticamente quando si pubblica la topologia di Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="b071f-152">However, you only need to deploy SQL Server itself; the monitoring databases will be created for you when you publish your Skype for Business Server topology.</span></span>

 <span data-ttu-id="b071f-153">**Che tipo di dati si desidera monitorare?**</span><span class="sxs-lookup"><span data-stu-id="b071f-153">**What type of data do you want to monitor?**</span></span> <span data-ttu-id="b071f-154">Skype for Business Server consente di monitorare due tipi generali di dati: i dati di registrazione dettagli chiamata (CDR) e i dati QoE (Quality of Experience).</span><span class="sxs-lookup"><span data-stu-id="b071f-154">Skype for Business Server enables you to monitor two general types of data: call detailing recording (CDR) data and Quality of Experience (QoE) data.</span></span> <span data-ttu-id="b071f-155">La registrazione dettagli chiamata consente di tenere traccia dell'utilizzo delle funzionalità di Skype for Business Server, ad esempio le chiamate telefoniche VoIP( Voice over IP). messaggistica istantanea; trasferimenti di file; audio/video (A/V) conferencing; e le sessioni di condivisione applicazioni.</span><span class="sxs-lookup"><span data-stu-id="b071f-155">Call detail recording provides a way for you to track the usage of Skype for Business Server features such as Voice over IP (VoIP) phone calls; instant messaging (IM); file transfers; audio/video (A/V) conferencing; and application sharing sessions.</span></span> <span data-ttu-id="b071f-156">Queste informazioni consentono di sapere quali funzionalità di Skype for Business Server sono in uso (e quali non lo sono) e forniscono anche informazioni su quando queste funzionalità vengono utilizzate.</span><span class="sxs-lookup"><span data-stu-id="b071f-156">This information helps you know which Skype for Business Server features are being used (and which ones are not) and also provides information as to when these features are being used.</span></span> <span data-ttu-id="b071f-157">I dati sulla qualità dell'esperienza consentono di registrare la qualità delle chiamate audio e video effettuate nell'organizzazione, ad esempio il numero di pacchetti di rete persi, i rumori di fondo e la quantità di "instabilità" (differenze nel ritardo dei pacchetti).</span><span class="sxs-lookup"><span data-stu-id="b071f-157">Quality of Experience data allows you to maintain a record of the quality of audio and video calls made in your organization, including such things as the number of network packets lost, background noise, and the amount of "jitter" (differences in packet delay).</span></span>

<span data-ttu-id="b071f-158">Se si sceglie di abilitare il monitoraggio in Skype for Business Server, è possibile abilitare sia il monitoraggio CDR che il monitoraggio QoE oppure è possibile scegliere di abilitare un tipo di monitoraggio lasciando l'altro tipo disabilitato.</span><span class="sxs-lookup"><span data-stu-id="b071f-158">If you choose to enable monitoring in Skype for Business Server you can enable both CDR monitoring and QoE monitoring, or you can choose to enable one type of monitoring while leaving the other type disabled.</span></span> <span data-ttu-id="b071f-159">Si supponga, ad esempio, che gli utenti utilizzino solo la messaggistica istantanea e i trasferimenti di file e non esemplino chiamate audio o video.</span><span class="sxs-lookup"><span data-stu-id="b071f-159">For example, suppose your users only use instant messaging and file transfers, and do not make audio or video calls.</span></span> <span data-ttu-id="b071f-160">In tal caso, potrebbe esserci poco motivo per abilitare il monitoraggio QoE.</span><span class="sxs-lookup"><span data-stu-id="b071f-160">In that case, there might be little reason to enable QoE monitoring.</span></span> <span data-ttu-id="b071f-161">Analogamente, Skype for Business Server facilita l'abilitazione e la disabilitazione del monitoraggio dopo la distribuzione del monitoraggio.</span><span class="sxs-lookup"><span data-stu-id="b071f-161">Likewise, Skype for Business Server makes it easy to enable and disable monitoring after monitoring has been deployed.</span></span> <span data-ttu-id="b071f-162">Ad esempio, è possibile scegliere di distribuire il monitoraggio, ma inizialmente lasciare disabilitato il monitoraggio QoE.</span><span class="sxs-lookup"><span data-stu-id="b071f-162">For example, you might choose to deploy monitoring but initially leave QoE monitoring disabled.</span></span> <span data-ttu-id="b071f-163">Se gli utenti iniziano a verificarsi problemi con le chiamate audio o video, è possibile abilitare il monitoraggio QoE e utilizzare tali dati per risolvere tali problemi.</span><span class="sxs-lookup"><span data-stu-id="b071f-163">If your users begin to experience problems with audio or video calls you could then enable QoE monitoring and use that data to help you troubleshoot and resolve those problems.</span></span>

<span data-ttu-id="b071f-164">Non esiste alcun vantaggio (o svantaggio) particolare per l'installazione del monitoraggio contemporaneamente all'installazione di Skype for Business Server e dell'installazione del monitoraggio dopo l'installazione di Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="b071f-164">There is no particular advantage (or disadvantage) to installing monitoring at the same time you install Skype for Business Server vs. installing monitoring after Skype for Business Server has been installed.</span></span> <span data-ttu-id="b071f-165">L'unico punto da tenere presente è che, prima di installare il monitoraggio, è necessario selezionare un computer in cui ospitare l'archivio di monitoraggio back-end e che una versione supportata di SQL Server deve essere installata e configurata in tale computer prima di poter utilizzare tale computer per il monitoraggio.</span><span class="sxs-lookup"><span data-stu-id="b071f-165">The one point to keep in mind is that, before you install monitoring, you must select a computer to host the backend monitoring store, and a supported version of SQL Server must be installing and configured on that computer before that computer can be used for monitoring.</span></span> <span data-ttu-id="b071f-166">Se hai già installato SQL Server in un computer e il computer è pronto per l'uso, puoi installare il monitoraggio contemporaneamente all'installazione di Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="b071f-166">If you have already installed SQL Server on a computer and that computer is ready for use then you can install monitoring at the same time you install Skype for Business Server.</span></span> <span data-ttu-id="b071f-167">Se non si dispone di un computer back-end pronto, è possibile procedere all'installazione di Skype for Business Server da solo, quindi installare il monitoraggio ogni volta che il computer back-end è pronto per l'uso.</span><span class="sxs-lookup"><span data-stu-id="b071f-167">If you do not have a backend computer ready then you can proceed to install Skype for Business Server by itself, then install monitoring whenever the backend computer is ready for use.</span></span>

 <span data-ttu-id="b071f-168">**Quanti database di monitoraggio back-end sono necessari?**</span><span class="sxs-lookup"><span data-stu-id="b071f-168">**How many backend monitoring databases do you need?**</span></span> <span data-ttu-id="b071f-169">È stato stimato che un database collocato sia per il monitoraggio che per l'archiviazione poteva supportare 240.000 utenti di Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="b071f-169">It was estimated that a collocated database for both monitoring and archiving could support 240,000 Skype for Business Server users).</span></span> <span data-ttu-id="b071f-170">Inoltre, un singolo database di monitoraggio può essere utilizzato da più pool Front End; Se nell'organizzazione sono presenti tre pool Front End, è possibile associare tutti e tre i pool allo stesso archivio back-end.</span><span class="sxs-lookup"><span data-stu-id="b071f-170">In addition, a single monitoring database can be used by multiple Front End pools; if you have three Front End pools in your organization then you could associate all three of those pools with the same backend store.</span></span>

<span data-ttu-id="b071f-171">Per molte organizzazioni, la capacità dei database non sarà il fattore determinante per determinare il numero di database di monitoraggio back-end che saranno necessari.</span><span class="sxs-lookup"><span data-stu-id="b071f-171">For many organizations, database capacity will not be the deciding factor when determining the number of backend monitoring databases that will be required.</span></span> <span data-ttu-id="b071f-172">Al contrario, una considerazione più importante potrebbe essere la velocità di rete.</span><span class="sxs-lookup"><span data-stu-id="b071f-172">Instead, a more important consideration could be network speed.</span></span> <span data-ttu-id="b071f-173">Si supponga di disporre di tre pool Front End, ma uno di tali pool si trova in una connessione di rete lenta.</span><span class="sxs-lookup"><span data-stu-id="b071f-173">Suppose you have three Front End pools, but one of those pools is located across a slow network connection.</span></span> <span data-ttu-id="b071f-174">In tal caso, è possibile utilizzare due database di monitoraggio: un database per la gestione dei due pool con una buona connessione di rete e un database separato per la gestione del pool con la connessione di rete più lenta.</span><span class="sxs-lookup"><span data-stu-id="b071f-174">In that case, you might want to use two monitoring databases: one database to service the two pools with the good network connection, and a separate database to service the pool with the slower network connection.</span></span>

<span data-ttu-id="b071f-175">È inoltre necessario prendere in considerazione che Skype for Business Server supporta l'uso di database mirror.</span><span class="sxs-lookup"><span data-stu-id="b071f-175">You should also take into account that Skype for Business Server supports the use of mirror databases.</span></span> <span data-ttu-id="b071f-176">Il "mirroring del database" consente di gestire contemporaneamente due copie di un database, con ogni database che risiede in un server diverso.</span><span class="sxs-lookup"><span data-stu-id="b071f-176">"Database mirroring" provides a way for you to simultaneously maintain two copies of a database, with each database residing on a different server.</span></span> <span data-ttu-id="b071f-177">Ogni volta che i dati vengono scritti in un database primario, gli stessi dati vengono scritti anche nel database mirror.</span><span class="sxs-lookup"><span data-stu-id="b071f-177">Any time data is written to a primary database that same data is also written to the mirror database.</span></span> <span data-ttu-id="b071f-178">Se il database primario non riesce o diventa in altro modo non disponibile, è possibile eseguire il "failover" nel database mirror utilizzando un semplice comando di PowerShell di Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="b071f-178">If the primary database should fail or otherwise become unavailable, you can "fail over" to the mirror database by using a simple Skype for Business Server PowerShell command.</span></span> <span data-ttu-id="b071f-179">Ad esempio:</span><span class="sxs-lookup"><span data-stu-id="b071f-179">For example:</span></span>

```PowerShell
Invoke-CsDatabaseFailover -PoolFqdn atl-cs-001.litwareinc.com -DatabaseType "Monitoring" -NewPrincipal "Mirror"
```

<span data-ttu-id="b071f-180">Questo è importante per scopi di pianificazione semplicemente perché il mirroring richiede il doppio del numero necessario di database: oltre a ogni database primario sarà necessario un secondo database per fungere da mirror.</span><span class="sxs-lookup"><span data-stu-id="b071f-180">This is important for planning purposes simply because mirroring will require you to double your required number of databases: in addition to each primary database you will need a second database to act as the mirror.</span></span>

 <span data-ttu-id="b071f-181">**I siti di Skype for Business Server necessitano di configurazioni di monitoraggio personalizzate?**</span><span class="sxs-lookup"><span data-stu-id="b071f-181">**Do your Skype for Business Server sites need their own custom monitoring configurations?**</span></span> <span data-ttu-id="b071f-182">Quando si installa Skype for Business Server, si installano anche raccolte globali di impostazioni di configurazione cdr e QoE; Queste raccolte globali offrono la possibilità di applicare le stesse impostazioni cdr e QoE all'intera organizzazione.</span><span class="sxs-lookup"><span data-stu-id="b071f-182">When you install Skype for Business Server you also install global collections of CDR and QoE configuration settings; these global collections give you the ability to apply the same CDR and QoE settings to your entire organization.</span></span> <span data-ttu-id="b071f-183">In molti casi, sarà sufficiente: spesso si desidera, ad esempio, che il monitoraggio cdR sia abilitato per tutti gli utenti.</span><span class="sxs-lookup"><span data-stu-id="b071f-183">In many cases, this will be sufficient: often-times you will want, say, to have CDR monitoring enabled for all of your users.</span></span>

<span data-ttu-id="b071f-184">È tuttavia possibile che in alcuni casi si desideri applicare impostazioni diverse a siti diversi.</span><span class="sxs-lookup"><span data-stu-id="b071f-184">However, there might also be times when you want to apply different settings to different sites.</span></span> <span data-ttu-id="b071f-185">Ad esempio, è possibile che si desideri utilizzare sia il monitoraggio CDR che il monitoraggio QoE nel sito Redmond, ma utilizzare solo il monitoraggio cdr nel sito dublinese.</span><span class="sxs-lookup"><span data-stu-id="b071f-185">For example, perhaps you want to use both CDR and QoE monitoring in your Redmond site, but only use CDR monitoring in your Dublin site.</span></span> <span data-ttu-id="b071f-186">Analogamente, è possibile conservare i dati di monitoraggio per 60 giorni nel sito Redmond, ma è necessario mantenere questo tipo di dati solo per 30 giorni nel sito di Dublino.</span><span class="sxs-lookup"><span data-stu-id="b071f-186">Likewise, you might want to retain monitoring data for 60 days in the Redmond site but only need to maintain this type of data for 30 days in the Dublin site.</span></span> <span data-ttu-id="b071f-187">Skype for Business Server consente di creare raccolte separate di impostazioni di configurazione cdr e QoE nell'ambito del sito; che consente di gestire ogni sito in modo diverso.</span><span class="sxs-lookup"><span data-stu-id="b071f-187">Skype for Business Server allows you to create separate collections of CDR and QoE configuration settings at the site scope; that enables you to manage each site differently.</span></span> <span data-ttu-id="b071f-188">Ciò include sia l'abilitazione che la disabilitazione del monitoraggio, nonché la configurazione delle impostazioni di gestione, ad esempio la durata della conservazione dei dati.</span><span class="sxs-lookup"><span data-stu-id="b071f-188">(This includes both enabling and disabling monitoring as well as configuring management settings such as how long data is to be retained.)</span></span>

<span data-ttu-id="b071f-189">Tenere presente che è possibile prendere questa decisione prima di distribuire il monitoraggio o dopo aver distribuito il monitoraggio.</span><span class="sxs-lookup"><span data-stu-id="b071f-189">Note that you can make this decision before you deploy monitoring or after you deploy monitoring.</span></span> <span data-ttu-id="b071f-190">Ad esempio, è possibile distribuire il monitoraggio e quindi gestire l'intera organizzazione utilizzando le impostazioni globali.</span><span class="sxs-lookup"><span data-stu-id="b071f-190">For example, you can deploy monitoring and then manage the entire organization by using the global settings.</span></span> <span data-ttu-id="b071f-191">Se in seguito si cambia idea, è possibile creare una raccolta separata di impostazioni per, ad esempio, il sito Redmond e quindi utilizzarle per gestire il monitoraggio per Redmond.</span><span class="sxs-lookup"><span data-stu-id="b071f-191">If you later change your mind, you can create a separate collection of settings for, say, the Redmond site, and then use those settings to manage monitoring for Redmond.</span></span> <span data-ttu-id="b071f-192">Le impostazioni applicate nell'ambito del sito hanno sempre la precedenza sulle impostazioni applicate nell'ambito globale. Se si cambia idea di nuovo, è sufficiente eliminare le impostazioni di configurazione applicate al sito Redmond.</span><span class="sxs-lookup"><span data-stu-id="b071f-192">(Settings applied at the site scope always take precedence over settings applied at the global scope.) If you change your mind again, you can simply delete the configuration settings applied to the Redmond site.</span></span> <span data-ttu-id="b071f-193">Quando viene rimossa una raccolta di impostazioni del sito, la raccolta globale di impostazioni verrà applicata automaticamente a tale sito.</span><span class="sxs-lookup"><span data-stu-id="b071f-193">When a collection of site settings is removed then the global collection of settings will automatically be applied to that site.</span></span>

## <a name="sql-requirements-for-monitoring"></a><span data-ttu-id="b071f-194">SQL per il monitoraggio</span><span class="sxs-lookup"><span data-stu-id="b071f-194">SQL requirements for monitoring</span></span>
<span data-ttu-id="b071f-195"><a name="topologies"> </a></span><span class="sxs-lookup"><span data-stu-id="b071f-195"><a name="topologies"> </a></span></span>

<span data-ttu-id="b071f-196">Gli agenti di raccolta dati unificati vengono installati e attivati automaticamente in ogni Front End Server quando si abilita il monitoraggio.</span><span class="sxs-lookup"><span data-stu-id="b071f-196">The unified data collection agents are automatically installed and activated on each Front End server when you enable Monitoring.</span></span> <span data-ttu-id="b071f-197">Per le versioni supportate di SQL Server e altri dettagli, vedere [Requisiti server per Skype for Business Server 2015](requirements-for-your-environment/server-requirements.md)</span><span class="sxs-lookup"><span data-stu-id="b071f-197">For supported versions of SQL Server and other details, see [Server requirements for Skype for Business Server 2015](requirements-for-your-environment/server-requirements.md)</span></span>

<span data-ttu-id="b071f-198">I dati di monitoraggio possono condividere SQL Server'istanza con altri tipi di dati.</span><span class="sxs-lookup"><span data-stu-id="b071f-198">Monitoring data can share a SQL Server instance with other types of data.</span></span> <span data-ttu-id="b071f-199">In genere, il database di registrazione dettagli chiamata (LcsCdr) e il database QoEMetrics (QoEMetrics) condividono la stessa istanza SQL chiamata; è inoltre comune che i due database di monitoraggio si presentino nella stessa istanza SQL del database di archiviazione (LcsLog).</span><span class="sxs-lookup"><span data-stu-id="b071f-199">Typically, the call detail recording database (LcsCdr) and the Quality of Experience database (QoEMetrics) share the same SQL instance; it is also common for the two monitoring databases to be in the same SQL instance as the archiving database (LcsLog).</span></span> <span data-ttu-id="b071f-200">L'unico requisito reale con SQL Server istanze è che qualsiasi istanza di SQL Server è limitata ai seguenti:</span><span class="sxs-lookup"><span data-stu-id="b071f-200">About the only real requirement with SQL Server instances is that any one instance of SQL Server is limited to the following:</span></span>

- <span data-ttu-id="b071f-201">Un'istanza del database back-end di Skype for Business Server 2015.</span><span class="sxs-lookup"><span data-stu-id="b071f-201">One instance of the Skype for Business Server 2015 backend database.</span></span> <span data-ttu-id="b071f-202">Come regola generale, non è consigliabile collocare il database di monitoraggio nella stessa istanza di SQL o nello stesso computer del database back-end.</span><span class="sxs-lookup"><span data-stu-id="b071f-202">(As a general rule, it is not recommended that your monitoring database be collocated in the same SQL instance, or even on the same computer, as the backend database.</span></span> <span data-ttu-id="b071f-203">Anche se tecnicamente possibile, si rischia che il database di monitoraggio utilizzi lo spazio su disco necessario per il database back-end.</span><span class="sxs-lookup"><span data-stu-id="b071f-203">Although technically possible, you run the risk of the monitoring database using up disk space needed by the backend database.)</span></span>

- <span data-ttu-id="b071f-204">Un'istanza del database di registrazione dettagli chiamata.</span><span class="sxs-lookup"><span data-stu-id="b071f-204">One instance of the call detail recording database.</span></span>

- <span data-ttu-id="b071f-205">Un'istanza del database di qualità dell'esperienza.</span><span class="sxs-lookup"><span data-stu-id="b071f-205">One instance of the Quality of Experience database.</span></span>

- <span data-ttu-id="b071f-206">Un'istanza del database di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="b071f-206">One instance of the archiving database.</span></span>

<span data-ttu-id="b071f-207">In altre parole, non è possibile avere due istanze del database LcsCdr nella stessa istanza di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b071f-207">In other words, you can't have two instances of the LcsCdr database in the same instance of SQL Server.</span></span> <span data-ttu-id="b071f-208">Se sono necessarie più istanze del database LcsCdr, è necessario configurare più istanze di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b071f-208">If you need multiple instances of the LcsCdr database then you need to configure multiple instances of SQL Server.</span></span>

## <a name="see-also"></a><span data-ttu-id="b071f-209">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="b071f-209">See also</span></span>


[<span data-ttu-id="b071f-210">Distribuzione del monitoraggio</span><span class="sxs-lookup"><span data-stu-id="b071f-210">Deploying Monitoring</span></span>](https://technet.microsoft.com/library/117f4a3e-0670-4388-a553-b9854921145f.aspx)
