---
title: Pianificare il monitoraggio in Skype for Business Server
ms.reviewer: ''
ms.author: v-lanac
author: lanachin
manager: serdars
audience: ITPro
ms.topic: conceptual
ms.prod: skype-for-business-itpro
localization_priority: Normal
ms.assetid: 5d5eb658-7fe0-42e6-acaf-700051d0a823
description: 'Riepilogo: rivedere questo argomento durante la pianificazione per il servizio di monitoraggio in Skype for Business Server.'
ms.openlocfilehash: ebe94d3088e319a0c210c9d169f35f1c783ad5f5
ms.sourcegitcommit: 2cc98fcecd753e6e8374fc1b5a78b8e3d61e0cf7
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2020
ms.locfileid: "40991781"
---
# <a name="plan-for-monitoring-in-skype-for-business-server"></a><span data-ttu-id="e3986-103">Pianificare il monitoraggio in Skype for Business Server</span><span class="sxs-lookup"><span data-stu-id="e3986-103">Plan for monitoring in Skype for Business Server</span></span>

<span data-ttu-id="e3986-104">**Riepilogo:** Esaminare questo argomento durante la pianificazione per il servizio di monitoraggio in Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="e3986-104">**Summary:** Review this topic while planning for the monitoring service in Skype for Business Server.</span></span>

<span data-ttu-id="e3986-105">Il servizio di monitoraggio in Skype for Business Server consente agli amministratori di raccogliere dati sull'uso e la qualità per le sessioni di comunicazione che si svolgono nell'organizzazione, che consente loro di identificare tendenze e problemi.</span><span class="sxs-lookup"><span data-stu-id="e3986-105">The monitoring service in Skype for Business Server provides a way for administrators to collect usage and quality data for the communication sessions that take place in their organization, which allows them to identify trends and problems.</span></span> <span data-ttu-id="e3986-106">Il monitoraggio continuo della distribuzione consente di rilevare i problemi in anticipo e di soddisfare gli utenti dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="e3986-106">Ongoing monitoring of your deployment allows you to catch problems early and keep your organization's users satisfied.</span></span>

<span data-ttu-id="e3986-107">Il monitoraggio in Skype for Business Server non richiede un ruolo server distinto, come nel caso delle versioni precedenti di Lync; il servizio di monitoraggio è invece incorporato in ogni server front-end.</span><span class="sxs-lookup"><span data-stu-id="e3986-107">Monitoring in Skype for Business Server does not require a separate server role (as was the case in earlier Lync versions); instead, the monitoring service is built into each Front End server.</span></span> <span data-ttu-id="e3986-108">Il monitoraggio non è abilitato per impostazione predefinita in Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="e3986-108">Monitoring is not enabled by default in Skype for Business Server.</span></span> <span data-ttu-id="e3986-109">Questo articolo consente di determinare se abilitare il monitoraggio durante o dopo la configurazione iniziale di Skype for Business Server e le risorse SQL necessarie per supportare le attività di monitoraggio.</span><span class="sxs-lookup"><span data-stu-id="e3986-109">This article will help you determine whether to enable Monitoring during or after your initial Skype for Business Server configuration, and what SQL resources you'll need to support Monitoring activities.</span></span> <span data-ttu-id="e3986-110">Se non si è sicuri di cosa sia o non sia monitorato e di come può essere utile il monitoraggio, vedere [informazioni di base sul monitoraggio](monitoring.md#Basics).</span><span class="sxs-lookup"><span data-stu-id="e3986-110">If you're not sure exactly what is or is not monitored and how monitoring can be helpful, go to [Basics about Monitoring](monitoring.md#Basics).</span></span> <span data-ttu-id="e3986-111">Per iniziare il processo di pianificazione, vedere [definire i requisiti per il monitoraggio](monitoring.md#requirements).</span><span class="sxs-lookup"><span data-stu-id="e3986-111">To begin your planning process, go to [Define your requirements for monitoring](monitoring.md#requirements).</span></span> <span data-ttu-id="e3986-112">Per altre informazioni sui requisiti SQL per il monitoraggio, vedere [requisiti SQL per il monitoraggio](monitoring.md#topologies).</span><span class="sxs-lookup"><span data-stu-id="e3986-112">For more details on the SQL requirements for monitoring, go to [SQL requirements for monitoring](monitoring.md#topologies).</span></span>

## <a name="basics-about-monitoring"></a><span data-ttu-id="e3986-113">Nozioni di base sul monitoraggio</span><span class="sxs-lookup"><span data-stu-id="e3986-113">Basics about Monitoring</span></span>
<span data-ttu-id="e3986-114"><a name="Basics"> </a></span><span class="sxs-lookup"><span data-stu-id="e3986-114"></span></span>

<span data-ttu-id="e3986-115">Una sessione è un termine generico per la connessione di un utente a:</span><span class="sxs-lookup"><span data-stu-id="e3986-115">A session is a generic term for a user's connection to a:</span></span>

- <span data-ttu-id="e3986-116">Conferenza</span><span class="sxs-lookup"><span data-stu-id="e3986-116">Conference</span></span>

- <span data-ttu-id="e3986-117">Strumento di conferenza, ad esempio condivisione audio/video o applicazioni</span><span class="sxs-lookup"><span data-stu-id="e3986-117">Conferencing tool such as Audio/Video or Application Sharing</span></span>

- <span data-ttu-id="e3986-118">Un altro utente tramite una conversazione peer-to-peer, ad esempio la messaggistica istantanea o una chiamata audio</span><span class="sxs-lookup"><span data-stu-id="e3986-118">Another user via a peer-to-peer conversation such as instant messaging or an audio call</span></span>

> [!NOTE]
> <span data-ttu-id="e3986-119">Skype for Business Server tiene traccia delle informazioni relative a ogni sessione: chi ha chiamato chi; quali endpoint sono stati usati nella sessione; durata della sessione Qual è stata la qualità percepita della sessione; E così via.</span><span class="sxs-lookup"><span data-stu-id="e3986-119">Skype for Business Server keeps track of information about each session: who called who; which endpoints were used in the session; how long did the session last; what was the perceived quality of the session; and so on.</span></span> <span data-ttu-id="e3986-120">Skype for Business Server non registra e archivia la chiamata effettiva stessa.</span><span class="sxs-lookup"><span data-stu-id="e3986-120">Skype for Business Server does not record and store the actual call itself.</span></span> <span data-ttu-id="e3986-121">Che include sessioni di messaggistica istantanea: anche se Skype for Business Server registra informazioni sulle sessioni di messaggistica istantanea, non mantiene un record di ogni messaggio istantaneo inviato durante la sessione.</span><span class="sxs-lookup"><span data-stu-id="e3986-121">That includes instant messaging sessions: although Skype for Business Server records information about instant messaging sessions, it does not maintain a record of each instant message that was sent during the session.</span></span>

<span data-ttu-id="e3986-122">Le informazioni dettagliate sulle chiamate di base raccolte da Skype for Business Server per ogni sessione possono essere usate per:</span><span class="sxs-lookup"><span data-stu-id="e3986-122">The basic call detail information collected by Skype for Business Server for each session can be used for:</span></span>

- <span data-ttu-id="e3986-123">Analisi **return on Investment (ROI)** .</span><span class="sxs-lookup"><span data-stu-id="e3986-123">**Return on Investment (ROI)** analysis.</span></span> <span data-ttu-id="e3986-124">Gli amministratori possono confrontare i dati di utilizzo con dati simili raccolti per il sistema di telefonia precedente per mostrare il risparmio dei costi e giustificare la distribuzione di Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="e3986-124">Administrators can compare the usage data to similar data collected for their previous telephony system in order to show cost savings and help justify the deployment of Skype for Business Server.</span></span>

- <span data-ttu-id="e3986-125">**Gestione inventario dispositivi**.</span><span class="sxs-lookup"><span data-stu-id="e3986-125">**Device Inventory Management**.</span></span> <span data-ttu-id="e3986-126">Le informazioni sulla gestione degli asset aiutano gli amministratori a identificare i vecchi dispositivi ancora in uso che devono essere sostituiti e ad identificare dispositivi costosi inutilizzati o sottoutilizzati.</span><span class="sxs-lookup"><span data-stu-id="e3986-126">Asset management information helps administrators identify old devices still in use that need to be replaced, and identify expensive devices that are unused or under-used.</span></span>

- <span data-ttu-id="e3986-127">**Help desk**.</span><span class="sxs-lookup"><span data-stu-id="e3986-127">**Help Desk**.</span></span> <span data-ttu-id="e3986-128">La risoluzione dei problemi dei dati consente agli ingegneri del supporto di determinare il motivo per cui la chiamata di un utente non è riuscita, senza dover raccogliere log lato server o client.</span><span class="sxs-lookup"><span data-stu-id="e3986-128">Troubleshooting data helps support engineers determine why a user's call failed, without having to collect server or client side logs.</span></span> <span data-ttu-id="e3986-129">Queste informazioni possono essere facilmente accessibili e comprese dal personale di supporto che non ha una profonda conoscenza tecnica del client Skype for business e di Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="e3986-129">This information can be readily accessed and understood by support personnel who do not have a deep technical knowledge of the Skype for Business client and Skype for Business Server.</span></span>

- <span data-ttu-id="e3986-130">**Risoluzione dei problemi di sistema**.</span><span class="sxs-lookup"><span data-stu-id="e3986-130">**System Troubleshooting**.</span></span> <span data-ttu-id="e3986-131">Consente agli amministratori di rilevare problemi importanti che potrebbero impedire agli utenti finali di eseguire attività di base, ad esempio partecipare a una conferenza, stabilire una chiamata o inviare un messaggio istantaneo.</span><span class="sxs-lookup"><span data-stu-id="e3986-131">Enables administrators to detect major issues that might prevent end users from performing basic tasks like joining a conference, establishing a call, or sending an instant message.</span></span>

<span data-ttu-id="e3986-132">Il monitoraggio offre anche un meccanismo che consente agli endpoint SIP (ad esempio Skype for business) di fornire informazioni di risoluzione dei problemi che l'amministratore non avrebbe altrimenti accesso:</span><span class="sxs-lookup"><span data-stu-id="e3986-132">Monitoring also provides a mechanism that allows SIP endpoints (such as Skype for Business) to provide troubleshooting information that the administrator would not otherwise have access to:</span></span>

- <span data-ttu-id="e3986-133">**Metriche multimediali che incidono sulla qualità**.</span><span class="sxs-lookup"><span data-stu-id="e3986-133">**Media Metrics that Impact Quality**.</span></span> <span data-ttu-id="e3986-134">Queste metriche trattano la trasmissione effettiva della chiamata stessa; Essi costituiscono una sorta di diario di viaggio durante i viaggi di chiamata in tutta la rete.</span><span class="sxs-lookup"><span data-stu-id="e3986-134">These metrics deal with the actual transmission of the call itself; they provide a sort of travelogue as the call journeys across the network.</span></span> <span data-ttu-id="e3986-135">Queste metriche (che includono elementi come la perdita di pacchetti, il jitter e i tempi di andata e ritorno) offrono informazioni su ciò che è accaduto alla chiamata dal momento in cui ha lasciato l'endpoint di una persona fino al momento in cui è arrivato all'endpoint dell'altra persona.</span><span class="sxs-lookup"><span data-stu-id="e3986-135">These metrics (which include such things as packet loss, jitter, and round trip times) provide information on what happened to the call from the time it left one person's endpoint to the time it arrived at the other person's endpoint.</span></span>

- <span data-ttu-id="e3986-136">**Problemi segnalati all'utente finale**.</span><span class="sxs-lookup"><span data-stu-id="e3986-136">**Issues Reported to the End User**.</span></span> <span data-ttu-id="e3986-137">Queste metriche includono notifiche di qualità scadente che Skype for business presenta agli utenti finali nei casi in cui siano troppo lontani da un microfono, che parli troppo dolcemente, che abbiano una connessione di rete scadente o che abbiano una qualità scadente perché un altro programma della il computer sta consumando le risorse disponibili.</span><span class="sxs-lookup"><span data-stu-id="e3986-137">These metrics include poor quality notifications that Skype for Business presents to end users in cases where they are too far from a microphone, speaking too softly, have a poor network connection, or are experiencing poor quality because another program on the computer is consuming the available resources.</span></span>

- <span data-ttu-id="e3986-138">**Informazioni sull'ambiente**.</span><span class="sxs-lookup"><span data-stu-id="e3986-138">**Environment Information**.</span></span> <span data-ttu-id="e3986-139">Queste metriche denominano fattori di qualità come il tipo di microfono e gli altoparlanti usati, se l'utente è connesso tramite una connessione VPN e se l'utente si trova in una connessione wireless.</span><span class="sxs-lookup"><span data-stu-id="e3986-139">These metrics detail call quality factors such as the type of microphone and speakers being used, whether the user is connected through a VPN connection, and whether the user is on a wireless connection.</span></span>

<span data-ttu-id="e3986-140">Alla fine di ogni chiamata, gli endpoint conformi a SIP trasmettono queste informazioni al server front-end che facilita la chiamata.</span><span class="sxs-lookup"><span data-stu-id="e3986-140">At the end of each call, SIP-compliant endpoints transmit this information to the Front End server that facilitated the call.</span></span> <span data-ttu-id="e3986-141">Non è necessario eseguire alcuna operazione per ottenere gli endpoint per trasmettere tali informazioni; Questo comportamento è incorporato nel protocollo SIP.</span><span class="sxs-lookup"><span data-stu-id="e3986-141">You don't have to do anything to get endpoints to transmit that information; that behavior is built into the SIP protocol.</span></span> <span data-ttu-id="e3986-142">Tuttavia, se si vogliono raccogliere e archiviare tali informazioni, è necessario installare e abilitare il monitoraggio.</span><span class="sxs-lookup"><span data-stu-id="e3986-142">However, if you want to collect and store that information, then you need to install and enable monitoring.</span></span> <span data-ttu-id="e3986-143">Se si installa e si Abilita il monitoraggio, le informazioni sulle chiamate vengono raccolte dagli agenti in uso nel server front-end e inoltrate a una coppia di database di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e3986-143">If you do install and enable monitoring, then call information is gathered by agents running on the Front End server and relayed to a pair of SQL Server databases.</span></span> <span data-ttu-id="e3986-144">Il servizio di monitoraggio (sotto forma di "agenti di raccolta dati unificati") è collocato in tutti i server front-end.</span><span class="sxs-lookup"><span data-stu-id="e3986-144">The monitoring service (in the form of "unified data collection agents") is collocated into all Front End servers.</span></span>

## <a name="define-your-requirements-for-monitoring"></a><span data-ttu-id="e3986-145">Definire i requisiti per il monitoraggio</span><span class="sxs-lookup"><span data-stu-id="e3986-145">Define your requirements for monitoring</span></span>
<span data-ttu-id="e3986-146"><a name="requirements"> </a></span><span class="sxs-lookup"><span data-stu-id="e3986-146"></span></span>

<span data-ttu-id="e3986-147">Ci sono ancora diversi problemi chiave che devono essere affrontati prima di iniziare a installare e configurare il monitoraggio con Skype for Business Server:</span><span class="sxs-lookup"><span data-stu-id="e3986-147">There are still several key issues that should be addressed before you begin to install and configure monitoring with Skype for Business Server:</span></span>

 <span data-ttu-id="e3986-148">**Quando si vuole installare il monitoraggio?**</span><span class="sxs-lookup"><span data-stu-id="e3986-148">**When do you want to install monitoring?**</span></span> <span data-ttu-id="e3986-149">Il monitoraggio può essere installato e configurato contemporaneamente all'installazione e alla configurazione di Skype for Business Server; la distribuzione guidata di Skype for Business Server ti offre l'opportunità di associare i pool Front-end a un database di monitoraggio durante l'installazione.</span><span class="sxs-lookup"><span data-stu-id="e3986-149">Monitoring can be installed and configured at the same time you install and configured Skype for Business Server; the Skype for Business Server Deployment Wizard will provide you with the opportunity to associate your Front End pools with a monitoring database during setup.</span></span> <span data-ttu-id="e3986-150">In alternativa, è possibile installare il monitoraggio dopo l'installazione di Skype for Business Server; Questa operazione può essere eseguita usando generatore di topologie per associare i pool e i server front-end a un database di monitoraggio e quindi pubblicare la topologia riveduta.</span><span class="sxs-lookup"><span data-stu-id="e3986-150">Alternatively, you can install monitoring after Skype for Business Server itself has been installed; this can be done by using Topology Builder to associate your Front End pools and servers with a monitoring database, and then publishing the revised topology.</span></span>

<span data-ttu-id="e3986-151">Tieni presente che SQL Server deve essere installato e configurato prima di distribuire e configurare il monitoraggio.</span><span class="sxs-lookup"><span data-stu-id="e3986-151">Keep in mind that SQL Server must be installed and configured before you deploy and configure monitoring.</span></span> <span data-ttu-id="e3986-152">È tuttavia necessario distribuire solo SQL Server. i database di monitoraggio verranno creati quando pubblichi la topologia di Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="e3986-152">However, you only need to deploy SQL Server itself; the monitoring databases will be created for you when you publish your Skype for Business Server topology.</span></span>

 <span data-ttu-id="e3986-153">**Quali tipi di dati si desidera monitorare?**</span><span class="sxs-lookup"><span data-stu-id="e3986-153">**What type of data do you want to monitor?**</span></span> <span data-ttu-id="e3986-154">Skype for Business Server consente di monitorare due tipi generali di dati: i dati di registrazione Detailing delle chiamate (CDR) e la qualità dell'esperienza (QoE).</span><span class="sxs-lookup"><span data-stu-id="e3986-154">Skype for Business Server enables you to monitor two general types of data: call detailing recording (CDR) data and Quality of Experience (QoE) data.</span></span> <span data-ttu-id="e3986-155">La registrazione dei dettagli delle chiamate offre un modo per tenere traccia dell'uso delle funzionalità di Skype for Business Server, ad esempio chiamate VoIP (Voice over IP); messaggistica istantanea (IM); trasferimenti di file; Servizi di conferenza audio/video (A/V); e sessioni di condivisione applicazioni.</span><span class="sxs-lookup"><span data-stu-id="e3986-155">Call detail recording provides a way for you to track the usage of Skype for Business Server features such as Voice over IP (VoIP) phone calls; instant messaging (IM); file transfers; audio/video (A/V) conferencing; and application sharing sessions.</span></span> <span data-ttu-id="e3986-156">Queste informazioni consentono di sapere quali funzionalità di Skype for Business Server vengono usate (e quali no) e forniscono anche informazioni su quando vengono usate queste caratteristiche.</span><span class="sxs-lookup"><span data-stu-id="e3986-156">This information helps you know which Skype for Business Server features are being used (and which ones are not) and also provides information as to when these features are being used.</span></span> <span data-ttu-id="e3986-157">La qualità dei dati sulle esperienze consente di mantenere un record della qualità delle chiamate audio e video effettuate nella propria organizzazione, inclusi elementi come il numero di pacchetti di rete persi, il rumore di fondo e la quantità di "jitter" (differenze nel ritardo del pacchetto).</span><span class="sxs-lookup"><span data-stu-id="e3986-157">Quality of Experience data allows you to maintain a record of the quality of audio and video calls made in your organization, including such things as the number of network packets lost, background noise, and the amount of "jitter" (differences in packet delay).</span></span>

<span data-ttu-id="e3986-158">Se si sceglie di abilitare il monitoraggio in Skype for Business Server è possibile abilitare sia il monitoraggio CDR che il controllo QoE oppure si può scegliere di abilitare un tipo di monitoraggio lasciando l'altro tipo disabilitato.</span><span class="sxs-lookup"><span data-stu-id="e3986-158">If you choose to enable monitoring in Skype for Business Server you can enable both CDR monitoring and QoE monitoring, or you can choose to enable one type of monitoring while leaving the other type disabled.</span></span> <span data-ttu-id="e3986-159">Supponiamo ad esempio che gli utenti usino solo la messaggistica istantanea e i trasferimenti di file e non effettuino chiamate audio o video.</span><span class="sxs-lookup"><span data-stu-id="e3986-159">For example, suppose your users only use instant messaging and file transfers, and do not make audio or video calls.</span></span> <span data-ttu-id="e3986-160">In questo caso, è possibile che venga attivato il monitoraggio QoE.</span><span class="sxs-lookup"><span data-stu-id="e3986-160">In that case, there might be little reason to enable QoE monitoring.</span></span> <span data-ttu-id="e3986-161">Allo stesso modo, Skype for Business Server semplifica l'abilitazione e la disabilitazione del monitoraggio dopo la distribuzione del monitoraggio.</span><span class="sxs-lookup"><span data-stu-id="e3986-161">Likewise, Skype for Business Server makes it easy to enable and disable monitoring after monitoring has been deployed.</span></span> <span data-ttu-id="e3986-162">Ad esempio, potresti scegliere di distribuire il monitoraggio, ma lasci inizialmente il monitoraggio QoE disabilitato.</span><span class="sxs-lookup"><span data-stu-id="e3986-162">For example, you might choose to deploy monitoring but initially leave QoE monitoring disabled.</span></span> <span data-ttu-id="e3986-163">Se gli utenti iniziano a riscontrare problemi con le chiamate audio o video, è possibile abilitare il monitoraggio QoE e usare questi dati per risolvere i problemi e risolverli.</span><span class="sxs-lookup"><span data-stu-id="e3986-163">If your users begin to experience problems with audio or video calls you could then enable QoE monitoring and use that data to help you troubleshoot and resolve those problems.</span></span>

<span data-ttu-id="e3986-164">Non c'è un particolare vantaggio (o svantaggio) per installare il monitoraggio contemporaneamente all'installazione di Skype for Business Server e all'installazione del monitoraggio dopo che è stato installato Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="e3986-164">There is no particular advantage (or disadvantage) to installing monitoring at the same time you install Skype for Business Server vs. installing monitoring after Skype for Business Server has been installed.</span></span> <span data-ttu-id="e3986-165">Il punto da tenere presente è che, prima di installare il monitoraggio, è necessario selezionare un computer per ospitare l'archivio di monitoraggio del backend e una versione supportata di SQL Server deve essere installata e configurata nel computer prima di poter usare il computer per il monitoraggio .</span><span class="sxs-lookup"><span data-stu-id="e3986-165">The one point to keep in mind is that, before you install monitoring, you must select a computer to host the backend monitoring store, and a supported version of SQL Server must be installing and configured on that computer before that computer can be used for monitoring.</span></span> <span data-ttu-id="e3986-166">Se SQL Server è già installato in un computer e il computer è pronto per l'uso, è possibile installare il monitoraggio contemporaneamente all'installazione di Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="e3986-166">If you have already installed SQL Server on a computer and that computer is ready for use then you can install monitoring at the same time you install Skype for Business Server.</span></span> <span data-ttu-id="e3986-167">Se non si dispone di un computer back-end pronto, è possibile procedere con l'installazione di Skype for Business Server da solo, quindi installare il monitoraggio ogni volta che il computer back-end è pronto per l'uso.</span><span class="sxs-lookup"><span data-stu-id="e3986-167">If you do not have a backend computer ready then you can proceed to install Skype for Business Server by itself, then install monitoring whenever the backend computer is ready for use.</span></span>

 <span data-ttu-id="e3986-168">**Quanti database di monitoraggio backend sono necessari?**</span><span class="sxs-lookup"><span data-stu-id="e3986-168">**How many backend monitoring databases do you need?**</span></span> <span data-ttu-id="e3986-169">È stato valutato che un database collocato sia per il monitoraggio che per l'archiviazione potrebbe supportare gli utenti di 240.000 Skype for Business Server).</span><span class="sxs-lookup"><span data-stu-id="e3986-169">It was estimated that a collocated database for both monitoring and archiving could support 240,000 Skype for Business Server users).</span></span> <span data-ttu-id="e3986-170">Inoltre, un singolo database di monitoraggio può essere usato da più pool Front-end. Se sono presenti tre pool di front-end nell'organizzazione, è possibile associare tutti e tre i pool allo stesso archivio backend.</span><span class="sxs-lookup"><span data-stu-id="e3986-170">In addition, a single monitoring database can be used by multiple Front End pools; if you have three Front End pools in your organization then you could associate all three of those pools with the same backend store.</span></span>

<span data-ttu-id="e3986-171">Per molte organizzazioni, la capacità del database non sarà il fattore decisivo per determinare il numero di database di monitoraggio backend che saranno necessari.</span><span class="sxs-lookup"><span data-stu-id="e3986-171">For many organizations, database capacity will not be the deciding factor when determining the number of backend monitoring databases that will be required.</span></span> <span data-ttu-id="e3986-172">Una considerazione più importante potrebbe invece essere la velocità della rete.</span><span class="sxs-lookup"><span data-stu-id="e3986-172">Instead, a more important consideration could be network speed.</span></span> <span data-ttu-id="e3986-173">Supponiamo di avere tre pool Front-End, ma uno di questi pool si trova in una connessione di rete lenta.</span><span class="sxs-lookup"><span data-stu-id="e3986-173">Suppose you have three Front End pools, but one of those pools is located across a slow network connection.</span></span> <span data-ttu-id="e3986-174">In questo caso, potresti voler usare due database di monitoraggio: un database per il servizio dei due pool con la connessione di rete buona e un database separato per il servizio del pool con la connessione di rete più lenta.</span><span class="sxs-lookup"><span data-stu-id="e3986-174">In that case, you might want to use two monitoring databases: one database to service the two pools with the good network connection, and a separate database to service the pool with the slower network connection.</span></span>

<span data-ttu-id="e3986-175">Dovresti anche tenere in considerazione che Skype for Business Server supporta l'uso dei database mirror.</span><span class="sxs-lookup"><span data-stu-id="e3986-175">You should also take into account that Skype for Business Server supports the use of mirror databases.</span></span> <span data-ttu-id="e3986-176">"Mirroring del database" consente di gestire contemporaneamente due copie di un database, con ogni database che risiede in un server diverso.</span><span class="sxs-lookup"><span data-stu-id="e3986-176">"Database mirroring" provides a way for you to simultaneously maintain two copies of a database, with each database residing on a different server.</span></span> <span data-ttu-id="e3986-177">Ogni volta che i dati vengono scritti in un database primario, anche i dati vengono scritti nel database mirror.</span><span class="sxs-lookup"><span data-stu-id="e3986-177">Any time data is written to a primary database that same data is also written to the mirror database.</span></span> <span data-ttu-id="e3986-178">Se il database primario deve avere esito negativo o in caso contrario diventa non disponibile, è possibile eseguire il failover del database mirror usando un semplice comando di PowerShell per Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="e3986-178">If the primary database should fail or otherwise become unavailable, you can "fail over" to the mirror database by using a simple Skype for Business Server PowerShell command.</span></span> <span data-ttu-id="e3986-179">Ad esempio:</span><span class="sxs-lookup"><span data-stu-id="e3986-179">For example:</span></span>

```PowerShell
Invoke-CsDatabaseFailover -PoolFqdn atl-cs-001.litwareinc.com -DatabaseType "Monitoring" -NewPrincipal "Mirror"
```

<span data-ttu-id="e3986-180">Questo è importante per scopi di pianificazione semplicemente perché il mirroring richiederà di raddoppiare il numero di database necessario: oltre a ogni database principale è necessario un secondo database per fungere da mirror.</span><span class="sxs-lookup"><span data-stu-id="e3986-180">This is important for planning purposes simply because mirroring will require you to double your required number of databases: in addition to each primary database you will need a second database to act as the mirror.</span></span>

 <span data-ttu-id="e3986-181">**I siti di Skype for Business Server necessitano di configurazioni di monitoraggio personalizzate?**</span><span class="sxs-lookup"><span data-stu-id="e3986-181">**Do your Skype for Business Server sites need their own custom monitoring configurations?**</span></span> <span data-ttu-id="e3986-182">Quando si installa Skype for Business Server si installano anche raccolte globali di impostazioni di configurazione CDR e QoE; Queste raccolte globali offrono la possibilità di applicare le stesse impostazioni CDR e QoE all'intera organizzazione.</span><span class="sxs-lookup"><span data-stu-id="e3986-182">When you install Skype for Business Server you also install global collections of CDR and QoE configuration settings; these global collections give you the ability to apply the same CDR and QoE settings to your entire organization.</span></span> <span data-ttu-id="e3986-183">In molti casi, questo sarà sufficiente: spesso si vorrà, ad esempio, avere il monitoraggio CDR abilitato per tutti gli utenti.</span><span class="sxs-lookup"><span data-stu-id="e3986-183">In many cases, this will be sufficient: often-times you will want, say, to have CDR monitoring enabled for all of your users.</span></span>

<span data-ttu-id="e3986-184">Tuttavia, potrebbero esserci anche momenti in cui si vogliono applicare impostazioni diverse a siti diversi.</span><span class="sxs-lookup"><span data-stu-id="e3986-184">However, there might also be times when you want to apply different settings to different sites.</span></span> <span data-ttu-id="e3986-185">Ad esempio, è possibile usare sia il monitoraggio CDR che QoE nel sito Redmond, ma usare solo il monitoraggio CDR nel sito di Dublino.</span><span class="sxs-lookup"><span data-stu-id="e3986-185">For example, perhaps you want to use both CDR and QoE monitoring in your Redmond site, but only use CDR monitoring in your Dublin site.</span></span> <span data-ttu-id="e3986-186">Allo stesso modo, potresti voler mantenere i dati di monitoraggio per 60 giorni nel sito Redmond, ma devi solo mantenere questo tipo di dati per 30 giorni nel sito di Dublino.</span><span class="sxs-lookup"><span data-stu-id="e3986-186">Likewise, you might want to retain monitoring data for 60 days in the Redmond site but only need to maintain this type of data for 30 days in the Dublin site.</span></span> <span data-ttu-id="e3986-187">Skype for Business Server consente di creare raccolte separate di impostazioni di configurazione CDR e QoE nell'ambito del sito. che consente di gestire ogni sito in modo diverso.</span><span class="sxs-lookup"><span data-stu-id="e3986-187">Skype for Business Server allows you to create separate collections of CDR and QoE configuration settings at the site scope; that enables you to manage each site differently.</span></span> <span data-ttu-id="e3986-188">(Questo include sia l'abilitazione che la disabilitazione del monitoraggio, nonché la configurazione delle impostazioni di gestione, ad esempio il periodo di conservazione dei dati).</span><span class="sxs-lookup"><span data-stu-id="e3986-188">(This includes both enabling and disabling monitoring as well as configuring management settings such as how long data is to be retained.)</span></span>

<span data-ttu-id="e3986-189">Tieni presente che puoi prendere questa decisione prima di distribuire il monitoraggio o dopo la distribuzione del monitoraggio.</span><span class="sxs-lookup"><span data-stu-id="e3986-189">Note that you can make this decision before you deploy monitoring or after you deploy monitoring.</span></span> <span data-ttu-id="e3986-190">Ad esempio, puoi distribuire il monitoraggio e quindi gestire l'intera organizzazione usando le impostazioni globali.</span><span class="sxs-lookup"><span data-stu-id="e3986-190">For example, you can deploy monitoring and then manage the entire organization by using the global settings.</span></span> <span data-ttu-id="e3986-191">Se in seguito si cambia idea, è possibile creare una raccolta distinta di impostazioni per, ad esempio, il sito Redmond e quindi usare queste impostazioni per gestire il monitoraggio di Redmond.</span><span class="sxs-lookup"><span data-stu-id="e3986-191">If you later change your mind, you can create a separate collection of settings for, say, the Redmond site, and then use those settings to manage monitoring for Redmond.</span></span> <span data-ttu-id="e3986-192">Le impostazioni applicate nell'ambito del sito hanno sempre la precedenza sulle impostazioni applicate nell'ambito globale. Se si cambia idea, è possibile semplicemente eliminare le impostazioni di configurazione applicate al sito Redmond.</span><span class="sxs-lookup"><span data-stu-id="e3986-192">(Settings applied at the site scope always take precedence over settings applied at the global scope.) If you change your mind again, you can simply delete the configuration settings applied to the Redmond site.</span></span> <span data-ttu-id="e3986-193">Quando viene rimossa una raccolta di impostazioni del sito, la raccolta globale delle impostazioni verrà applicata automaticamente a tale sito.</span><span class="sxs-lookup"><span data-stu-id="e3986-193">When a collection of site settings is removed then the global collection of settings will automatically be applied to that site.</span></span>

## <a name="sql-requirements-for-monitoring"></a><span data-ttu-id="e3986-194">Requisiti SQL per il monitoraggio</span><span class="sxs-lookup"><span data-stu-id="e3986-194">SQL requirements for monitoring</span></span>
<span data-ttu-id="e3986-195"><a name="topologies"> </a></span><span class="sxs-lookup"><span data-stu-id="e3986-195"></span></span>

<span data-ttu-id="e3986-196">Gli agenti di raccolta dati unificati vengono installati e attivati automaticamente in ogni server front-end quando si Abilita il monitoraggio.</span><span class="sxs-lookup"><span data-stu-id="e3986-196">The unified data collection agents are automatically installed and activated on each Front End server when you enable Monitoring.</span></span> <span data-ttu-id="e3986-197">Per le versioni supportate di SQL Server e altri dettagli, vedere [requisiti del server per Skype for Business server 2015](requirements-for-your-environment/server-requirements.md)</span><span class="sxs-lookup"><span data-stu-id="e3986-197">For supported versions of SQL Server and other details, see [Server requirements for Skype for Business Server 2015](requirements-for-your-environment/server-requirements.md)</span></span>

<span data-ttu-id="e3986-198">I dati di monitoraggio possono condividere un'istanza di SQL Server con altri tipi di dati.</span><span class="sxs-lookup"><span data-stu-id="e3986-198">Monitoring data can share a SQL Server instance with other types of data.</span></span> <span data-ttu-id="e3986-199">In genere, il database di registrazione dei dettagli delle chiamate (LcsCdr) e la qualità del database di Experience (QoEMetrics) condividono la stessa istanza SQL. è inoltre comune che i due database di monitoraggio siano nella stessa istanza SQL del database di archiviazione (LcsLog).</span><span class="sxs-lookup"><span data-stu-id="e3986-199">Typically, the call detail recording database (LcsCdr) and the Quality of Experience database (QoEMetrics) share the same SQL instance; it is also common for the two monitoring databases to be in the same SQL instance as the archiving database (LcsLog).</span></span> <span data-ttu-id="e3986-200">Informazioni sull'unico requisito reale delle istanze di SQL Server è che una qualsiasi istanza di SQL Server è limitata alle seguenti:</span><span class="sxs-lookup"><span data-stu-id="e3986-200">About the only real requirement with SQL Server instances is that any one instance of SQL Server is limited to the following:</span></span>

- <span data-ttu-id="e3986-201">Un'istanza del database back-end di Skype for Business Server 2015.</span><span class="sxs-lookup"><span data-stu-id="e3986-201">One instance of the Skype for Business Server 2015 backend database.</span></span> <span data-ttu-id="e3986-202">Come regola generale, non è consigliabile che il database di monitoraggio sia collocato nella stessa istanza SQL o anche nello stesso computer, come database back-end.</span><span class="sxs-lookup"><span data-stu-id="e3986-202">(As a general rule, it is not recommended that your monitoring database be collocated in the same SQL instance, or even on the same computer, as the backend database.</span></span> <span data-ttu-id="e3986-203">Anche se tecnicamente è possibile, si corre il rischio che il database di monitoraggio usi lo spazio su disco necessario per il database back-end.</span><span class="sxs-lookup"><span data-stu-id="e3986-203">Although technically possible, you run the risk of the monitoring database using up disk space needed by the backend database.)</span></span>

- <span data-ttu-id="e3986-204">Un'istanza del database di registrazione dei dettagli delle chiamate.</span><span class="sxs-lookup"><span data-stu-id="e3986-204">One instance of the call detail recording database.</span></span>

- <span data-ttu-id="e3986-205">Un'istanza del database Quality of Experience.</span><span class="sxs-lookup"><span data-stu-id="e3986-205">One instance of the Quality of Experience database.</span></span>

- <span data-ttu-id="e3986-206">Un'istanza del database di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="e3986-206">One instance of the archiving database.</span></span>

<span data-ttu-id="e3986-207">In altre parole, non è possibile avere due istanze del database LcsCdr nella stessa istanza di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e3986-207">In other words, you can't have two instances of the LcsCdr database in the same instance of SQL Server.</span></span> <span data-ttu-id="e3986-208">Se sono necessarie più istanze del database di LcsCdr, è necessario configurare più istanze di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e3986-208">If you need multiple instances of the LcsCdr database then you need to configure multiple instances of SQL Server.</span></span>

## <a name="see-also"></a><span data-ttu-id="e3986-209">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="e3986-209">See also</span></span>


[<span data-ttu-id="e3986-210">Distribuzione del monitoraggio</span><span class="sxs-lookup"><span data-stu-id="e3986-210">Deploying Monitoring</span></span>](https://technet.microsoft.com/library/117f4a3e-0670-4388-a553-b9854921145f.aspx)
