---
title: Requisiti di sistema di Edge Server in Skype for Business Server
ms.reviewer: ''
ms.author: v-lanac
author: lanachin
audience: ITPro
ms.topic: conceptual
manager: serdars
ms.prod: skype-for-business-itpro
f1.keywords:
- NOCSH
localization_priority: Normal
ms.collection:
- IT_Skype16
- Strat_SB_Hybrid
ms.custom: ''
ms.assetid: ed53a566-0504-46f9-81a7-116a637833af
description: 'Riepilogo: informazioni sui requisiti di sistema per Edge Server in Skype for Business Server.'
ms.openlocfilehash: 4ef2feeb2b486bc9be9f4eb59136d74ef542dd31
ms.sourcegitcommit: e64c50818cac37f3d6f0f96d0d4ff0f4bba24aef
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 02/06/2020
ms.locfileid: "41803316"
---
# <a name="edge-server-system-requirements-in-skype-for-business-server"></a><span data-ttu-id="ccc5e-103">Requisiti di sistema di Edge Server in Skype for Business Server</span><span class="sxs-lookup"><span data-stu-id="ccc5e-103">Edge Server system requirements in Skype for Business Server</span></span>
 
<span data-ttu-id="ccc5e-104">**Riepilogo:** Informazioni sui requisiti di sistema per Edge Server in Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-104">**Summary:** Learn about the system requirements for Edge Server in Skype for Business Server.</span></span>
  
<span data-ttu-id="ccc5e-105">Per quanto riguarda la distribuzione di Skype for Business Server Edge Server, queste sono le operazioni che è necessario eseguire per il server o i server che si trovano nell'ambiente stesso e per la pianificazione della struttura dell'ambiente.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-105">When it comes to your Skype for Business Server Edge Server deployment, these are the things you'll need to do for the server or servers that are in the environment itself, as well as planning for the environment structure.</span></span> <span data-ttu-id="ccc5e-106">Per altre informazioni su topologia, DNS, certificati e altri problemi relativi all'infrastruttura, vedere la documentazione relativa ai requisiti ambientali.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-106">For more information on topology, DNS, certificates, and other infrastructure concerns, check out the environmental requirements documentation.</span></span>
  
## <a name="components"></a><span data-ttu-id="ccc5e-107">Componenti</span><span class="sxs-lookup"><span data-stu-id="ccc5e-107">Components</span></span>

<span data-ttu-id="ccc5e-108">Quando discutiamo dell'ambiente Edge Server, stiamo facendo riferimento a componenti che, per la maggior parte, sono distribuiti in una rete perimetrale (vale a dire che si trova in un gruppo di lavoro o in un dominio esterno alla struttura del dominio di Skype for Business Server).</span><span class="sxs-lookup"><span data-stu-id="ccc5e-108">When discussing the Edge Server environment, we're referencing components that are, for the most part, deployed in a perimeter network (that's to say it's either in a workgroup or a domain that's outside your Skype for Business Server domain structure).</span></span>
  
<span data-ttu-id="ccc5e-109">Tenendo presente quanto segue, questi sono i componenti da tenere presenti per la distribuzione del bordo correttamente:</span><span class="sxs-lookup"><span data-stu-id="ccc5e-109">Keeping that in mind, these are the components you're going to need to keep in mind for deploying your Edge successfully:</span></span>
  
- [<span data-ttu-id="ccc5e-110">Edge Server</span><span class="sxs-lookup"><span data-stu-id="ccc5e-110">Edge Servers</span></span>](system-requirements.md#EdgeServers)
    
- [<span data-ttu-id="ccc5e-111">Reverse proxy</span><span class="sxs-lookup"><span data-stu-id="ccc5e-111">Reverse proxies</span></span>](system-requirements.md#ReverseProxies)
    
- [<span data-ttu-id="ccc5e-112">Firewall</span><span class="sxs-lookup"><span data-stu-id="ccc5e-112">Firewalls</span></span>](system-requirements.md#Firewalls)
    
- <span data-ttu-id="ccc5e-113">[Amministratori](system-requirements.md#Directors) (questi sono facoltativi e, se inclusi, verranno posizionati nella rete interna)</span><span class="sxs-lookup"><span data-stu-id="ccc5e-113">[Directors](system-requirements.md#Directors) (these are optional, and if they're included, they'll be located on your internal network)</span></span>
    
- <span data-ttu-id="ccc5e-114">[Bilanciamento](system-requirements.md#LoadBalancers) del carico (è possibile avere il bilanciamento del carico DNS o un servizio di bilanciamento del carico hardware (HLB), ma per un singolo Edge Server non è necessario)</span><span class="sxs-lookup"><span data-stu-id="ccc5e-114">[Load Balancers](system-requirements.md#LoadBalancers) (you can have DNS load balancing or a hardware load balancer (HLB), but for a single Edge Server, this isn't needed)</span></span>
    
<span data-ttu-id="ccc5e-115">Abbiamo più dettagli su ognuno di essi:</span><span class="sxs-lookup"><span data-stu-id="ccc5e-115">We have more detail on each of these below:</span></span>
  
### <a name="edge-servers"></a><span data-ttu-id="ccc5e-116">Edge Server</span><span class="sxs-lookup"><span data-stu-id="ccc5e-116">Edge Servers</span></span>
<span data-ttu-id="ccc5e-117"><a name="EdgeServers"> </a></span><span class="sxs-lookup"><span data-stu-id="ccc5e-117"><a name="EdgeServers"> </a></span></span>

<span data-ttu-id="ccc5e-118">Questi sono i server Skype for business distribuiti nell'ambiente perimetrale.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-118">These are the Skype for Business servers deployed in your perimeter environment.</span></span> <span data-ttu-id="ccc5e-119">Il loro ruolo consiste nell'inviare e ricevere traffico di rete a utenti esterni per i servizi offerti dalla distribuzione interna di Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-119">Their role is to send and receive network traffic to external users for the services offered by your internal Skype for Business Server deployment.</span></span> <span data-ttu-id="ccc5e-120">A tale scopo, ogni server perimetrale viene eseguito:</span><span class="sxs-lookup"><span data-stu-id="ccc5e-120">To do this successfully, each Edge Server runs:</span></span>
  
- <span data-ttu-id="ccc5e-121">**Access Edge Services**: fornisce un singolo punto di connessione attendibile per il traffico SIP (Session Initiation Protocol) in uscita e in ingresso.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-121">**Access Edge service**: Provides a single, trusted connection point for both outbound and inbound Session Initiation Protocol (SIP) traffic.</span></span>
    
- <span data-ttu-id="ccc5e-122">**Web Conferencing Edge Services**: consente agli utenti esterni di partecipare a riunioni ospitate nell'ambiente interno di Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-122">**Web Conferencing Edge service**: Enables external users to join meetings that are hosted on your internal Skype for Business Server environment.</span></span>
    
- <span data-ttu-id="ccc5e-123">**A/V Edge Services**: rende disponibili audio, video, condivisione applicazioni e trasferimento di file per gli utenti esterni.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-123">**A/V Edge service**: Makes audio, video, application sharing and file transfer available to external users.</span></span>
    
- <span data-ttu-id="ccc5e-124">**Servizio proxy XMPP**: accetta e invia i messaggi XMPP (Extensible Messaging and Presence Protocol) a e da partner FEDERAtivi XMPP configurati.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-124">**XMPP Proxy service**: Accepts and sends extensible messaging and presence protocol (XMPP) messages to and from configured XMPP Federated partners.</span></span>
    
<span data-ttu-id="ccc5e-125">Gli utenti esterni autorizzati possono usare gli Edge Server per connettersi alla distribuzione interna di Skype for Business Server, ma in caso contrario, non offre altro accesso alla rete interna per chiunque.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-125">Authorized external users can use your Edge Servers to connect to your internal Skype for Business Server deployment, but otherwise, they provide no other access to your internal network for anyone.</span></span>
  
> [!NOTE]
> <span data-ttu-id="ccc5e-126">I server perimetrali vengono distribuiti per consentire connessioni per client Skype for business abilitati e altri Edge Server (in scenari federativi).</span><span class="sxs-lookup"><span data-stu-id="ccc5e-126">Edge Servers are deployed to provide connections for enabled Skype for Business clients and other Edge Servers (in federation scenarios).</span></span> <span data-ttu-id="ccc5e-127">Non è possibile connettersi da altri tipi di client o server di fine Point.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-127">You can't connect from other end point client or server types.</span></span> <span data-ttu-id="ccc5e-128">Il server gateway XMPP può consentire connessioni con partner XMPP configurati.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-128">The XMPP Gateway server can allow connections with configured XMPP partners.</span></span> <span data-ttu-id="ccc5e-129">Ma di nuovo, questi sono gli unici tipi di client e federazioni che funzioneranno.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-129">But again, those are the only client and federation types that will work.</span></span> 

> [!NOTE]
> <span data-ttu-id="ccc5e-130">I gateway e i proxy XMPP sono disponibili in Skype for Business Server 2015, ma non sono più supportati in Skype for Business Server 2019.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-130">XMPP Gateways and proxies are available in Skype for Business Server 2015 but are no longer supported in Skype for Business Server 2019.</span></span> <span data-ttu-id="ccc5e-131">Per altre informazioni, Vedi [migrazione della Federazione XMPP](../../../SfBServer2019/migration/migrating-xmpp-federation.md) .</span><span class="sxs-lookup"><span data-stu-id="ccc5e-131">See [Migrating XMPP federation](../../../SfBServer2019/migration/migrating-xmpp-federation.md) for more information.</span></span>
  
### <a name="reverse-proxies"></a><span data-ttu-id="ccc5e-132">Reverse proxy</span><span class="sxs-lookup"><span data-stu-id="ccc5e-132">Reverse proxies</span></span>
<span data-ttu-id="ccc5e-133"><a name="ReverseProxies"> </a></span><span class="sxs-lookup"><span data-stu-id="ccc5e-133"><a name="ReverseProxies"> </a></span></span>

<span data-ttu-id="ccc5e-134">Un proxy inverso (RP) Server non ha un ruolo di Skype for Business Server, ma è un componente essenziale di una distribuzione di Edge Server.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-134">A reverse proxy (RP) server has no Skype for Business Server role, but is an essential component of an Edge Server deployment.</span></span> <span data-ttu-id="ccc5e-135">Un proxy inverso consente agli utenti esterni di:</span><span class="sxs-lookup"><span data-stu-id="ccc5e-135">A reverse proxy allows external users to:</span></span>
  
- <span data-ttu-id="ccc5e-136">connettersi a riunioni o conferenze telefoniche con accesso esterno usando semplici URL.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-136">connect to meetings or dial-in conferences using simple URLs.</span></span>
    
- <span data-ttu-id="ccc5e-137">scaricare il contenuto della riunione.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-137">download meeting content.</span></span>
    
- <span data-ttu-id="ccc5e-138">espandere gruppi di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-138">expand distribution groups.</span></span>
    
- <span data-ttu-id="ccc5e-139">ottenere certificati basati sull'utente per l'autenticazione basata su certificato client</span><span class="sxs-lookup"><span data-stu-id="ccc5e-139">get user-based certificates for client certificate based authentication</span></span>
    
- <span data-ttu-id="ccc5e-140">scaricare i file dal server della rubrica oppure inviare query al servizio query Web Rubrica.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-140">download files from the Address Book Server, or to submit queries to the Address Book Web Query service.</span></span>
    
- <span data-ttu-id="ccc5e-141">ottenere gli aggiornamenti per il software client e dispositivo.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-141">obtain updates to client and device software.</span></span>
    
<span data-ttu-id="ccc5e-142">E per i dispositivi mobili:</span><span class="sxs-lookup"><span data-stu-id="ccc5e-142">And for mobile devices:</span></span>
  
- <span data-ttu-id="ccc5e-143">consente loro di individuare automaticamente i server front-end che offrono servizi di mobilità.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-143">it lets them automatically discover Front End Servers offering mobility services.</span></span>
    
- <span data-ttu-id="ccc5e-144">consente le notifiche push da Office 365 ai dispositivi mobili.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-144">it enables push notifications from Office 365 to mobile devices.</span></span>
    
<span data-ttu-id="ccc5e-145">Le nostre raccomandazioni di proxy inversa correnti si trovano nella pagina [infrastrutture telefonia per Skype for business](https://docs.microsoft.com/SkypeForBusiness/certification/infra-gateways) .</span><span class="sxs-lookup"><span data-stu-id="ccc5e-145">Our current reverse proxy recommendations can be found on the [Telephony Infrastructure for Skype for Business](https://docs.microsoft.com/SkypeForBusiness/certification/infra-gateways) page.</span></span> <span data-ttu-id="ccc5e-146">Quindi il proxy inverso:</span><span class="sxs-lookup"><span data-stu-id="ccc5e-146">So your reverse proxy:</span></span>
  
- <span data-ttu-id="ccc5e-147">dovrebbe essere in grado di usare Transport Layer Security (TLS) introdotto nell'ambiente tramite certificati pubblici per connettersi ai servizi Web esterni pubblicati:</span><span class="sxs-lookup"><span data-stu-id="ccc5e-147">should be able to use transport layer security (TLS) that's introduced to your environment via public certificates to connect to the published external Web services of:</span></span>
    
  - <span data-ttu-id="ccc5e-148">Pool di Director o Director</span><span class="sxs-lookup"><span data-stu-id="ccc5e-148">Director or Director pool</span></span>
    
  - <span data-ttu-id="ccc5e-149">Server front-end o pool Front-End</span><span class="sxs-lookup"><span data-stu-id="ccc5e-149">Front End Server or Front End pool</span></span>
    
- <span data-ttu-id="ccc5e-150">deve essere in grado di pubblicare siti Web interni usando certificati per la crittografia oppure pubblicarli su mezzi non crittografati, se necessario.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-150">needs to be able to publish internal Web sites using certificates for encryption, or publish them over an unencrypted means, if needed.</span></span>
    
- <span data-ttu-id="ccc5e-151">dovrebbe essere in grado di pubblicare un sito Web ospitato internamente esternamente usando un nome di dominio completo (FQDN).</span><span class="sxs-lookup"><span data-stu-id="ccc5e-151">should be able to publish an internally hosted web site externally by using a fully qualified domain name (FQDN).</span></span>
    
- <span data-ttu-id="ccc5e-152">deve essere in grado di pubblicare tutti i contenuti del sito Web ospitato.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-152">needs to be able to publish all the contents of your hosted web site.</span></span> <span data-ttu-id="ccc5e-153">Per impostazione predefinita, puoi usare la \*\* / \*\*direttiva \*, riconosciuta dalla maggior parte dei server Web per indicare "pubblica tutto il contenuto sul server Web".</span><span class="sxs-lookup"><span data-stu-id="ccc5e-153">By default, you can use the **/\\**\* directive, which is recognized by most web servers to mean "Publish all content on the web server."</span></span> <span data-ttu-id="ccc5e-154">È anche possibile modificare la direttiva, ad esempio \* */Uwca/\\* \* \*, che significa "pubblica tutto il contenuto nella directory virtuale UCWA".</span><span class="sxs-lookup"><span data-stu-id="ccc5e-154">You can also modify the directive—for example, \*\*/Uwca/\\*\*\*, which means "Publish all content under the virtual directory Ucwa."</span></span>
    
- <span data-ttu-id="ccc5e-155">deve richiedere connessioni TLS con client che richiedono contenuto dal sito Web pubblicato.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-155">must require TLS connections with clients that request content from your published website.</span></span>
    
- <span data-ttu-id="ccc5e-156">deve accettare i certificati con le voci di nome alternativo soggetto (SAN).</span><span class="sxs-lookup"><span data-stu-id="ccc5e-156">has to accept certificates with subject alternative name (SAN) entries.</span></span>
    
- <span data-ttu-id="ccc5e-157">deve essere in grado di consentire il binding di un certificato a un listener o un'interfaccia tramite cui verrà risolto l'FQDN dei servizi Web esterni.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-157">needs to be able to allow the binding of a certificate to a listener or interface through which the external web services FQDN will resolve.</span></span> <span data-ttu-id="ccc5e-158">Le configurazioni dei listener sono preferibili alle interfacce.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-158">Listener configurations are preferable to interfaces.</span></span> <span data-ttu-id="ccc5e-159">Molti listener possono essere configurati in una singola interfaccia.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-159">Many listeners can be configured on a single interface.</span></span>
    
- <span data-ttu-id="ccc5e-160">deve consentire la configurazione della gestione delle intestazioni host.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-160">must allow for the configuration of host header handling.</span></span> <span data-ttu-id="ccc5e-161">Spesso l'intestazione host originale inviata dal client richiedente deve essere passata in modo trasparente, invece di essere modificata dal proxy inverso.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-161">Often, the original host header sent by the requesting client must be passed transparently, instead of being modified by the reverse proxy.</span></span>
    
- <span data-ttu-id="ccc5e-162">dovrebbe consentire il bridging del traffico TLS da una porta definita esternamente, ad esempio TCP 443, a un'altra porta definita, ad esempio TCP 4443.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-162">should allow bridging of TLS traffic from one externally defined port (for example, TCP 443) to another defined port (for example, TCP 4443).</span></span> <span data-ttu-id="ccc5e-163">Il proxy inverso può decrittografare il pacchetto alla ricezione e quindi ricrittografare il pacchetto all'invio.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-163">Your reverse proxy may decrypt the packet on receipt and then reencrypt the packet on sending.</span></span>
    
- <span data-ttu-id="ccc5e-164">dovrebbe consentire il bridging del traffico TCP non crittografato da una porta, ad esempio TCP 80, a un'altra (ad esempio, TCP 8080).</span><span class="sxs-lookup"><span data-stu-id="ccc5e-164">should allow bridging of unencrypted TCP traffic from one port (for example, TCP 80) to another (for example, TCP 8080).</span></span>
    
- <span data-ttu-id="ccc5e-165">deve consentire la configurazione di, o accettare, l'autenticazione NTLM, nessuna autenticazione e l'autenticazione pass-through.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-165">needs to allow configuration of, or accept, NTLM authentication, no authentication, and pass-through authentication.</span></span>
    
<span data-ttu-id="ccc5e-166">Se il proxy inverso è in grado di rispondere a tutte le esigenze in questo elenco, è consigliabile procedere, ma tenere presenti le raccomandazioni sul collegamento indicato sopra.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-166">If your reverse proxy can address all the needs in this list, you should be good to go, but please keep in mind our recommendations at the link provided above.</span></span>
  
### <a name="firewalls"></a><span data-ttu-id="ccc5e-167">Firewall</span><span class="sxs-lookup"><span data-stu-id="ccc5e-167">Firewalls</span></span>
<span data-ttu-id="ccc5e-168"><a name="Firewalls"> </a></span><span class="sxs-lookup"><span data-stu-id="ccc5e-168"><a name="Firewalls"> </a></span></span>

<span data-ttu-id="ccc5e-169">È necessario inserire la distribuzione di Edge dietro un firewall esterno, ma è consigliabile avere due firewall, uno esterno e uno interno tra l'ambiente Edge e l'ambiente interno.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-169">You need to put your Edge deployment behind an external firewall, but we recommend having two firewalls, one external, and one internal between the Edge environment and your internal environment.</span></span> <span data-ttu-id="ccc5e-170">Tutta la documentazione degli scenari include due firewall.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-170">All our documentation in our Scenarios will have two firewalls.</span></span> <span data-ttu-id="ccc5e-171">È consigliabile disporre di due firewall perché garantisce un routing rigoroso da un bordo di rete all'altro e raddoppia la protezione firewall per la rete interna.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-171">We recommend two firewalls because it ensures strict routing from one network edge to the other, and doubles the firewall protection for your internal network.</span></span>
  
### <a name="directors"></a><span data-ttu-id="ccc5e-172">Consiglio</span><span class="sxs-lookup"><span data-stu-id="ccc5e-172">Directors</span></span>
<span data-ttu-id="ccc5e-173"><a name="Directors"> </a></span><span class="sxs-lookup"><span data-stu-id="ccc5e-173"><a name="Directors"> </a></span></span>

<span data-ttu-id="ccc5e-174">Si tratta di un ruolo facoltativo.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-174">This is an optional role.</span></span> <span data-ttu-id="ccc5e-175">Può essere un singolo server o un pool di server che gestiscono il ruolo Director.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-175">It can be a single server or a pool of servers running the Director role.</span></span> <span data-ttu-id="ccc5e-176">Si tratta di un ruolo trovato nell'ambiente interno di Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-176">It's a role found on the internal Skype for Business Server environment.</span></span>
  
<span data-ttu-id="ccc5e-177">Il Director è un server hop interno successivo che riceve il traffico SIP in ingresso dagli Edge Server destinati ai server interni di Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-177">The Director is an internal next hop server which receives inbound SIP traffic from the Edge Servers that's destined for Skype for Business Server internal servers.</span></span> <span data-ttu-id="ccc5e-178">Effettua la preautenticazione delle richieste in ingresso e le reindirizza al server o al pool Home di un utente.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-178">It preauthenticates inbound requests and redirects them to a user's home pool or server.</span></span> <span data-ttu-id="ccc5e-179">Questa preautenticazione consente di eliminare le richieste di account utente non identificate.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-179">This preauthentication allows you to drop unidentified user account requests.</span></span>
  
<span data-ttu-id="ccc5e-180">Perché è importante?</span><span class="sxs-lookup"><span data-stu-id="ccc5e-180">Why does that matter?</span></span> <span data-ttu-id="ccc5e-181">Una funzione importante per un amministratore consiste nel proteggere i server standard e i server front-end o i pool Front-end da traffico illecito, ad esempio attacchi DoS (Denial of Service).</span><span class="sxs-lookup"><span data-stu-id="ccc5e-181">An important function for a Director is to protect Standard Edition servers and Front End Servers or Front End pools from malicious traffic, such as denial-of-service (DoS) attacks.</span></span> <span data-ttu-id="ccc5e-182">Se la rete è inondata da traffico esterno non valido, il traffico si arresta presso il direttore.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-182">If your network is flooded with invalid external traffic, the traffic stops at the Director.</span></span>
  
### <a name="load-balancers"></a><span data-ttu-id="ccc5e-183">Bilanciamento del carico</span><span class="sxs-lookup"><span data-stu-id="ccc5e-183">Load Balancers</span></span>
<span data-ttu-id="ccc5e-184"><a name="LoadBalancers"> </a></span><span class="sxs-lookup"><span data-stu-id="ccc5e-184"><a name="LoadBalancers"> </a></span></span>

<span data-ttu-id="ccc5e-185">La topologia di Edge consolidato di Skype for Business Server è ottimizzata per il bilanciamento del carico DNS per le nuove distribuzioni ed è consigliabile.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-185">The Skype for Business Server scaled consolidated Edge topology is optimized for DNS load balancing for new deployments, and we recommend this.</span></span> <span data-ttu-id="ccc5e-186">Se è necessaria una disponibilità elevata, è consigliabile usare un bilanciamento del carico hardware per una situazione specifica:</span><span class="sxs-lookup"><span data-stu-id="ccc5e-186">If you need high availability, we recommend using a hardware load balancer for one specific situation:</span></span>
  
- <span data-ttu-id="ccc5e-187">Messaggistica unificata di Exchange per gli utenti remoti con messaggistica unificata di Exchange **prima** di Exchange 2013.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-187">Exchange UM for remote users using Exchange UM **prior** to Exchange 2013.</span></span>
    
> [!IMPORTANT]
> <span data-ttu-id="ccc5e-188">È importante tenere presente che non è possibile combinare i carichi di bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-188">It's vital to note that you can't mix load-balancers.</span></span> <span data-ttu-id="ccc5e-189">Nell'ambiente Skype for Business Server tutte le interfacce devono usare DNS o HLB.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-189">In your Skype for Business Server environment all interfaces must use either DNS or HLB.</span></span> 
  
> [!NOTE]
> <span data-ttu-id="ccc5e-190">Direct Server Return (DSR) NAT non è supportato per Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-190">Direct server return (DSR) NAT isn't supported for Skype for Business Server.</span></span> 
  
#### <a name="hardware-load-balancer-requirements-for-edge-servers-edge-servers-running-the-av-edge-service"></a><span data-ttu-id="ccc5e-191">requisiti di bilanciamento del carico hardware per Edge Server Edge Server che utilizzano il servizio A/V Edge</span><span class="sxs-lookup"><span data-stu-id="ccc5e-191">hardware load balancer requirements for Edge Servers Edge Servers running the A/V Edge service</span></span>

<span data-ttu-id="ccc5e-192">Per qualsiasi server perimetrale che esegue il servizio A/V Edge, questi sono i requisiti seguenti:</span><span class="sxs-lookup"><span data-stu-id="ccc5e-192">For any Edge Server running the A/V Edge service, these are the requirements:</span></span>
  
- <span data-ttu-id="ccc5e-193">Disattivare TCP nagling per le porte interne ed esterne 443 (Nagling è il processo di combinazione di diversi piccoli pacchetti in un singolo pacchetto più grande per una trasmissione più efficiente).</span><span class="sxs-lookup"><span data-stu-id="ccc5e-193">Turn off TCP nagling for both internal and external ports 443 (nagling is the process of combining several small packets into a single, larger packet for more efficient transmission).</span></span>
    
- <span data-ttu-id="ccc5e-194">Disattivare TCP nagling per l'intervallo di porte esterne 50000-59999.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-194">Turn off TCP nagling for the external port range 50000 - 59999.</span></span>
    
- <span data-ttu-id="ccc5e-195">Non usare NAT nei firewall interni o esterni.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-195">Don't use NAT on your internal or external firewalls.</span></span>
    
- <span data-ttu-id="ccc5e-196">L'interfaccia interna del bordo deve essere in una rete diversa rispetto all'interfaccia esterna del server perimetrale e il routing tra di essi deve essere disabilitato.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-196">Your Edge internal interface must be on a different network than your Edge Server external interface, and routing between them must be disabled.</span></span>
    
- <span data-ttu-id="ccc5e-197">L'interfaccia esterna di qualsiasi Edge Server che usa il servizio A/V Edge deve usare indirizzi IP instradabili pubblicamente e nessuna traduzione NAT o Port in uno degli indirizzi IP esterni di Edge.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-197">The external interface of any Edge Server running the A/V Edge service must use publicly routable IP addresses and no NAT or port translation on any of the Edge external IP addresses.</span></span>
    
#### <a name="hlb-requirements"></a><span data-ttu-id="ccc5e-198">Requisiti di HLB</span><span class="sxs-lookup"><span data-stu-id="ccc5e-198">HLB requirements</span></span>

<span data-ttu-id="ccc5e-199">Skype for Business Server non ha molti requisiti di affinità basati su cookie.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-199">Skype for Business Server doesn't have a lot of cookie-based affinity requirements.</span></span> <span data-ttu-id="ccc5e-200">Non è quindi necessario usare una persistenza basata su cookie a **meno** che (e questo è Skype for Business Server 2015-specifico) che si vuole avere Lync Server 2010 Front-End Server o pool Front-end nell'ambiente di Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-200">So you don't need to use a cookie-based persistence **unless** (and this is Skype for Business Server 2015-specific) you're going to have Lync Server 2010 Front End Servers or Front End pools in your Skype for Business Server environment.</span></span> <span data-ttu-id="ccc5e-201">Avrebbero bisogno di affinità basata su cookie nel metodo di configurazione consigliato per Lync Server 2010.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-201">They would need cookie-based affinity in the configuration method recommended for Lync Server 2010.</span></span>
  
> [!NOTE]
> <span data-ttu-id="ccc5e-202">Se si decide di attivare l'affinità basata su cookie per il proprio HLB, non si verifica un problema, anche se l'ambiente non ne ha bisogno.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-202">If you decide to turn cookie-based affinity on for your HLB, there won't be a problem doing so, even if your environment doesn't need it.</span></span> 
  
<span data-ttu-id="ccc5e-203">Se nell'ambiente **non** è necessaria l'affinità basata su cookie:</span><span class="sxs-lookup"><span data-stu-id="ccc5e-203">If your environment **doesn't** need cookie-based affinity:</span></span>
  
- <span data-ttu-id="ccc5e-204">Nella regola di pubblicazione del proxy inverso per la porta 443 impostare **Inoltra intestazione host** su **true**.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-204">On the reverse proxy publishing rule for port 443, set **Forward host header** to **True**.</span></span> <span data-ttu-id="ccc5e-205">In questo modo verrà inoltrato l'URL originale.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-205">This will ensure the original URL is forwarded.</span></span>
    
<span data-ttu-id="ccc5e-206">Per le distribuzioni **che richiedono** affinità basate su cookie:</span><span class="sxs-lookup"><span data-stu-id="ccc5e-206">For deployments that **do** need cookie-based affinity:</span></span>
  
- <span data-ttu-id="ccc5e-207">Nella regola di pubblicazione del proxy inverso per la porta 443 impostare **Inoltra intestazione host** su **true**.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-207">On the reverse proxy publishing rule for port 443, set **Forward host header** to **True**.</span></span> <span data-ttu-id="ccc5e-208">In questo modo verrà inoltrato l'URL originale.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-208">This will ensure the original URL is forwarded.</span></span>
    
- <span data-ttu-id="ccc5e-209">Il cookie di bilanciamento del carico hardware **non deve** essere contrassegnato come HttpOnly.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-209">The hardware load balancer cookie **must not** be marked httpOnly.</span></span>
    
- <span data-ttu-id="ccc5e-210">Il cookie di bilanciamento del carico hardware **non deve** avere una data di scadenza.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-210">The hardware load balancer cookie **must not** have an expiration time.</span></span>
    
- <span data-ttu-id="ccc5e-211">Il cookie del servizio di bilanciamento del carico hardware **deve** essere denominato **MS-WSMan** (questo è il valore previsto per i servizi Web e non può essere modificato).</span><span class="sxs-lookup"><span data-stu-id="ccc5e-211">The hardware load balancer cookie **must** be named **MS-WSMAN** (this is the value that the Web services expect, and it can't be changed).</span></span>
    
- <span data-ttu-id="ccc5e-212">Il cookie di bilanciamento del carico hardware **deve** essere impostato in tutte le risposte http per cui la richiesta HTTP in arrivo non ha un cookie, indipendentemente dal fatto che una risposta http precedente sulla stessa connessione TCP abbia ottenuto un cookie.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-212">The hardware load balancer cookie **must** be set in every HTTP response for which the incoming HTTP request didn't have a cookie, regardless of whether a previous HTTP response on that same TCP connection had gotten a cookie.</span></span> <span data-ttu-id="ccc5e-213">Se il dispositivo di bilanciamento del carico hardware ottimizza l'inserimento del cookie per eseguire una sola volta per ogni connessione TCP, **non deve** essere usata l'ottimizzazione.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-213">If your hardware load balancer optimizes cookie insert to only occur once per TCP connection, that optimization **must not** be used.</span></span>
    
> [!NOTE]
> <span data-ttu-id="ccc5e-214">È tipico delle configurazioni di HLB usare l'affinità di origine e la durata della sessione TCP di 20 minuti, che va bene per Skype for Business Server e i suoi clienti, perché lo stato della sessione viene mantenuto tramite l'utilizzo del client e/o l'interazione tra applicazioni.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-214">It's typical for HLB configurations to use source-affinity and 20 minute TCP session lifetime, which is fine for Skype for Business Server and its clients, because session state is maintained through client usage, and/or application interaction.</span></span> 
  
<span data-ttu-id="ccc5e-215">Se stai distribuendo dispositivi mobili, il tuo HLB deve essere in grado di caricare il bilanciamento delle singole richieste all'interno di una sessione TCP (in effetti devi essere in grado di bilanciare il carico di una singola richiesta in base all'indirizzo IP di destinazione).</span><span class="sxs-lookup"><span data-stu-id="ccc5e-215">If you're deploying mobile devices, your HLB must be able to load balance individual requests within a TCP session (in effect, you need to be able to load balance an individual request based on the target IP address).</span></span>
  
> [!IMPORTANT]
> <span data-ttu-id="ccc5e-216">F5 HLBs ha una caratteristica chiamata OneConnect.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-216">F5 HLBs have a feature called OneConnect.</span></span> <span data-ttu-id="ccc5e-217">Garantisce che ogni richiesta all'interno di una connessione TCP venga caricata individualmente in modo equilibrato.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-217">It ensures that each request within a TCP connection is individually load balanced.</span></span> <span data-ttu-id="ccc5e-218">Se stai distribuendo dispositivi mobili, assicurati che il fornitore di HLB supporti le stesse funzionalità.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-218">If you're deploying mobile devices, ensure your HLB vendor supports the same functionality.</span></span> <span data-ttu-id="ccc5e-219">Le più recenti app per dispositivi mobili iOS richiedono la versione 1,2 di TLS.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-219">The latest iOS mobile apps require TLS version 1.2.</span></span> <span data-ttu-id="ccc5e-220">Per saperne di più, F5 offre impostazioni specifiche per questo.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-220">If you need to know more, F5 provides specific settings for this.</span></span> 
  
<span data-ttu-id="ccc5e-221">Ecco i requisiti di HLB per il Director (facoltativo) e i servizi Web del pool di front end (obbligatorio):</span><span class="sxs-lookup"><span data-stu-id="ccc5e-221">Here are the HLB requirements for the (optional) Director and (required) Front End pool Web Services:</span></span>
  
- <span data-ttu-id="ccc5e-222">Per i VIP dei servizi Web interni, imposta Source_addr persistenza (porta interna 80, 443) in HLB.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-222">For your internal Web Services VIPs, set Source_addr persistence (internal port 80, 443) on your HLB.</span></span> <span data-ttu-id="ccc5e-223">Per Skype for Business Server, Source_addr persistenza indica che più connessioni provenienti da un singolo indirizzo IP vengono sempre inviate a un server, per mantenere lo stato della sessione.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-223">For Skype for Business Server, Source_addr persistence means that multiple connections coming from a single IP address are always sent to one server, to maintain session state.</span></span>
    
- <span data-ttu-id="ccc5e-224">Usare un timeout di inattività TCP di 1800 secondi.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-224">Use a TCP idle timeout of 1800 seconds.</span></span>
    
- <span data-ttu-id="ccc5e-225">Nel firewall tra il proxy inverso e il prossimo HLB del pool di hop, crea una regola per consentire HTTPS: traffico sulla porta 4443, dal proxy inverso a HLB.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-225">On the firewall between your reverse proxy and your next hop pool's HLB, create a rule to allow https: traffic on port 4443, from your reverse proxy to your HLB.</span></span> <span data-ttu-id="ccc5e-226">La tua HLB deve essere configurata per l'ascolto sulle porte 80, 443 e 4443.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-226">Your HLB needs to be configured to listen on ports 80, 443, and 4443.</span></span>
    
#### <a name="summary-of-hlb-affinity-requirements"></a><span data-ttu-id="ccc5e-227">Riepilogo dei requisiti di affinità di HLB</span><span class="sxs-lookup"><span data-stu-id="ccc5e-227">Summary of HLB affinity requirements</span></span>

|<span data-ttu-id="ccc5e-228">**Posizione client/utente**</span><span class="sxs-lookup"><span data-stu-id="ccc5e-228">**Client/user location**</span></span>|<span data-ttu-id="ccc5e-229">**Requisiti di affinità FQDN servizi Web esterni**</span><span class="sxs-lookup"><span data-stu-id="ccc5e-229">**External web services FQDN affinity requirements**</span></span>|<span data-ttu-id="ccc5e-230">**Requisiti di affinità dei servizi Web interni FQSN**</span><span class="sxs-lookup"><span data-stu-id="ccc5e-230">**Internal web services FQSN affinity requirements**</span></span>|
|:-----|:-----|:-----|
|<span data-ttu-id="ccc5e-231">Skype for Business Web App (utenti interni ed esterni)</span><span class="sxs-lookup"><span data-stu-id="ccc5e-231">Skype for Business Web App (internal and external users)</span></span>  <br/> <span data-ttu-id="ccc5e-232">Dispositivo mobile (utenti interni ed esterni</span><span class="sxs-lookup"><span data-stu-id="ccc5e-232">Mobile device (internal and external users</span></span>  <br/> |<span data-ttu-id="ccc5e-233">Nessuna affinità</span><span class="sxs-lookup"><span data-stu-id="ccc5e-233">No affinity</span></span>  <br/> |<span data-ttu-id="ccc5e-234">Affinità indirizzo di origine</span><span class="sxs-lookup"><span data-stu-id="ccc5e-234">Source address affinity</span></span>  <br/> |
|<span data-ttu-id="ccc5e-235">Skype for Business Web App (solo utenti esterni)</span><span class="sxs-lookup"><span data-stu-id="ccc5e-235">Skype for Business Web App (external users only)</span></span>  <br/> <span data-ttu-id="ccc5e-236">Dispositivo mobile (utenti interni ed esterni</span><span class="sxs-lookup"><span data-stu-id="ccc5e-236">Mobile device (internal and external users</span></span>  <br/> |<span data-ttu-id="ccc5e-237">Nessuna affinità</span><span class="sxs-lookup"><span data-stu-id="ccc5e-237">No affinity</span></span>  <br/> |<span data-ttu-id="ccc5e-238">Affinità indirizzo di origine</span><span class="sxs-lookup"><span data-stu-id="ccc5e-238">Source address affinity</span></span>  <br/> |
|<span data-ttu-id="ccc5e-239">Skype for Business Web App (solo utenti interni)</span><span class="sxs-lookup"><span data-stu-id="ccc5e-239">Skype for Business Web App (internal users only)</span></span>  <br/> <span data-ttu-id="ccc5e-240">Dispositivo mobile (non distribuito)</span><span class="sxs-lookup"><span data-stu-id="ccc5e-240">Mobile device (not deployed)</span></span>  <br/> |<span data-ttu-id="ccc5e-241">Nessuna affinità</span><span class="sxs-lookup"><span data-stu-id="ccc5e-241">No affinity</span></span>  <br/> |<span data-ttu-id="ccc5e-242">Affinità indirizzo di origine</span><span class="sxs-lookup"><span data-stu-id="ccc5e-242">Source address affinity</span></span>  <br/> |
   
#### <a name="port-monitoring-for-hlbs"></a><span data-ttu-id="ccc5e-243">Monitoraggio della porta per HLBs</span><span class="sxs-lookup"><span data-stu-id="ccc5e-243">Port monitoring for HLBs</span></span>

<span data-ttu-id="ccc5e-244">Puoi definire il monitoraggio della porta nei dispositivi di bilanciamento del carico hardware per determinare quando i servizi specifici non sono più disponibili, a causa di problemi hardware o comunicazioni.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-244">You define port monitoring on your hardware load balancers to determine when specific services are no longer available, due to hardware or communications failure.</span></span> <span data-ttu-id="ccc5e-245">Ad esempio, se il servizio server front-end (RTCSRV) si arresta perché il server front-end o il pool Front-end non riesce, il monitoraggio di HLB dovrebbe interrompere anche la ricezione del traffico sui servizi Web.</span><span class="sxs-lookup"><span data-stu-id="ccc5e-245">For example, if the Front End Server service (RTCSRV) stops because the Front End Server or Front End pool fails, the HLB monitoring should also stop receiving traffic on the Web Services.</span></span> <span data-ttu-id="ccc5e-246">Devi implementare il monitoraggio della porta su HLB per monitorare le operazioni seguenti per l'interfaccia esterna di HLB:</span><span class="sxs-lookup"><span data-stu-id="ccc5e-246">You should implement port monitoring on the HLB to monitor the following for your HLB external interface:</span></span>
  
|<span data-ttu-id="ccc5e-247">**IP virtuale/porta**</span><span class="sxs-lookup"><span data-stu-id="ccc5e-247">**Virtual IP/Port**</span></span>|<span data-ttu-id="ccc5e-248">**Porta nodi**</span><span class="sxs-lookup"><span data-stu-id="ccc5e-248">**Node Port**</span></span>|<span data-ttu-id="ccc5e-249">**Nodo macchina/monitor**</span><span class="sxs-lookup"><span data-stu-id="ccc5e-249">**Node Machine/Monitor**</span></span>|<span data-ttu-id="ccc5e-250">**Profilo di persistenza**</span><span class="sxs-lookup"><span data-stu-id="ccc5e-250">**Persistence Profile**</span></span>|<span data-ttu-id="ccc5e-251">**Note**</span><span class="sxs-lookup"><span data-stu-id="ccc5e-251">**Notes**</span></span>|
|:-----|:-----|:-----|:-----|:-----|
|<span data-ttu-id="ccc5e-252">\<web_mco_443_vs\>del pool</span><span class="sxs-lookup"><span data-stu-id="ccc5e-252">\<pool\>web_mco_443_vs</span></span>  <br/> <span data-ttu-id="ccc5e-253">443</span><span class="sxs-lookup"><span data-stu-id="ccc5e-253">443</span></span>  <br/> |<span data-ttu-id="ccc5e-254">4443</span><span class="sxs-lookup"><span data-stu-id="ccc5e-254">4443</span></span>  <br/> |<span data-ttu-id="ccc5e-255">Front-end</span><span class="sxs-lookup"><span data-stu-id="ccc5e-255">Front End</span></span>  <br/> <span data-ttu-id="ccc5e-256">5061</span><span class="sxs-lookup"><span data-stu-id="ccc5e-256">5061</span></span>  <br/> |<span data-ttu-id="ccc5e-257">Nessuno</span><span class="sxs-lookup"><span data-stu-id="ccc5e-257">None</span></span>  <br/> |<span data-ttu-id="ccc5e-258">HTTPS</span><span class="sxs-lookup"><span data-stu-id="ccc5e-258">HTTPS</span></span>  <br/> |
|<span data-ttu-id="ccc5e-259">\<web_mco_80_vs\>del pool</span><span class="sxs-lookup"><span data-stu-id="ccc5e-259">\<pool\>web_mco_80_vs</span></span>  <br/> <span data-ttu-id="ccc5e-260">80</span><span class="sxs-lookup"><span data-stu-id="ccc5e-260">80</span></span>  <br/> |<span data-ttu-id="ccc5e-261">8080</span><span class="sxs-lookup"><span data-stu-id="ccc5e-261">8080</span></span>  <br/> |<span data-ttu-id="ccc5e-262">Front-end</span><span class="sxs-lookup"><span data-stu-id="ccc5e-262">Front End</span></span>  <br/> <span data-ttu-id="ccc5e-263">5061</span><span class="sxs-lookup"><span data-stu-id="ccc5e-263">5061</span></span>  <br/> |<span data-ttu-id="ccc5e-264">Nessuno</span><span class="sxs-lookup"><span data-stu-id="ccc5e-264">None</span></span>  <br/> |<span data-ttu-id="ccc5e-265">HTTP</span><span class="sxs-lookup"><span data-stu-id="ccc5e-265">HTTP</span></span>  <br/> |
   
## <a name="hardware-and-software-requirements"></a><span data-ttu-id="ccc5e-266">Requisiti hardware e software</span><span class="sxs-lookup"><span data-stu-id="ccc5e-266">Hardware and software requirements</span></span>

<span data-ttu-id="ccc5e-267">Sono stati descritti i requisiti hardware e software di Edge Server nei [requisiti generali del server per Skype for Business server 2015](../../plan-your-deployment/requirements-for-your-environment/server-requirements.md) e i [requisiti di sistema per la documentazione di Skype for Business Server 2019](../../../SfBServer2019/plan/system-requirements.md) .</span><span class="sxs-lookup"><span data-stu-id="ccc5e-267">We've covered Edge Server hardware and software requirements in our overall [Server requirements for Skype for Business Server 2015](../../plan-your-deployment/requirements-for-your-environment/server-requirements.md) and  [System requirements for Skype for Business Server 2019](../../../SfBServer2019/plan/system-requirements.md) documentation.</span></span>
  
## <a name="collocation"></a><span data-ttu-id="ccc5e-268">Collocazione</span><span class="sxs-lookup"><span data-stu-id="ccc5e-268">Collocation</span></span>

<span data-ttu-id="ccc5e-269">Abbiamo coperto la collocazione dei server Edge nella nostra [base di topologia per la documentazione di Skype for Business Server](../../plan-your-deployment/topology-basics/topology-basics.md) .</span><span class="sxs-lookup"><span data-stu-id="ccc5e-269">We've covered Edge Server collocation in our [Topology Basics for Skype for Business Server](../../plan-your-deployment/topology-basics/topology-basics.md) documentation.</span></span>
  

