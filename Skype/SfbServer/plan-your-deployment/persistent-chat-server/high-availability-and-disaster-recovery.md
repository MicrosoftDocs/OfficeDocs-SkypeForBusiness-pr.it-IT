---
title: Pianificare l'elevata disponibilità e il ripristino di emergenza per il server di chat persistente in Skype for Business Server 2015
ms.reviewer: ''
ms.author: v-lanac
author: lanachin
manager: serdars
ms.date: 5/17/2016
audience: ITPro
ms.topic: conceptual
ms.prod: skype-for-business-itpro
localization_priority: Normal
ms.assetid: d9aa622a-95a3-4d8e-8d49-cbfe183f25bf
description: "Riepilogo: leggere questo argomento per informazioni su come pianificare l'elevata disponibilità e il ripristino di emergenza per il server di chat persistente in Skype for Business Server 2015."
ms.openlocfilehash: 0cdd1d17680f0546a0081bb769e2c6f45a370d0c
ms.sourcegitcommit: d4248fefd706616bd3ccc5b510a6696303fa88e1
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/02/2019
ms.locfileid: "36195965"
---
# <a name="plan-for-high-availability-and-disaster-recovery-for-persistent-chat-server-in-skype-for-business-server-2015"></a><span data-ttu-id="70e50-103">Pianificare l'elevata disponibilità e il ripristino di emergenza per il server di chat persistente in Skype for Business Server 2015</span><span class="sxs-lookup"><span data-stu-id="70e50-103">Plan for high availability and disaster recovery for Persistent Chat Server in Skype for Business Server 2015</span></span>
 
<span data-ttu-id="70e50-104">**Riepilogo:** Leggere questo argomento per informazioni su come pianificare l'elevata disponibilità e il ripristino di emergenza per il server di chat persistente in Skype for Business Server 2015.</span><span class="sxs-lookup"><span data-stu-id="70e50-104">**Summary:** Read this topic to learn how to plan for high availability and disaster recovery for Persistent Chat Server in Skype for Business Server 2015.</span></span>
  
<span data-ttu-id="70e50-105">La disponibilità elevata e il ripristino di emergenza per il server di chat persistente richiedono risorse aggiuntive oltre a quelle in genere necessarie per l'operazione completa.</span><span class="sxs-lookup"><span data-stu-id="70e50-105">High availability and disaster recovery for Persistent Chat Server require additional resources beyond what is typically needed for full operation.</span></span> 
  
> [!NOTE]
> <span data-ttu-id="70e50-106">L'uso di gruppi di disponibilità di SQL AlwaysOn non è supportato con i database del server di chat permanenti.</span><span class="sxs-lookup"><span data-stu-id="70e50-106">Using SQL AlwaysOn Availability Groups is not supported with Persistent Chat Server databases.</span></span> 

> [!NOTE] 
> <span data-ttu-id="70e50-107">La chat persistente è disponibile in Skype for Business Server 2015 ma non è più supportata in Skype for Business Server 2019.</span><span class="sxs-lookup"><span data-stu-id="70e50-107">Persistent chat is available in Skype for Business Server 2015 but is no longer supported in Skype for Business Server 2019.</span></span> <span data-ttu-id="70e50-108">La stessa funzionalità è disponibile in teams.</span><span class="sxs-lookup"><span data-stu-id="70e50-108">The same functionality is available in Teams.</span></span> <span data-ttu-id="70e50-109">Per altre informazioni, vedere [Introduzione all'aggiornamento di Microsoft teams](/microsoftteams/upgrade-start-here).</span><span class="sxs-lookup"><span data-stu-id="70e50-109">For more information, see [Getting started with your Microsoft Teams upgrade](/microsoftteams/upgrade-start-here).</span></span> <span data-ttu-id="70e50-110">Se è necessario usare la chat persistente, è possibile eseguire la migrazione degli utenti che richiedono questa funzionalità ai team o continuare a usare Skype for Business Server 2015.</span><span class="sxs-lookup"><span data-stu-id="70e50-110">If you need to use Persistent chat, your choices are to either migrate users requiring this functionality to Teams, or to continue using Skype for Business Server 2015.</span></span> 
  
## <a name="resource-requirements"></a><span data-ttu-id="70e50-111">Requisiti per le risorse</span><span class="sxs-lookup"><span data-stu-id="70e50-111">Resource requirements</span></span>

<span data-ttu-id="70e50-112">Prima di configurare il server di chat persistente per l'elevata disponibilità e il ripristino di emergenza, verificare di avere le risorse aggiuntive seguenti.</span><span class="sxs-lookup"><span data-stu-id="70e50-112">Before configuring Persistent Chat Server for high availability and disaster recovery, ensure that you have the following additional resources.</span></span> 
  
- <span data-ttu-id="70e50-113">Un'istanza di database dedicata situata nello stesso centro dati fisico in cui si trova la parte anteriore iniziale del servizio server di chat persistente.</span><span class="sxs-lookup"><span data-stu-id="70e50-113">One dedicated database instance located in the same physical data center in which the home front end of the Persistent Chat Server service is located.</span></span> <span data-ttu-id="70e50-114">Questo database fungerà da mirror di SQL Server per il database principale della chat persistente.</span><span class="sxs-lookup"><span data-stu-id="70e50-114">This database will serve as the SQL Server mirror for the primary Persistent Chat database.</span></span> <span data-ttu-id="70e50-115">Facoltativamente, è possibile designare un altro server SQL per fungere da Witness per il mirroring se si vuole un failover automatizzato nel database mirror.</span><span class="sxs-lookup"><span data-stu-id="70e50-115">Optionally, designate an additional SQL Server to serve as the mirroring witness if you want an automated failover to the mirror database.</span></span>
    
- <span data-ttu-id="70e50-116">Un'istanza di database dedicata situata nell'altro centro dati fisico.</span><span class="sxs-lookup"><span data-stu-id="70e50-116">One dedicated database instance located in the other physical data center.</span></span> <span data-ttu-id="70e50-117">Questo database fungerà da database secondario di SQL Server log shipping per il database nel centro dati principale.</span><span class="sxs-lookup"><span data-stu-id="70e50-117">This database will serve as the SQL Server Log Shipping secondary database for the database in the primary data center.</span></span>
    
- <span data-ttu-id="70e50-118">Un'istanza del database dedicata che funge da mirror di SQL Server per il database secondario.</span><span class="sxs-lookup"><span data-stu-id="70e50-118">One dedicated database instance to serve as the SQL Server mirror for the secondary database.</span></span> <span data-ttu-id="70e50-119">Facoltativamente, è possibile designare un altro server SQL in server come witness di mirroring.</span><span class="sxs-lookup"><span data-stu-id="70e50-119">Optionally, designate an additional SQL Server to server as the mirroring witness.</span></span> <span data-ttu-id="70e50-120">Entrambi devono essere situati nello stesso centro dati fisico del database secondario.</span><span class="sxs-lookup"><span data-stu-id="70e50-120">Both of these must be located in the same physical data center as the secondary database.</span></span>
    
- <span data-ttu-id="70e50-121">Se è abilitata la conformità del server di chat persistente, sono necessarie altre tre istanze di database dedicate.</span><span class="sxs-lookup"><span data-stu-id="70e50-121">If Persistent Chat Server compliance is enabled, an additional three dedicated database instances are required.</span></span> <span data-ttu-id="70e50-122">La distribuzione è uguale a quelle descritte in precedenza per il database della chat persistente.</span><span class="sxs-lookup"><span data-stu-id="70e50-122">Their distribution is the same as those previously outlined for the Persistent Chat database.</span></span> <span data-ttu-id="70e50-123">Anche se è possibile che il database di conformità condivida la stessa istanza di SQL Server del database di chat persistente, sono consigliate istanze autonome per l'elevata disponibilità e il ripristino di emergenza.</span><span class="sxs-lookup"><span data-stu-id="70e50-123">While it is possible for the compliance database to share the same SQL Server instance as the Persistent Chat database, standalone instances for high availability and disaster recovery are recommended.</span></span>
    
- <span data-ttu-id="70e50-124">Una condivisione file deve essere creata e designata per i registri delle transazioni di log di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="70e50-124">A file share must be created and designated for the SQL Server Log Shipping transaction logs.</span></span> <span data-ttu-id="70e50-125">Tutti i server SQL in entrambi i centri dati che eseguono database di chat permanenti devono avere accesso in lettura/scrittura alla condivisione file.</span><span class="sxs-lookup"><span data-stu-id="70e50-125">All SQL Servers in both data centers that run Persistent Chat databases must have read/write access to this file share.</span></span> <span data-ttu-id="70e50-126">Questa condivisione non è definita come parte di un ruolo di filestore.</span><span class="sxs-lookup"><span data-stu-id="70e50-126">This share is not defined as part of a FileStore role.</span></span>
    
- <span data-ttu-id="70e50-127">Una condivisione file nel server di database secondario per fungere da cartella di destinazione per i registri delle transazioni di SQL Server copiati dalla condivisione file del server principale.</span><span class="sxs-lookup"><span data-stu-id="70e50-127">A file share on the secondary database server to serve as the destination folder for the SQL Server transaction logs that are copied from the primary server file share.</span></span>
    
## <a name="disaster-recovery-and-high-availability-solutions"></a><span data-ttu-id="70e50-128">Soluzioni per il ripristino di emergenza e la disponibilità elevata</span><span class="sxs-lookup"><span data-stu-id="70e50-128">Disaster recovery and high availability solutions</span></span>

<span data-ttu-id="70e50-129">Skype for Business Server supporta più modalità di elevata disponibilità per i server back-end, incluso il mirroring del database.</span><span class="sxs-lookup"><span data-stu-id="70e50-129">Skype for Business Server supports multiple modes of high availability for your Back End Servers, including database mirroring.</span></span> <span data-ttu-id="70e50-130">Per altre informazioni, vedere [pianificare l'elevata disponibilità e il ripristino di emergenza in Skype for Business Server 2015](../../plan-your-deployment/high-availability-and-disaster-recovery/high-availability-and-disaster-recovery.md).</span><span class="sxs-lookup"><span data-stu-id="70e50-130">For more information, see [Plan for high availability and disaster recovery in Skype for Business Server 2015](../../plan-your-deployment/high-availability-and-disaster-recovery/high-availability-and-disaster-recovery.md).</span></span> 
  
<span data-ttu-id="70e50-131">La soluzione di ripristino di emergenza per il server di chat persistente descritta in questo argomento è basata su un pool di server di chat persistente allungato.</span><span class="sxs-lookup"><span data-stu-id="70e50-131">The disaster recovery solution for Persistent Chat Server described in this topic is built on a stretched Persistent Chat Server pool.</span></span> <span data-ttu-id="70e50-132">Non sono previsti requisiti per una rete locale virtuale allungata (VLAN).</span><span class="sxs-lookup"><span data-stu-id="70e50-132">There is no requirement for a stretched virtual local area network (VLAN).</span></span> <span data-ttu-id="70e50-133">Se si estende un pool di server di chat persistente, si configura un pool nella topologia in modo logico, ma si posiziona fisicamente i server nel pool in due centri dati diversi.</span><span class="sxs-lookup"><span data-stu-id="70e50-133">By stretching a Persistent Chat Server pool, you configure one pool in the topology logically, but you physically place the servers in the pool in two different data centers.</span></span> <span data-ttu-id="70e50-134">È possibile configurare il mirroring di SQL Server per il database nello stesso modo e distribuire il database e lo specchio nello stesso centro dati.</span><span class="sxs-lookup"><span data-stu-id="70e50-134">You configure SQL Server mirroring for the database in the same way, and deploy the database and the mirror in the same data center.</span></span> <span data-ttu-id="70e50-135">È necessario configurare un database di backup nel centro dati secondario (con uno specchio facoltativo per ottenere una disponibilità elevata durante il ripristino di emergenza).</span><span class="sxs-lookup"><span data-stu-id="70e50-135">You need to configure a backup database in the secondary data center (with an optional mirror to provide high availability during disaster recovery).</span></span> <span data-ttu-id="70e50-136">Questo è il database di backup usato per il failover durante il ripristino di emergenza.</span><span class="sxs-lookup"><span data-stu-id="70e50-136">This is the backup database used for failover during disaster recovery.</span></span> 
  
<span data-ttu-id="70e50-137">Per informazioni dettagliate su come configurare la disponibilità elevata e il ripristino di emergenza per il server di chat persistente, vedere [configurare la disponibilità elevata e il ripristino di emergenza per il server di chat persistente in Skype for Business server 2015](../../deploy/deploy-persistent-chat-server/configure-hadr-for-persistent-chat.md).</span><span class="sxs-lookup"><span data-stu-id="70e50-137">For details about how to configure high availability and disaster recovery for Persistent Chat Server, see [Configure high availability and disaster recovery for Persistent Chat Server in Skype for Business Server 2015](../../deploy/deploy-persistent-chat-server/configure-hadr-for-persistent-chat.md).</span></span> 
  
<span data-ttu-id="70e50-138">Le figure seguenti mostrano il modo in cui il pool di server di chat persistente può essere configurato in due topologie di pool estese diverse:</span><span class="sxs-lookup"><span data-stu-id="70e50-138">The following figures show how the Persistent Chat Server pool can be configured in two different stretched pool topologies:</span></span>
  
- <span data-ttu-id="70e50-139">Pool di server di chat persistente allungato quando i Data Center sono ubicati geograficamente con larghezza di banda elevata/bassa latenza.</span><span class="sxs-lookup"><span data-stu-id="70e50-139">Stretched Persistent Chat Server pool when data centers are geo-located with high bandwidth/low latency.</span></span>
    
- <span data-ttu-id="70e50-140">Pool di server di chat persistente allungato quando i Data Center sono ubicati geograficamente con larghezza di banda ridotta/alta latenza.</span><span class="sxs-lookup"><span data-stu-id="70e50-140">Stretched Persistent Chat Server pool when data centers are geo-located with low bandwidth/high latency.</span></span>
    
<span data-ttu-id="70e50-141">La figura 1 Mostra una topologia di pool di server di chat persistente allungata in cui i centri dati sono ubicati geograficamente con larghezza di banda elevata/bassa</span><span class="sxs-lookup"><span data-stu-id="70e50-141">Figure 1 shows a stretched Persistent Chat Server pool topology where data centers are geo-located with high bandwidth/low latency.</span></span> <span data-ttu-id="70e50-142">Si presuppone quanto segue per le topologie logiche e fisiche:</span><span class="sxs-lookup"><span data-stu-id="70e50-142">Assume the following for the logical and physical topologies:</span></span>
  
- <span data-ttu-id="70e50-143">La topologia logica è costituita dagli elementi seguenti:</span><span class="sxs-lookup"><span data-stu-id="70e50-143">The logical topology consists of the following:</span></span>
    
  - <span data-ttu-id="70e50-144">Un pool di chat persistente tra i siti 1 e 2 che contengono i server da 1 a 8.</span><span class="sxs-lookup"><span data-stu-id="70e50-144">A Persistent Chat pool across Sites 1 and 2 containing servers 1 through 8.</span></span>
    
  - <span data-ttu-id="70e50-145">Un pool di server front-end, un database di chat persistente, un database con mirroring e, facoltativamente, un database di Witness (non illustrato nel diagramma) che risiede fisicamente nel sito 1.</span><span class="sxs-lookup"><span data-stu-id="70e50-145">A Front End Server pool, a Persistent Chat database, a mirrored database, and, optionally, a witness database (not shown in diagram) residing physically on Site 1.</span></span> 
    
  - <span data-ttu-id="70e50-146">Un secondo pool di server front-end e un database di backup che risiede fisicamente nel sito 2.</span><span class="sxs-lookup"><span data-stu-id="70e50-146">A second Front End Server pool and a backup database residing physically on Site 2.</span></span>
    
- <span data-ttu-id="70e50-147">La topologia fisica è costituita dai siti 1 e 2 come indicato di seguito:</span><span class="sxs-lookup"><span data-stu-id="70e50-147">The physical topology consists of Sites 1 and 2 as follows:</span></span>
    
  - <span data-ttu-id="70e50-148">Un pool di chat persistente, contenente i server da 1 a 4, due attivi, due inattivi nel sito 1.</span><span class="sxs-lookup"><span data-stu-id="70e50-148">A Persistent Chat pool, containing servers 1 through 4, two active, two idle on Site 1.</span></span>
    
  - <span data-ttu-id="70e50-149">Un pool di chat persistente, contenente i server da 5 a 8, due attivi, due inattivi nel sito 2.</span><span class="sxs-lookup"><span data-stu-id="70e50-149">A Persistent Chat pool, containing servers 5 through 8, two active, two idle on Site 2.</span></span>
    
  - <span data-ttu-id="70e50-150">Un pool di server front-end, un database di chat persistente, un database con mirroring e, facoltativamente, un database di Witness (non illustrato nel diagramma) nel sito 1.</span><span class="sxs-lookup"><span data-stu-id="70e50-150">A Front End Server pool, a Persistent Chat database, a mirrored database, and, optionally, a witness database (not shown in diagram) on Site 1.</span></span>
    
  - <span data-ttu-id="70e50-151">Un pool di server front-end e un database di backup, ovvero la destinazione di distribuzione del log SQL, nel sito 2.</span><span class="sxs-lookup"><span data-stu-id="70e50-151">A Front End Server Pool, and a backup database, which is the SQL log shipping target, on Site 2.</span></span>
    
<span data-ttu-id="70e50-152">**Pool di server di chat persistente allungato quando i Data Center si trovano in posizione geo con larghezza di banda elevata/bassa latenza**</span><span class="sxs-lookup"><span data-stu-id="70e50-152">**Stretched Persistent Chat Server pool when data centers are geo-located with high bandwidth/low latency**</span></span>

![Chat persistente allungato il pool con larghezza di banda elevata/bassa latenza](../../media/55cf3d4b-5f51-4d2f-84ca-b4a13dc5eba3.png)
  
<span data-ttu-id="70e50-154">La figura 2 Mostra una topologia di pool di server di chat persistente allungata in cui i centri dati sono ubicati geograficamente con larghezza di banda ridotta o elevata</span><span class="sxs-lookup"><span data-stu-id="70e50-154">Figure 2 shows a stretched Persistent Chat Server pool topology where data centers are geo-located with low bandwidth/high latency.</span></span>
  
- <span data-ttu-id="70e50-155">La topologia logica è costituita dagli elementi seguenti:</span><span class="sxs-lookup"><span data-stu-id="70e50-155">The logical topology consists of the following:</span></span>
    
  - <span data-ttu-id="70e50-156">Un pool di chat persistente tra i siti 1 e 2 che contengono i server da 1 a 8.</span><span class="sxs-lookup"><span data-stu-id="70e50-156">A Persistent Chat pool across Sites 1 and 2 containing servers 1 through 8.</span></span>
    
  - <span data-ttu-id="70e50-157">Un pool di server front-end, un database di chat persistente, un database con mirroring e, facoltativamente, un database di Witness (non illustrato nel diagramma) che risiede fisicamente nel sito 1.</span><span class="sxs-lookup"><span data-stu-id="70e50-157">A Front End Server pool, a Persistent Chat database, a mirrored database, and, optionally, a witness database (not shown in diagram) residing physically on Site 1.</span></span> 
    
  - <span data-ttu-id="70e50-158">Un secondo pool di server front-end e un database di backup che risiede fisicamente nel sito 2.</span><span class="sxs-lookup"><span data-stu-id="70e50-158">A second Front End Server pool and a backup database residing physically on Site 2.</span></span>
    
- <span data-ttu-id="70e50-159">La topologia fisica è costituita dai siti 1 e 2 come indicato di seguito:</span><span class="sxs-lookup"><span data-stu-id="70e50-159">The physical topology consists of Sites 1 and 2 as follows:</span></span>
    
  - <span data-ttu-id="70e50-160">Un pool di chat persistente, contenente i server da 1 a 4, tutti attivi nel sito 1.</span><span class="sxs-lookup"><span data-stu-id="70e50-160">A Persistent Chat pool, containing servers 1 through 4, all active, on Site 1.</span></span>
    
  - <span data-ttu-id="70e50-161">Un pool di chat persistente, contenente i server da 5 a 8, tutti inattivi, nel sito 2.</span><span class="sxs-lookup"><span data-stu-id="70e50-161">A Persistent Chat pool, containing servers 5 through 8, all idle, on Site 2.</span></span>
    
  - <span data-ttu-id="70e50-162">Un pool di server front-end, un database di chat persistente, un database con mirroring e, facoltativamente, un database di Witness (non illustrato nel diagramma) nel sito 1.</span><span class="sxs-lookup"><span data-stu-id="70e50-162">A Front End Server pool, a Persistent Chat database, a mirrored database, and, optionally, a witness database (not shown in diagram) on Site 1.</span></span>
    
  - <span data-ttu-id="70e50-163">Un pool di server front-end e un database di backup, ovvero la destinazione di distribuzione del log SQL, nel sito 2.</span><span class="sxs-lookup"><span data-stu-id="70e50-163">A Front End Server pool, and a backup database, which is the SQL log shipping target, on Site 2.</span></span>
    
<span data-ttu-id="70e50-164">**Pool di server di chat persistente allungato quando i Data Center sono ubicati in posizione geografica con larghezza di banda ridotta o elevata**</span><span class="sxs-lookup"><span data-stu-id="70e50-164">**Stretched Persistent Chat Server pool when data centers are geo-located with low bandwidth/high latency**</span></span>

![Chat persistente allungato il pool con larghezza di banda bassa/alta latenza](../../media/40cbd902-57b8-4d57-a61c-cde4e0bd47f0.png)
  

