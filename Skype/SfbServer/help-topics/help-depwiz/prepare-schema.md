---
title: Preparare lo schema
ms.reviewer: ''
ms.author: v-cichur
author: cichur
manager: serdars
ms.date: 2/8/2018
audience: ITPro
ms.topic: article
f1.keywords:
- CSH
ms.custom:
- ms.lync.dep.DeployMainSchemaPrep
ms.prod: skype-for-business-itpro
localization_priority: Normal
ms.assetid: 337aa234-c5f3-4468-a047-2023848e942c
description: Per preparare lo schema per Servizi di dominio Active Directory, eseguire il passaggio Preparare lo schema nella Distribuzione guidata di Skype for Business Server. Fare clic su Esegui per avviare la preparazione dello schema. Il passaggio Prepare Schema consente di leggere i file di definizione dello schema forniti nella directory /Program Files/Microsoft Lync Server 2013/Deployment/Setup nel sistema in cui è in esecuzione la Distribuzione guidata. Questi file sono disponibili anche nel supporto di installazione nella directory Support/Schema. Nel corso del passaggio di preparazione dello schema, quest'ultimo verrà esteso e verrà segnalato lo stato del processo. Verrà inoltre notificato il completamento del processo. La schermata di riepilogo consentirà di visualizzare i registri del processo. Esaminare tali registri per accertarsi che la preparazione sia stata completata correttamente.
ms.openlocfilehash: c3279be54ad5f68d5c2ee61d8d3c12c0fc9d9203
ms.sourcegitcommit: 01087be29daa3abce7d3b03a55ba5ef8db4ca161
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/23/2021
ms.locfileid: "51108622"
---
# <a name="prepare-schema"></a><span data-ttu-id="67c80-110">Preparare lo schema</span><span class="sxs-lookup"><span data-stu-id="67c80-110">Prepare Schema</span></span>
 
<span data-ttu-id="67c80-111">Per preparare lo schema per Servizi di dominio Active Directory, eseguire il passaggio Preparare lo schema nella Distribuzione guidata di Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="67c80-111">To prepare the schema for Active Directory Domain Services, you run the Prepare Schema step in the Skype for Business Server Deployment Wizard.</span></span> <span data-ttu-id="67c80-112">Fare clic su **Esegui** per avviare la preparazione dello schema.</span><span class="sxs-lookup"><span data-stu-id="67c80-112">Click **Run** to begin the preparation of the schema.</span></span> <span data-ttu-id="67c80-113">Il passaggio Prepare Schema legge i file di definizione dello schema forniti nella directory \Programmi\Microsoft Lync Server 2013\Deployment\Setup nel sistema in cui è in esecuzione la Distribuzione guidata.</span><span class="sxs-lookup"><span data-stu-id="67c80-113">The Prepare Schema step reads the supplied schema definition files in the \Program Files\Microsoft Lync Server 2013\Deployment\Setup directory on the system that the Deployment Wizard is running on.</span></span> <span data-ttu-id="67c80-114">Tali file sono inoltre disponibili nella directory \Support\Schema dei supporti di installazione.</span><span class="sxs-lookup"><span data-stu-id="67c80-114">These files are also available on the installation media in the \Support\Schema directory.</span></span> <span data-ttu-id="67c80-115">Nel corso del passaggio di preparazione dello schema, quest'ultimo verrà esteso e verrà segnalato lo stato del processo.</span><span class="sxs-lookup"><span data-stu-id="67c80-115">The Prepare Schema step will extend the schema and report the status of the process.</span></span> <span data-ttu-id="67c80-116">Verrà inoltre notificato il completamento del processo.</span><span class="sxs-lookup"><span data-stu-id="67c80-116">It will also notify you when the process is complete.</span></span> <span data-ttu-id="67c80-117">La schermata di riepilogo consentirà di visualizzare i registri del processo.</span><span class="sxs-lookup"><span data-stu-id="67c80-117">The summary screen will enable you to view the logs of the process.</span></span> <span data-ttu-id="67c80-118">Esaminare tali registri per accertarsi che la preparazione sia stata completata correttamente.</span><span class="sxs-lookup"><span data-stu-id="67c80-118">Review the logs to be sure that the preparation was complete and successful.</span></span>
  
> [!IMPORTANT]
> <span data-ttu-id="67c80-119">Per estendere lo schema, è necessario essere connessi al dominio come membri del gruppo Schema Admins e del gruppo Enterprise Admins.</span><span class="sxs-lookup"><span data-stu-id="67c80-119">To extend the schema, you must be logged into the domain as a member of the Schema Admins group and the Enterprise Admins group.</span></span> 
  
<span data-ttu-id="67c80-120">Vengono aggiunte classi e attributi per estendere lo schema di Servizi di dominio Active Directory per supportare gli oggetti server, servizi e utenti di Skype for Business Server 2015.</span><span class="sxs-lookup"><span data-stu-id="67c80-120">Classes and attributes are added to extend the Active Directory Domain Services schema to support Skype for Business Server 2015 server, service, and user objects.</span></span> <span data-ttu-id="67c80-121">Prima di estendere lo schema, è consigliabile effettuare un backup dello stato del sistema per il controller di dominio con il ruolo master schema.</span><span class="sxs-lookup"><span data-stu-id="67c80-121">Before extending the schema, you should take a System State backup of the domain controller that holds the schema master role.</span></span> <span data-ttu-id="67c80-122">Per informazioni dettagliate sul processo di backup per Windows Server 2008 R2 con SP1, vedere [https://go.microsoft.com/fwlink/p/?linkId=207198](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/ee849849(v=ws.10)) .</span><span class="sxs-lookup"><span data-stu-id="67c80-122">For details about the backup process for Windows Server 2008 R2 with SP1, see [https://go.microsoft.com/fwlink/p/?linkId=207198](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/ee849849(v=ws.10)).</span></span> <span data-ttu-id="67c80-123">Per Windows Server 2003 e Windows Server 2003 R2, vedere [https://go.microsoft.com/fwlink/p/?linkId=207199](/previous-versions/windows/it-pro/windows-server-2003/cc787254(v=ws.10)) .</span><span class="sxs-lookup"><span data-stu-id="67c80-123">For Windows Server 2003 and Windows Server 2003 R2, see [https://go.microsoft.com/fwlink/p/?linkId=207199](/previous-versions/windows/it-pro/windows-server-2003/cc787254(v=ws.10)).</span></span>
  
> [!CAUTION]
> <span data-ttu-id="67c80-124">L'estensione dello schema non è un'operazione reversibile.</span><span class="sxs-lookup"><span data-stu-id="67c80-124">Extending the schema is not reversible.</span></span> <span data-ttu-id="67c80-125">È consigliabile fare tutti gli sforzi possibili per limitare il potenziale impatto di un'estensione dello schema non riuscita e per garantire che l'estensione dello schema avrà esito positivo.</span><span class="sxs-lookup"><span data-stu-id="67c80-125">You should make all possible efforts to limit the potential impact of a failed schema extension, and to ensure that the extension of the schema will be successful.</span></span> <span data-ttu-id="67c80-126">Ciò è particolarmente importante in caso di perdita di comunicazione o di qualsiasi altro errore nel server.</span><span class="sxs-lookup"><span data-stu-id="67c80-126">This is particularly critical in the event of loss of communication or any other failure at the server.</span></span> <span data-ttu-id="67c80-127">È consigliabile eseguire un backup del controller di dominio master schema e un backup completo di Active Directory.</span><span class="sxs-lookup"><span data-stu-id="67c80-127">You should perform a backup of the schema master domain controller and a complete backup of Active Directory.</span></span> 
  
<span data-ttu-id="67c80-128">Per eseguire un backup del controller di dominio master schema e un backup completo di Active Directory:</span><span class="sxs-lookup"><span data-stu-id="67c80-128">To perform a backup of the schema master domain controller and a complete backup of Active Directory:</span></span>
  
1. <span data-ttu-id="67c80-129">Disconnettere dalla rete il controller di dominio con il ruolo master schema.</span><span class="sxs-lookup"><span data-stu-id="67c80-129">Disconnect the domain controller that holds the schema master role from the network.</span></span>
    
2. <span data-ttu-id="67c80-130">Effettuare un backup dello stato del sistema per il controller di dominio con il master schema.</span><span class="sxs-lookup"><span data-stu-id="67c80-130">Perform a System State backup of the domain controller that holds the schema master.</span></span>
    
3. <span data-ttu-id="67c80-131">Estendere lo schema.</span><span class="sxs-lookup"><span data-stu-id="67c80-131">Extend the schema.</span></span>
    
4. <span data-ttu-id="67c80-132">Quando l'estensione dello schema ha esito positivo, riconnettere il controller di dominio alla rete e verificare che la replica sia attiva e funzionante.</span><span class="sxs-lookup"><span data-stu-id="67c80-132">When the schema extension is successful, reconnect the domain controller to the network, and be sure that replication is active and working.</span></span>
    
5. <span data-ttu-id="67c80-133">Nel caso improbabile di un errore di estensione dello schema, ripristinare lo stato del sistema del controller di dominio e di Active Directory utilizzando il backup dello stato del sistema eseguito in precedenza.</span><span class="sxs-lookup"><span data-stu-id="67c80-133">In the unlikely event of a schema extension failure, restore the systems state of the domain controller and Active Directory by using the System State backup that you took earlier.</span></span>
    
> [!NOTE]
> <span data-ttu-id="67c80-134">Se è necessario esaminare i file di registro creati dalla Distribuzione guidata di Skype for Business Server, è possibile trovare i file nel computer in cui è stata eseguita la Distribuzione guidata nella directory Utenti dell'utente di Active Directory che ha eseguito il passaggio.</span><span class="sxs-lookup"><span data-stu-id="67c80-134">If you need to review the log files that are created by the Skype for Business Server Deployment Wizard, you can find the files on the computer where the Deployment Wizard was run, in the Users directory of the Active Directory user who ran the step.</span></span> <span data-ttu-id="67c80-135">Ad esempio, se l'utente ha eseguito l'accesso come amministratore di dominio nel Contoso.net di dominio, i file di registro si trovano in: C:\Users\Administrator.Contoso\AppData\Local\Temp</span><span class="sxs-lookup"><span data-stu-id="67c80-135">For example, if the user logged in as the domain administrator in the domain Contoso.net, the log files are located in: C:\Users\Administrator.Contoso\AppData\Local\Temp</span></span> 
